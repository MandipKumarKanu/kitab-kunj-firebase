function TI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bw={exports:{}},Dh={},Tw={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),kI=Symbol.for("react.portal"),II=Symbol.for("react.fragment"),SI=Symbol.for("react.strict_mode"),AI=Symbol.for("react.profiler"),CI=Symbol.for("react.provider"),NI=Symbol.for("react.context"),PI=Symbol.for("react.forward_ref"),RI=Symbol.for("react.suspense"),OI=Symbol.for("react.memo"),jI=Symbol.for("react.lazy"),Wv=Symbol.iterator;function DI(t){return t===null||typeof t!="object"?null:(t=Wv&&t[Wv]||t["@@iterator"],typeof t=="function"?t:null)}var kw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Iw=Object.assign,Sw={};function Va(t,e,n){this.props=t,this.context=e,this.refs=Sw,this.updater=n||kw}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Aw(){}Aw.prototype=Va.prototype;function Ug(t,e,n){this.props=t,this.context=e,this.refs=Sw,this.updater=n||kw}var Bg=Ug.prototype=new Aw;Bg.constructor=Ug;Iw(Bg,Va.prototype);Bg.isPureReactComponent=!0;var Hv=Array.isArray,Cw=Object.prototype.hasOwnProperty,zg={current:null},Nw={key:!0,ref:!0,__self:!0,__source:!0};function Pw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Cw.call(e,r)&&!Nw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fc,type:t,key:s,ref:o,props:i,_owner:zg.current}}function LI(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $g(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function MI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qv=/\/+/g;function qf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MI(""+t.key):e.toString(36)}function Qu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fc:case kI:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+qf(o,0):r,Hv(i)?(n="",t!=null&&(n=t.replace(qv,"$&/")+"/"),Qu(i,e,n,"",function(u){return u})):i!=null&&($g(i)&&(i=LI(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(qv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Hv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+qf(s,a);o+=Qu(s,e,n,l,i)}else if(l=DI(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+qf(s,a++),o+=Qu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function bu(t,e,n){if(t==null)return t;var r=[],i=0;return Qu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xn={current:null},Yu={transition:null},FI={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:zg};function Rw(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:bu,forEach:function(t,e,n){bu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bu(t,function(){e++}),e},toArray:function(t){return bu(t,function(e){return e})||[]},only:function(t){if(!$g(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Va;Re.Fragment=II;Re.Profiler=AI;Re.PureComponent=Ug;Re.StrictMode=SI;Re.Suspense=RI;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=FI;Re.act=Rw;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Iw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=zg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Cw.call(e,l)&&!Nw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fc,type:t.type,key:i,ref:s,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:NI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CI,_context:t},t.Consumer=t};Re.createElement=Pw;Re.createFactory=function(t){var e=Pw.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:PI,render:t}};Re.isValidElement=$g;Re.lazy=function(t){return{$$typeof:jI,_payload:{_status:-1,_result:t},_init:VI}};Re.memo=function(t,e){return{$$typeof:OI,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Yu.transition;Yu.transition={};try{t()}finally{Yu.transition=e}};Re.unstable_act=Rw;Re.useCallback=function(t,e){return xn.current.useCallback(t,e)};Re.useContext=function(t){return xn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return xn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return xn.current.useEffect(t,e)};Re.useId=function(){return xn.current.useId()};Re.useImperativeHandle=function(t,e,n){return xn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return xn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return xn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return xn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return xn.current.useReducer(t,e,n)};Re.useRef=function(t){return xn.current.useRef(t)};Re.useState=function(t){return xn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return xn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return xn.current.useTransition()};Re.version="18.3.1";Tw.exports=Re;var W=Tw.exports;const Je=jh(W),UI=TI({__proto__:null,default:Je},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BI=W,zI=Symbol.for("react.element"),$I=Symbol.for("react.fragment"),WI=Object.prototype.hasOwnProperty,HI=BI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qI={key:!0,ref:!0,__self:!0,__source:!0};function Ow(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)WI.call(e,r)&&!qI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zI,type:t,key:s,ref:o,props:i,_owner:HI.current}}Dh.Fragment=$I;Dh.jsx=Ow;Dh.jsxs=Ow;bw.exports=Dh;var h=bw.exports,jw={exports:{}},qn={},Dw={exports:{}},Lw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,F){var H=B.length;B.push(F);e:for(;0<H;){var oe=H-1>>>1,Y=B[oe];if(0<i(Y,F))B[oe]=F,B[H]=Y,H=oe;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var F=B[0],H=B.pop();if(H!==F){B[0]=H;e:for(var oe=0,Y=B.length,ie=Y>>>1;oe<ie;){var X=2*(oe+1)-1,G=B[X],me=X+1,Ne=B[me];if(0>i(G,H))me<Y&&0>i(Ne,G)?(B[oe]=Ne,B[me]=H,oe=me):(B[oe]=G,B[X]=H,oe=X);else if(me<Y&&0>i(Ne,H))B[oe]=Ne,B[me]=H,oe=me;else break e}}return F}function i(B,F){var H=B.sortIndex-F.sortIndex;return H!==0?H:B.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,y=!1,w=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(B){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=B)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function N(B){if(P=!1,k(B),!w)if(n(l)!==null)w=!0,L(D);else{var F=n(u);F!==null&&j(N,F.startTime-B)}}function D(B,F){w=!1,P&&(P=!1,_(g),g=-1),y=!0;var H=p;try{for(k(F),f=n(l);f!==null&&(!(f.expirationTime>F)||B&&!A());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,p=f.priorityLevel;var Y=oe(f.expirationTime<=F);F=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),k(F)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var X=n(u);X!==null&&j(N,X.startTime-F),ie=!1}return ie}finally{f=null,p=H,y=!1}}var R=!1,S=null,g=-1,v=5,b=-1;function A(){return!(t.unstable_now()-b<v)}function I(){if(S!==null){var B=t.unstable_now();b=B;var F=!0;try{F=S(!0,B)}finally{F?T():(R=!1,S=null)}}else R=!1}var T;if(typeof x=="function")T=function(){x(I)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,U=M.port2;M.port1.onmessage=I,T=function(){U.postMessage(null)}}else T=function(){C(I,0)};function L(B){S=B,R||(R=!0,T())}function j(B,F){g=C(function(){B(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){w||y||(w=!0,L(D))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var H=p;p=F;try{return B()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,F){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var H=p;p=B;try{return F()}finally{p=H}},t.unstable_scheduleCallback=function(B,F,H){var oe=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?oe+H:oe):H=oe,B){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,B={id:d++,callback:F,priorityLevel:B,startTime:H,expirationTime:Y,sortIndex:-1},H>oe?(B.sortIndex=H,e(u,B),n(l)===null&&B===n(u)&&(P?(_(g),g=-1):P=!0,j(N,H-oe))):(B.sortIndex=Y,e(l,B),w||y||(w=!0,L(D))),B},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(B){var F=p;return function(){var H=p;p=F;try{return B.apply(this,arguments)}finally{p=H}}}})(Lw);Dw.exports=Lw;var KI=Dw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GI=W,Hn=KI;function ne(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mw=new Set,Yl={};function wo(t,e){pa(t,e),pa(t+"Capture",e)}function pa(t,e){for(Yl[t]=e,t=0;t<e.length;t++)Mw.add(e[t])}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hp=Object.prototype.hasOwnProperty,QI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kv={},Gv={};function YI(t){return Hp.call(Gv,t)?!0:Hp.call(Kv,t)?!1:QI.test(t)?Gv[t]=!0:(Kv[t]=!0,!1)}function ZI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XI(t,e,n,r){if(e===null||typeof e>"u"||ZI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function En(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new En(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new En(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new En(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new En(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new En(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new En(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new En(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new En(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new En(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wg=/[\-:]([a-z])/g;function Hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wg,Hg);Qt[e]=new En(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wg,Hg);Qt[e]=new En(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wg,Hg);Qt[e]=new En(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new En(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new En("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new En(t,1,!1,t.toLowerCase(),null,!0,!0)});function qg(t,e,n,r){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XI(e,n,i,r)&&(n=null),r||i===null?YI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=GI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Fo=Symbol.for("react.fragment"),Kg=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),Fw=Symbol.for("react.context"),Gg=Symbol.for("react.forward_ref"),Kp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),Qg=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),Uw=Symbol.for("react.offscreen"),Qv=Symbol.iterator;function ol(t){return t===null||typeof t!="object"?null:(t=Qv&&t[Qv]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,Kf;function yl(t){if(Kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kf=e&&e[1]||""}return`
`+Kf+t}var Gf=!1;function Qf(t,e){if(!t||Gf)return"";Gf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Gf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yl(t):""}function JI(t){switch(t.tag){case 5:return yl(t.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return t=Qf(t.type,!1),t;case 11:return t=Qf(t.type.render,!1),t;case 1:return t=Qf(t.type,!0),t;default:return""}}function Qp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fo:return"Fragment";case Vo:return"Portal";case qp:return"Profiler";case Kg:return"StrictMode";case Kp:return"Suspense";case Gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fw:return(t.displayName||"Context")+".Consumer";case Vw:return(t._context.displayName||"Context")+".Provider";case Gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qg:return e=t.displayName||null,e!==null?e:Qp(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return Qp(t(e))}catch{}}return null}function eS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qp(e);case 8:return e===Kg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tS(t){var e=Bw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ku(t){t._valueTracker||(t._valueTracker=tS(t))}function zw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Bw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yp(t,e){var n=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $w(t,e){e=e.checked,e!=null&&qg(t,"checked",e,!1)}function Zp(t,e){$w(t,e);var n=hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Xp(t,e.type,hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Xp(t,e,n){(e!=="number"||xd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vl=Array.isArray;function ta(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+hs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ne(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ne(92));if(vl(n)){if(1<n.length)throw Error(ne(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:hs(n)}}function Ww(t,e){var n=hs(e.value),r=hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Hw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function em(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Iu,qw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Iu=Iu||document.createElement("div"),Iu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Iu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nS=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(t){nS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pl[e]=Pl[t]})});function Kw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pl.hasOwnProperty(t)&&Pl[t]?(""+e).trim():e+"px"}function Gw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rS=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tm(t,e){if(e){if(rS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ne(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ne(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ne(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ne(62))}}function nm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rm=null;function Yg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var im=null,na=null,ra=null;function e1(t){if(t=zc(t)){if(typeof im!="function")throw Error(ne(280));var e=t.stateNode;e&&(e=Uh(e),im(t.stateNode,t.type,e))}}function Qw(t){na?ra?ra.push(t):ra=[t]:na=t}function Yw(){if(na){var t=na,e=ra;if(ra=na=null,e1(t),e)for(t=0;t<e.length;t++)e1(e[t])}}function Zw(t,e){return t(e)}function Xw(){}var Yf=!1;function Jw(t,e,n){if(Yf)return t(e,n);Yf=!0;try{return Zw(t,e,n)}finally{Yf=!1,(na!==null||ra!==null)&&(Xw(),Yw())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=Uh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ne(231,e,typeof n));return n}var sm=!1;if(fi)try{var al={};Object.defineProperty(al,"passive",{get:function(){sm=!0}}),window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{sm=!1}function iS(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Rl=!1,Ed=null,bd=!1,om=null,sS={onError:function(t){Rl=!0,Ed=t}};function oS(t,e,n,r,i,s,o,a,l){Rl=!1,Ed=null,iS.apply(sS,arguments)}function aS(t,e,n,r,i,s,o,a,l){if(oS.apply(this,arguments),Rl){if(Rl){var u=Ed;Rl=!1,Ed=null}else throw Error(ne(198));bd||(bd=!0,om=u)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ex(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t1(t){if(xo(t)!==t)throw Error(ne(188))}function lS(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(ne(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t1(i),t;if(s===r)return t1(i),e;s=s.sibling}throw Error(ne(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ne(189))}}if(n.alternate!==r)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?t:e}function tx(t){return t=lS(t),t!==null?nx(t):null}function nx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nx(t);if(e!==null)return e;t=t.sibling}return null}var rx=Hn.unstable_scheduleCallback,n1=Hn.unstable_cancelCallback,cS=Hn.unstable_shouldYield,uS=Hn.unstable_requestPaint,bt=Hn.unstable_now,dS=Hn.unstable_getCurrentPriorityLevel,Zg=Hn.unstable_ImmediatePriority,ix=Hn.unstable_UserBlockingPriority,Td=Hn.unstable_NormalPriority,hS=Hn.unstable_LowPriority,sx=Hn.unstable_IdlePriority,Lh=null,Mr=null;function fS(t){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:gS,pS=Math.log,mS=Math.LN2;function gS(t){return t>>>=0,t===0?32:31-(pS(t)/mS|0)|0}var Su=64,Au=4194304;function _l(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=_l(a):(s&=o,s!==0&&(r=_l(s)))}else o=n&~i,o!==0?r=_l(o):s!==0&&(r=_l(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),i=1<<n,r|=t[n],e&=~i;return r}function yS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=yS(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function am(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ox(){var t=Su;return Su<<=1,!(Su&4194240)&&(Su=64),t}function Zf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function _S(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ke=0;function ax(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lx,Jg,cx,ux,dx,lm=!1,Cu=[],Xi=null,Ji=null,es=null,Jl=new Map,ec=new Map,Vi=[],wS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r1(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(e.pointerId)}}function ll(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=zc(e),e!==null&&Jg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xS(t,e,n,r,i){switch(e){case"focusin":return Xi=ll(Xi,t,e,n,r,i),!0;case"dragenter":return Ji=ll(Ji,t,e,n,r,i),!0;case"mouseover":return es=ll(es,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jl.set(s,ll(Jl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ec.set(s,ll(ec.get(s)||null,t,e,n,r,i)),!0}return!1}function hx(t){var e=$s(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=ex(n),e!==null){t.blockedOn=e,dx(t.priority,function(){cx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=cm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rm=r,n.target.dispatchEvent(r),rm=null}else return e=zc(n),e!==null&&Jg(e),t.blockedOn=n,!1;e.shift()}return!0}function i1(t,e,n){Zu(t)&&n.delete(e)}function ES(){lm=!1,Xi!==null&&Zu(Xi)&&(Xi=null),Ji!==null&&Zu(Ji)&&(Ji=null),es!==null&&Zu(es)&&(es=null),Jl.forEach(i1),ec.forEach(i1)}function cl(t,e){t.blockedOn===e&&(t.blockedOn=null,lm||(lm=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,ES)))}function tc(t){function e(i){return cl(i,t)}if(0<Cu.length){cl(Cu[0],t);for(var n=1;n<Cu.length;n++){var r=Cu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&cl(Xi,t),Ji!==null&&cl(Ji,t),es!==null&&cl(es,t),Jl.forEach(e),ec.forEach(e),n=0;n<Vi.length;n++)r=Vi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vi.length&&(n=Vi[0],n.blockedOn===null);)hx(n),n.blockedOn===null&&Vi.shift()}var ia=Ti.ReactCurrentBatchConfig,Id=!0;function bS(t,e,n,r){var i=Ke,s=ia.transition;ia.transition=null;try{Ke=1,e0(t,e,n,r)}finally{Ke=i,ia.transition=s}}function TS(t,e,n,r){var i=Ke,s=ia.transition;ia.transition=null;try{Ke=4,e0(t,e,n,r)}finally{Ke=i,ia.transition=s}}function e0(t,e,n,r){if(Id){var i=cm(t,e,n,r);if(i===null)ap(t,e,r,Sd,n),r1(t,r);else if(xS(i,t,e,n,r))r.stopPropagation();else if(r1(t,r),e&4&&-1<wS.indexOf(t)){for(;i!==null;){var s=zc(i);if(s!==null&&lx(s),s=cm(t,e,n,r),s===null&&ap(t,e,r,Sd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ap(t,e,r,null,n)}}var Sd=null;function cm(t,e,n,r){if(Sd=null,t=Yg(r),t=$s(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ex(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sd=t,null}function fx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dS()){case Zg:return 1;case ix:return 4;case Td:case hS:return 16;case sx:return 536870912;default:return 16}default:return 16}}var Ki=null,t0=null,Xu=null;function px(){if(Xu)return Xu;var t,e=t0,n=e.length,r,i="value"in Ki?Ki.value:Ki.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Xu=i.slice(t,1<r?1-r:void 0)}function Ju(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function s1(){return!1}function Kn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Nu:s1,this.isPropagationStopped=s1,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=Kn(Fa),Bc=ft({},Fa,{view:0,detail:0}),kS=Kn(Bc),Xf,Jf,ul,Mh=ft({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ul&&(ul&&t.type==="mousemove"?(Xf=t.screenX-ul.screenX,Jf=t.screenY-ul.screenY):Jf=Xf=0,ul=t),Xf)},movementY:function(t){return"movementY"in t?t.movementY:Jf}}),o1=Kn(Mh),IS=ft({},Mh,{dataTransfer:0}),SS=Kn(IS),AS=ft({},Bc,{relatedTarget:0}),ep=Kn(AS),CS=ft({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),NS=Kn(CS),PS=ft({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RS=Kn(PS),OS=ft({},Fa,{data:0}),a1=Kn(OS),jS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function MS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=LS[t])?!!e[t]:!1}function r0(){return MS}var VS=ft({},Bc,{key:function(t){if(t.key){var e=jS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ju(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?DS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r0,charCode:function(t){return t.type==="keypress"?Ju(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ju(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FS=Kn(VS),US=ft({},Mh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l1=Kn(US),BS=ft({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r0}),zS=Kn(BS),$S=ft({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),WS=Kn($S),HS=ft({},Mh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qS=Kn(HS),KS=[9,13,27,32],i0=fi&&"CompositionEvent"in window,Ol=null;fi&&"documentMode"in document&&(Ol=document.documentMode);var GS=fi&&"TextEvent"in window&&!Ol,mx=fi&&(!i0||Ol&&8<Ol&&11>=Ol),c1=" ",u1=!1;function gx(t,e){switch(t){case"keyup":return KS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function QS(t,e){switch(t){case"compositionend":return yx(e);case"keypress":return e.which!==32?null:(u1=!0,c1);case"textInput":return t=e.data,t===c1&&u1?null:t;default:return null}}function YS(t,e){if(Uo)return t==="compositionend"||!i0&&gx(t,e)?(t=px(),Xu=t0=Ki=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mx&&e.locale!=="ko"?null:e.data;default:return null}}var ZS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ZS[t.type]:e==="textarea"}function vx(t,e,n,r){Qw(r),e=Ad(e,"onChange"),0<e.length&&(n=new n0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jl=null,nc=null;function XS(t){Cx(t,0)}function Vh(t){var e=$o(t);if(zw(e))return t}function JS(t,e){if(t==="change")return e}var _x=!1;if(fi){var tp;if(fi){var np="oninput"in document;if(!np){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),np=typeof h1.oninput=="function"}tp=np}else tp=!1;_x=tp&&(!document.documentMode||9<document.documentMode)}function f1(){jl&&(jl.detachEvent("onpropertychange",wx),nc=jl=null)}function wx(t){if(t.propertyName==="value"&&Vh(nc)){var e=[];vx(e,nc,t,Yg(t)),Jw(XS,e)}}function eA(t,e,n){t==="focusin"?(f1(),jl=e,nc=n,jl.attachEvent("onpropertychange",wx)):t==="focusout"&&f1()}function tA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vh(nc)}function nA(t,e){if(t==="click")return Vh(e)}function rA(t,e){if(t==="input"||t==="change")return Vh(e)}function iA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Er=typeof Object.is=="function"?Object.is:iA;function rc(t,e){if(Er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hp.call(e,i)||!Er(t[i],e[i]))return!1}return!0}function p1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m1(t,e){var n=p1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p1(n)}}function xx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ex(){for(var t=window,e=xd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xd(t.document)}return e}function s0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sA(t){var e=Ex(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xx(n.ownerDocument.documentElement,n)){if(r!==null&&s0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=m1(n,s);var o=m1(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oA=fi&&"documentMode"in document&&11>=document.documentMode,Bo=null,um=null,Dl=null,dm=!1;function g1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dm||Bo==null||Bo!==xd(r)||(r=Bo,"selectionStart"in r&&s0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&rc(Dl,r)||(Dl=r,r=Ad(um,"onSelect"),0<r.length&&(e=new n0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Bo)))}function Pu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zo={animationend:Pu("Animation","AnimationEnd"),animationiteration:Pu("Animation","AnimationIteration"),animationstart:Pu("Animation","AnimationStart"),transitionend:Pu("Transition","TransitionEnd")},rp={},bx={};fi&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Fh(t){if(rp[t])return rp[t];if(!zo[t])return t;var e=zo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bx)return rp[t]=e[n];return t}var Tx=Fh("animationend"),kx=Fh("animationiteration"),Ix=Fh("animationstart"),Sx=Fh("transitionend"),Ax=new Map,y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ks(t,e){Ax.set(t,e),wo(e,[t])}for(var ip=0;ip<y1.length;ip++){var sp=y1[ip],aA=sp.toLowerCase(),lA=sp[0].toUpperCase()+sp.slice(1);ks(aA,"on"+lA)}ks(Tx,"onAnimationEnd");ks(kx,"onAnimationIteration");ks(Ix,"onAnimationStart");ks("dblclick","onDoubleClick");ks("focusin","onFocus");ks("focusout","onBlur");ks(Sx,"onTransitionEnd");pa("onMouseEnter",["mouseout","mouseover"]);pa("onMouseLeave",["mouseout","mouseover"]);pa("onPointerEnter",["pointerout","pointerover"]);pa("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("cancel close invalid load scroll toggle".split(" ").concat(wl));function v1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aS(r,e,void 0,t),t.currentTarget=null}function Cx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;v1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;v1(i,a,u),s=l}}}if(bd)throw t=om,bd=!1,om=null,t}function rt(t,e){var n=e[gm];n===void 0&&(n=e[gm]=new Set);var r=t+"__bubble";n.has(r)||(Nx(e,t,2,!1),n.add(r))}function op(t,e,n){var r=0;e&&(r|=4),Nx(n,t,r,e)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function ic(t){if(!t[Ru]){t[Ru]=!0,Mw.forEach(function(n){n!=="selectionchange"&&(cA.has(n)||op(n,!1,t),op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ru]||(e[Ru]=!0,op("selectionchange",!1,e))}}function Nx(t,e,n,r){switch(fx(e)){case 1:var i=bS;break;case 4:i=TS;break;default:i=e0}n=i.bind(null,e,n,t),i=void 0,!sm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ap(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$s(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Jw(function(){var u=s,d=Yg(n),f=[];e:{var p=Ax.get(t);if(p!==void 0){var y=n0,w=t;switch(t){case"keypress":if(Ju(n)===0)break e;case"keydown":case"keyup":y=FS;break;case"focusin":w="focus",y=ep;break;case"focusout":w="blur",y=ep;break;case"beforeblur":case"afterblur":y=ep;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=o1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=SS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=zS;break;case Tx:case kx:case Ix:y=NS;break;case Sx:y=WS;break;case"scroll":y=kS;break;case"wheel":y=qS;break;case"copy":case"cut":case"paste":y=RS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=l1}var P=(e&4)!==0,C=!P&&t==="scroll",_=P?p!==null?p+"Capture":null:p;P=[];for(var x=u,k;x!==null;){k=x;var N=k.stateNode;if(k.tag===5&&N!==null&&(k=N,_!==null&&(N=Xl(x,_),N!=null&&P.push(sc(x,N,k)))),C)break;x=x.return}0<P.length&&(p=new y(p,w,null,n,d),f.push({event:p,listeners:P}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==rm&&(w=n.relatedTarget||n.fromElement)&&($s(w)||w[pi]))break e;if((y||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,y?(w=n.relatedTarget||n.toElement,y=u,w=w?$s(w):null,w!==null&&(C=xo(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(P=o1,N="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(P=l1,N="onPointerLeave",_="onPointerEnter",x="pointer"),C=y==null?p:$o(y),k=w==null?p:$o(w),p=new P(N,x+"leave",y,n,d),p.target=C,p.relatedTarget=k,N=null,$s(d)===u&&(P=new P(_,x+"enter",w,n,d),P.target=k,P.relatedTarget=C,N=P),C=N,y&&w)t:{for(P=y,_=w,x=0,k=P;k;k=Ro(k))x++;for(k=0,N=_;N;N=Ro(N))k++;for(;0<x-k;)P=Ro(P),x--;for(;0<k-x;)_=Ro(_),k--;for(;x--;){if(P===_||_!==null&&P===_.alternate)break t;P=Ro(P),_=Ro(_)}P=null}else P=null;y!==null&&_1(f,p,y,P,!1),w!==null&&C!==null&&_1(f,C,w,P,!0)}}e:{if(p=u?$o(u):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var D=JS;else if(d1(p))if(_x)D=rA;else{D=tA;var R=eA}else(y=p.nodeName)&&y.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(D=nA);if(D&&(D=D(t,u))){vx(f,D,n,d);break e}R&&R(t,p,u),t==="focusout"&&(R=p._wrapperState)&&R.controlled&&p.type==="number"&&Xp(p,"number",p.value)}switch(R=u?$o(u):window,t){case"focusin":(d1(R)||R.contentEditable==="true")&&(Bo=R,um=u,Dl=null);break;case"focusout":Dl=um=Bo=null;break;case"mousedown":dm=!0;break;case"contextmenu":case"mouseup":case"dragend":dm=!1,g1(f,n,d);break;case"selectionchange":if(oA)break;case"keydown":case"keyup":g1(f,n,d)}var S;if(i0)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Uo?gx(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(mx&&n.locale!=="ko"&&(Uo||g!=="onCompositionStart"?g==="onCompositionEnd"&&Uo&&(S=px()):(Ki=d,t0="value"in Ki?Ki.value:Ki.textContent,Uo=!0)),R=Ad(u,g),0<R.length&&(g=new a1(g,t,null,n,d),f.push({event:g,listeners:R}),S?g.data=S:(S=yx(n),S!==null&&(g.data=S)))),(S=GS?QS(t,n):YS(t,n))&&(u=Ad(u,"onBeforeInput"),0<u.length&&(d=new a1("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=S))}Cx(f,e)})}function sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ad(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xl(t,n),s!=null&&r.unshift(sc(t,s,i)),s=Xl(t,e),s!=null&&r.push(sc(t,s,i))),t=t.return}return r}function Ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _1(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Xl(n,s),l!=null&&o.unshift(sc(n,l,a))):i||(l=Xl(n,s),l!=null&&o.push(sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var uA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function w1(t){return(typeof t=="string"?t:""+t).replace(uA,`
`).replace(dA,"")}function Ou(t,e,n){if(e=w1(e),w1(t)!==e&&n)throw Error(ne(425))}function Cd(){}var hm=null,fm=null;function pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mm=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,x1=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof x1<"u"?function(t){return x1.resolve(null).then(t).catch(pA)}:mm;function pA(t){setTimeout(function(){throw t})}function lp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),tc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);tc(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function E1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),Rr="__reactFiber$"+Ua,oc="__reactProps$"+Ua,pi="__reactContainer$"+Ua,gm="__reactEvents$"+Ua,mA="__reactListeners$"+Ua,gA="__reactHandles$"+Ua;function $s(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=E1(t);t!==null;){if(n=t[Rr])return n;t=E1(t)}return e}t=n,n=t.parentNode}return null}function zc(t){return t=t[Rr]||t[pi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ne(33))}function Uh(t){return t[oc]||null}var ym=[],Wo=-1;function Is(t){return{current:t}}function st(t){0>Wo||(t.current=ym[Wo],ym[Wo]=null,Wo--)}function et(t,e){Wo++,ym[Wo]=t.current,t.current=e}var fs={},ln=Is(fs),Pn=Is(!1),ro=fs;function ma(t,e){var n=t.type.contextTypes;if(!n)return fs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Rn(t){return t=t.childContextTypes,t!=null}function Nd(){st(Pn),st(ln)}function b1(t,e,n){if(ln.current!==fs)throw Error(ne(168));et(ln,e),et(Pn,n)}function Px(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ne(108,eS(t)||"Unknown",i));return ft({},n,r)}function Pd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fs,ro=ln.current,et(ln,t),et(Pn,Pn.current),!0}function T1(t,e,n){var r=t.stateNode;if(!r)throw Error(ne(169));n?(t=Px(t,e,ro),r.__reactInternalMemoizedMergedChildContext=t,st(Pn),st(ln),et(ln,t)):st(Pn),et(Pn,n)}var ni=null,Bh=!1,cp=!1;function Rx(t){ni===null?ni=[t]:ni.push(t)}function yA(t){Bh=!0,Rx(t)}function Ss(){if(!cp&&ni!==null){cp=!0;var t=0,e=Ke;try{var n=ni;for(Ke=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ni=null,Bh=!1}catch(i){throw ni!==null&&(ni=ni.slice(t+1)),rx(Zg,Ss),i}finally{Ke=e,cp=!1}}return null}var Ho=[],qo=0,Rd=null,Od=0,er=[],tr=0,io=null,ii=1,si="";function Fs(t,e){Ho[qo++]=Od,Ho[qo++]=Rd,Rd=t,Od=e}function Ox(t,e,n){er[tr++]=ii,er[tr++]=si,er[tr++]=io,io=t;var r=ii;t=si;var i=32-vr(r)-1;r&=~(1<<i),n+=1;var s=32-vr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ii=1<<32-vr(e)+i|n<<i|r,si=s+t}else ii=1<<s|n<<i|r,si=t}function o0(t){t.return!==null&&(Fs(t,1),Ox(t,1,0))}function a0(t){for(;t===Rd;)Rd=Ho[--qo],Ho[qo]=null,Od=Ho[--qo],Ho[qo]=null;for(;t===io;)io=er[--tr],er[tr]=null,si=er[--tr],er[tr]=null,ii=er[--tr],er[tr]=null}var Bn=null,Vn=null,at=!1,pr=null;function jx(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function k1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,Vn=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=io!==null?{id:ii,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,Vn=null,!0):!1;default:return!1}}function vm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _m(t){if(at){var e=Vn;if(e){var n=e;if(!k1(t,e)){if(vm(t))throw Error(ne(418));e=ts(n.nextSibling);var r=Bn;e&&k1(t,e)?jx(r,n):(t.flags=t.flags&-4097|2,at=!1,Bn=t)}}else{if(vm(t))throw Error(ne(418));t.flags=t.flags&-4097|2,at=!1,Bn=t}}}function I1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function ju(t){if(t!==Bn)return!1;if(!at)return I1(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pm(t.type,t.memoizedProps)),e&&(e=Vn)){if(vm(t))throw Dx(),Error(ne(418));for(;e;)jx(t,e),e=ts(e.nextSibling)}if(I1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ne(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Vn=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Vn=null}}else Vn=Bn?ts(t.stateNode.nextSibling):null;return!0}function Dx(){for(var t=Vn;t;)t=ts(t.nextSibling)}function ga(){Vn=Bn=null,at=!1}function l0(t){pr===null?pr=[t]:pr.push(t)}var vA=Ti.ReactCurrentBatchConfig;function dl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var r=n.stateNode}if(!r)throw Error(ne(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(ne(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S1(t){var e=t._init;return e(t._payload)}function Lx(t){function e(_,x){if(t){var k=_.deletions;k===null?(_.deletions=[x],_.flags|=16):k.push(x)}}function n(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function r(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=ss(_,x),_.index=0,_.sibling=null,_}function s(_,x,k){return _.index=k,t?(k=_.alternate,k!==null?(k=k.index,k<x?(_.flags|=2,x):k):(_.flags|=2,x)):(_.flags|=1048576,x)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,x,k,N){return x===null||x.tag!==6?(x=gp(k,_.mode,N),x.return=_,x):(x=i(x,k),x.return=_,x)}function l(_,x,k,N){var D=k.type;return D===Fo?d(_,x,k.props.children,N,k.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Li&&S1(D)===x.type)?(N=i(x,k.props),N.ref=dl(_,x,k),N.return=_,N):(N=od(k.type,k.key,k.props,null,_.mode,N),N.ref=dl(_,x,k),N.return=_,N)}function u(_,x,k,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==k.containerInfo||x.stateNode.implementation!==k.implementation?(x=yp(k,_.mode,N),x.return=_,x):(x=i(x,k.children||[]),x.return=_,x)}function d(_,x,k,N,D){return x===null||x.tag!==7?(x=Ys(k,_.mode,N,D),x.return=_,x):(x=i(x,k),x.return=_,x)}function f(_,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return x=gp(""+x,_.mode,k),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tu:return k=od(x.type,x.key,x.props,null,_.mode,k),k.ref=dl(_,null,x),k.return=_,k;case Vo:return x=yp(x,_.mode,k),x.return=_,x;case Li:var N=x._init;return f(_,N(x._payload),k)}if(vl(x)||ol(x))return x=Ys(x,_.mode,k,null),x.return=_,x;Du(_,x)}return null}function p(_,x,k,N){var D=x!==null?x.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return D!==null?null:a(_,x,""+k,N);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Tu:return k.key===D?l(_,x,k,N):null;case Vo:return k.key===D?u(_,x,k,N):null;case Li:return D=k._init,p(_,x,D(k._payload),N)}if(vl(k)||ol(k))return D!==null?null:d(_,x,k,N,null);Du(_,k)}return null}function y(_,x,k,N,D){if(typeof N=="string"&&N!==""||typeof N=="number")return _=_.get(k)||null,a(x,_,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Tu:return _=_.get(N.key===null?k:N.key)||null,l(x,_,N,D);case Vo:return _=_.get(N.key===null?k:N.key)||null,u(x,_,N,D);case Li:var R=N._init;return y(_,x,k,R(N._payload),D)}if(vl(N)||ol(N))return _=_.get(k)||null,d(x,_,N,D,null);Du(x,N)}return null}function w(_,x,k,N){for(var D=null,R=null,S=x,g=x=0,v=null;S!==null&&g<k.length;g++){S.index>g?(v=S,S=null):v=S.sibling;var b=p(_,S,k[g],N);if(b===null){S===null&&(S=v);break}t&&S&&b.alternate===null&&e(_,S),x=s(b,x,g),R===null?D=b:R.sibling=b,R=b,S=v}if(g===k.length)return n(_,S),at&&Fs(_,g),D;if(S===null){for(;g<k.length;g++)S=f(_,k[g],N),S!==null&&(x=s(S,x,g),R===null?D=S:R.sibling=S,R=S);return at&&Fs(_,g),D}for(S=r(_,S);g<k.length;g++)v=y(S,_,g,k[g],N),v!==null&&(t&&v.alternate!==null&&S.delete(v.key===null?g:v.key),x=s(v,x,g),R===null?D=v:R.sibling=v,R=v);return t&&S.forEach(function(A){return e(_,A)}),at&&Fs(_,g),D}function P(_,x,k,N){var D=ol(k);if(typeof D!="function")throw Error(ne(150));if(k=D.call(k),k==null)throw Error(ne(151));for(var R=D=null,S=x,g=x=0,v=null,b=k.next();S!==null&&!b.done;g++,b=k.next()){S.index>g?(v=S,S=null):v=S.sibling;var A=p(_,S,b.value,N);if(A===null){S===null&&(S=v);break}t&&S&&A.alternate===null&&e(_,S),x=s(A,x,g),R===null?D=A:R.sibling=A,R=A,S=v}if(b.done)return n(_,S),at&&Fs(_,g),D;if(S===null){for(;!b.done;g++,b=k.next())b=f(_,b.value,N),b!==null&&(x=s(b,x,g),R===null?D=b:R.sibling=b,R=b);return at&&Fs(_,g),D}for(S=r(_,S);!b.done;g++,b=k.next())b=y(S,_,g,b.value,N),b!==null&&(t&&b.alternate!==null&&S.delete(b.key===null?g:b.key),x=s(b,x,g),R===null?D=b:R.sibling=b,R=b);return t&&S.forEach(function(I){return e(_,I)}),at&&Fs(_,g),D}function C(_,x,k,N){if(typeof k=="object"&&k!==null&&k.type===Fo&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Tu:e:{for(var D=k.key,R=x;R!==null;){if(R.key===D){if(D=k.type,D===Fo){if(R.tag===7){n(_,R.sibling),x=i(R,k.props.children),x.return=_,_=x;break e}}else if(R.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Li&&S1(D)===R.type){n(_,R.sibling),x=i(R,k.props),x.ref=dl(_,R,k),x.return=_,_=x;break e}n(_,R);break}else e(_,R);R=R.sibling}k.type===Fo?(x=Ys(k.props.children,_.mode,N,k.key),x.return=_,_=x):(N=od(k.type,k.key,k.props,null,_.mode,N),N.ref=dl(_,x,k),N.return=_,_=N)}return o(_);case Vo:e:{for(R=k.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===k.containerInfo&&x.stateNode.implementation===k.implementation){n(_,x.sibling),x=i(x,k.children||[]),x.return=_,_=x;break e}else{n(_,x);break}else e(_,x);x=x.sibling}x=yp(k,_.mode,N),x.return=_,_=x}return o(_);case Li:return R=k._init,C(_,x,R(k._payload),N)}if(vl(k))return w(_,x,k,N);if(ol(k))return P(_,x,k,N);Du(_,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,x!==null&&x.tag===6?(n(_,x.sibling),x=i(x,k),x.return=_,_=x):(n(_,x),x=gp(k,_.mode,N),x.return=_,_=x),o(_)):n(_,x)}return C}var ya=Lx(!0),Mx=Lx(!1),jd=Is(null),Dd=null,Ko=null,c0=null;function u0(){c0=Ko=Dd=null}function d0(t){var e=jd.current;st(jd),t._currentValue=e}function wm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function sa(t,e){Dd=t,c0=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Nn=!0),t.firstContext=null)}function sr(t){var e=t._currentValue;if(c0!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(Dd===null)throw Error(ne(308));Ko=t,Dd.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var Ws=null;function h0(t){Ws===null?Ws=[t]:Ws.push(t)}function Vx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,h0(e)):(n.next=i.next,i.next=n),e.interleaved=n,mi(t,r)}function mi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function f0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ui(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,mi(t,n)}return i=r.interleaved,i===null?(e.next=e,h0(r)):(e.next=i.next,i.next=e),r.interleaved=e,mi(t,n)}function ed(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}function A1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ld(t,e,n,r){var i=t.updateQueue;Mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,y=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,P=a;switch(p=e,y=n,P.tag){case 1:if(w=P.payload,typeof w=="function"){f=w.call(y,f,p);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=P.payload,p=typeof w=="function"?w.call(y,f,p):w,p==null)break e;f=ft({},f,p);break e;case 2:Mi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else y={eventTime:y,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=y,l=f):d=d.next=y,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);oo|=o,t.lanes=o,t.memoizedState=f}}function C1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ne(191,i));i.call(r)}}}var $c={},Vr=Is($c),ac=Is($c),lc=Is($c);function Hs(t){if(t===$c)throw Error(ne(174));return t}function p0(t,e){switch(et(lc,e),et(ac,t),et(Vr,$c),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:em(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=em(e,t)}st(Vr),et(Vr,e)}function va(){st(Vr),st(ac),st(lc)}function Ux(t){Hs(lc.current);var e=Hs(Vr.current),n=em(e,t.type);e!==n&&(et(ac,t),et(Vr,n))}function m0(t){ac.current===t&&(st(Vr),st(ac))}var dt=Is(0);function Md(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var up=[];function g0(){for(var t=0;t<up.length;t++)up[t]._workInProgressVersionPrimary=null;up.length=0}var td=Ti.ReactCurrentDispatcher,dp=Ti.ReactCurrentBatchConfig,so=0,ht=null,jt=null,Vt=null,Vd=!1,Ll=!1,cc=0,_A=0;function Jt(){throw Error(ne(321))}function y0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Er(t[n],e[n]))return!1;return!0}function v0(t,e,n,r,i,s){if(so=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,td.current=t===null||t.memoizedState===null?bA:TA,t=n(r,i),Ll){s=0;do{if(Ll=!1,cc=0,25<=s)throw Error(ne(301));s+=1,Vt=jt=null,e.updateQueue=null,td.current=kA,t=n(r,i)}while(Ll)}if(td.current=Fd,e=jt!==null&&jt.next!==null,so=0,Vt=jt=ht=null,Vd=!1,e)throw Error(ne(300));return t}function _0(){var t=cc!==0;return cc=0,t}function Ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?ht.memoizedState=Vt=t:Vt=Vt.next=t,Vt}function or(){if(jt===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Vt===null?ht.memoizedState:Vt.next;if(e!==null)Vt=e,jt=t;else{if(t===null)throw Error(ne(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Vt===null?ht.memoizedState=Vt=t:Vt=Vt.next=t}return Vt}function uc(t,e){return typeof e=="function"?e(t):e}function hp(t){var e=or(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=jt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((so&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ht.lanes|=d,oo|=d}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Er(r,e.memoizedState)||(Nn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,oo|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fp(t){var e=or(),n=e.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Er(s,e.memoizedState)||(Nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Bx(){}function zx(t,e){var n=ht,r=or(),i=e(),s=!Er(r.memoizedState,i);if(s&&(r.memoizedState=i,Nn=!0),r=r.queue,w0(Hx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Vt!==null&&Vt.memoizedState.tag&1){if(n.flags|=2048,dc(9,Wx.bind(null,n,r,i,e),void 0,null),Ft===null)throw Error(ne(349));so&30||$x(n,e,i)}return i}function $x(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wx(t,e,n,r){e.value=n,e.getSnapshot=r,qx(e)&&Kx(t)}function Hx(t,e,n){return n(function(){qx(e)&&Kx(t)})}function qx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Er(t,n)}catch{return!0}}function Kx(t){var e=mi(t,1);e!==null&&_r(e,t,1,-1)}function N1(t){var e=Ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uc,lastRenderedState:t},e.queue=t,t=t.dispatch=EA.bind(null,ht,t),[e.memoizedState,t]}function dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gx(){return or().memoizedState}function nd(t,e,n,r){var i=Ar();ht.flags|=t,i.memoizedState=dc(1|e,n,void 0,r===void 0?null:r)}function zh(t,e,n,r){var i=or();r=r===void 0?null:r;var s=void 0;if(jt!==null){var o=jt.memoizedState;if(s=o.destroy,r!==null&&y0(r,o.deps)){i.memoizedState=dc(e,n,s,r);return}}ht.flags|=t,i.memoizedState=dc(1|e,n,s,r)}function P1(t,e){return nd(8390656,8,t,e)}function w0(t,e){return zh(2048,8,t,e)}function Qx(t,e){return zh(4,2,t,e)}function Yx(t,e){return zh(4,4,t,e)}function Zx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xx(t,e,n){return n=n!=null?n.concat([t]):null,zh(4,4,Zx.bind(null,e,t),n)}function x0(){}function Jx(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function eE(t,e){var n=or();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tE(t,e,n){return so&21?(Er(n,e)||(n=ox(),ht.lanes|=n,oo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Nn=!0),t.memoizedState=n)}function wA(t,e){var n=Ke;Ke=n!==0&&4>n?n:4,t(!0);var r=dp.transition;dp.transition={};try{t(!1),e()}finally{Ke=n,dp.transition=r}}function nE(){return or().memoizedState}function xA(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rE(t))iE(e,n);else if(n=Vx(t,e,n,r),n!==null){var i=vn();_r(n,t,r,i),sE(n,e,r)}}function EA(t,e,n){var r=is(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rE(t))iE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Er(a,o)){var l=e.interleaved;l===null?(i.next=i,h0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Vx(t,e,i,r),n!==null&&(i=vn(),_r(n,t,r,i),sE(n,e,r))}}function rE(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function iE(t,e){Ll=Vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xg(t,n)}}var Fd={readContext:sr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},bA={readContext:sr,useCallback:function(t,e){return Ar().memoizedState=[t,e===void 0?null:e],t},useContext:sr,useEffect:P1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,nd(4194308,4,Zx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){return nd(4,2,t,e)},useMemo:function(t,e){var n=Ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=xA.bind(null,ht,t),[r.memoizedState,t]},useRef:function(t){var e=Ar();return t={current:t},e.memoizedState=t},useState:N1,useDebugValue:x0,useDeferredValue:function(t){return Ar().memoizedState=t},useTransition:function(){var t=N1(!1),e=t[0];return t=wA.bind(null,t[1]),Ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ht,i=Ar();if(at){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=e(),Ft===null)throw Error(ne(349));so&30||$x(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,P1(Hx.bind(null,r,s,t),[t]),r.flags|=2048,dc(9,Wx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ar(),e=Ft.identifierPrefix;if(at){var n=si,r=ii;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=cc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_A++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TA={readContext:sr,useCallback:Jx,useContext:sr,useEffect:w0,useImperativeHandle:Xx,useInsertionEffect:Qx,useLayoutEffect:Yx,useMemo:eE,useReducer:hp,useRef:Gx,useState:function(){return hp(uc)},useDebugValue:x0,useDeferredValue:function(t){var e=or();return tE(e,jt.memoizedState,t)},useTransition:function(){var t=hp(uc)[0],e=or().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:zx,useId:nE,unstable_isNewReconciler:!1},kA={readContext:sr,useCallback:Jx,useContext:sr,useEffect:w0,useImperativeHandle:Xx,useInsertionEffect:Qx,useLayoutEffect:Yx,useMemo:eE,useReducer:fp,useRef:Gx,useState:function(){return fp(uc)},useDebugValue:x0,useDeferredValue:function(t){var e=or();return jt===null?e.memoizedState=t:tE(e,jt.memoizedState,t)},useTransition:function(){var t=fp(uc)[0],e=or().memoizedState;return[t,e]},useMutableSource:Bx,useSyncExternalStore:zx,useId:nE,unstable_isNewReconciler:!1};function hr(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ft({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var $h={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),i=is(t),s=ui(r,i);s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(_r(e,t,i,r),ed(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),i=is(t),s=ui(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(_r(e,t,i,r),ed(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=is(t),i=ui(n,r);i.tag=2,e!=null&&(i.callback=e),e=ns(t,i,r),e!==null&&(_r(e,t,r,n),ed(e,t,r))}};function R1(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!rc(n,r)||!rc(i,s):!0}function oE(t,e,n){var r=!1,i=fs,s=e.contextType;return typeof s=="object"&&s!==null?s=sr(s):(i=Rn(e)?ro:ln.current,r=e.contextTypes,s=(r=r!=null)?ma(t,i):fs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=$h,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&$h.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},f0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sr(s):(s=Rn(e)?ro:ln.current,i.context=ma(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(xm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&$h.enqueueReplaceState(i,i.state,null),Ld(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var n="",r=e;do n+=JI(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function pp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IA=typeof WeakMap=="function"?WeakMap:Map;function aE(t,e,n){n=ui(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bd||(Bd=!0,Om=r),bm(t,e)},n}function lE(t,e,n){n=ui(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){bm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bm(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function j1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new IA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UA.bind(null,t,e,n),e.then(t,t))}function D1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function L1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ui(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var SA=Ti.ReactCurrentOwner,Nn=!1;function mn(t,e,n,r){e.child=t===null?Mx(e,null,n,r):ya(e,t.child,n,r)}function M1(t,e,n,r,i){n=n.render;var s=e.ref;return sa(e,i),r=v0(t,e,n,r,s,i),n=_0(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(at&&n&&o0(e),e.flags|=1,mn(t,e,r,i),e.child)}function V1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,cE(t,e,s,r,i)):(t=od(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rc,n(o,r)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=ss(s,r),t.ref=e.ref,t.return=e,e.child=t}function cE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(rc(s,r)&&t.ref===e.ref)if(Nn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Nn=!0);else return e.lanes=t.lanes,gi(t,e,i)}return Tm(t,e,n,r,i)}function uE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Qo,Mn),Mn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Qo,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(Qo,Mn),Mn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(Qo,Mn),Mn|=r;return mn(t,e,i,n),e.child}function dE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Tm(t,e,n,r,i){var s=Rn(n)?ro:ln.current;return s=ma(e,s),sa(e,i),n=v0(t,e,n,r,s,i),r=_0(),t!==null&&!Nn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(at&&r&&o0(e),e.flags|=1,mn(t,e,n,i),e.child)}function F1(t,e,n,r,i){if(Rn(n)){var s=!0;Pd(e)}else s=!1;if(sa(e,i),e.stateNode===null)rd(t,e),oE(e,n,r),Em(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=sr(u):(u=Rn(n)?ro:ln.current,u=ma(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&O1(e,o,r,u),Mi=!1;var p=e.memoizedState;o.state=p,Ld(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Pn.current||Mi?(typeof d=="function"&&(xm(e,n,d,r),l=e.memoizedState),(a=Mi||R1(e,n,a,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Fx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:hr(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=sr(l):(l=Rn(n)?ro:ln.current,l=ma(e,l));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&O1(e,o,r,l),Mi=!1,p=e.memoizedState,o.state=p,Ld(e,r,o,i);var w=e.memoizedState;a!==f||p!==w||Pn.current||Mi?(typeof y=="function"&&(xm(e,n,y,r),w=e.memoizedState),(u=Mi||R1(e,n,u,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return km(t,e,n,r,s,i)}function km(t,e,n,r,i,s){dE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&T1(e,n,!1),gi(t,e,s);r=e.stateNode,SA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ya(e,t.child,null,s),e.child=ya(e,null,a,s)):mn(t,e,a,s),e.memoizedState=r.state,i&&T1(e,n,!0),e.child}function hE(t){var e=t.stateNode;e.pendingContext?b1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&b1(t,e.context,!1),p0(t,e.containerInfo)}function U1(t,e,n,r,i){return ga(),l0(i),e.flags|=256,mn(t,e,n,r),e.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function Sm(t){return{baseLanes:t,cachePool:null,transitions:null}}function fE(t,e,n){var r=e.pendingProps,i=dt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(dt,i&1),t===null)return _m(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=qh(o,r,0,null),t=Ys(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sm(n),e.memoizedState=Im,t):E0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ss(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ss(a,s):(s=Ys(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Sm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Im,r}return s=t.child,t=s.sibling,r=ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function E0(t,e){return e=qh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,n,r){return r!==null&&l0(r),ya(e,t.child,null,n),t=E0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=pp(Error(ne(422))),Lu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=qh({mode:"visible",children:r.children},i,0,null),s=Ys(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ya(e,t.child,null,o),e.child.memoizedState=Sm(o),e.memoizedState=Im,s);if(!(e.mode&1))return Lu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ne(419)),r=pp(s,r,void 0),Lu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Nn||a){if(r=Ft,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mi(t,i),_r(r,t,i,-1))}return A0(),r=pp(Error(ne(421))),Lu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Vn=ts(i.nextSibling),Bn=e,at=!0,pr=null,t!==null&&(er[tr++]=ii,er[tr++]=si,er[tr++]=io,ii=t.id,si=t.overflow,io=e),e=E0(e,r.children),e.flags|=4096,e)}function B1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wm(t.return,e,n)}function mp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function pE(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(mn(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B1(t,n,e);else if(t.tag===19)B1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(dt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Md(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Md(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mp(e,!0,n,null,s);break;case"together":mp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function rd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),oo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ne(153));if(e.child!==null){for(t=e.child,n=ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function CA(t,e,n){switch(e.tag){case 3:hE(e),ga();break;case 5:Ux(e);break;case 1:Rn(e.type)&&Pd(e);break;case 4:p0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(jd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(dt,dt.current&1),e.flags|=128,null):n&e.child.childLanes?fE(t,e,n):(et(dt,dt.current&1),t=gi(t,e,n),t!==null?t.sibling:null);et(dt,dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,uE(t,e,n)}return gi(t,e,n)}var mE,Am,gE,yE;mE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Am=function(){};gE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hs(Vr.current);var s=null;switch(n){case"input":i=Yp(t,i),r=Yp(t,r),s=[];break;case"select":i=ft({},i,{value:void 0}),r=ft({},r,{value:void 0}),s=[];break;case"textarea":i=Jp(t,i),r=Jp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cd)}tm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};yE=function(t,e,n,r){n!==r&&(e.flags|=4)};function hl(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NA(t,e,n){var r=e.pendingProps;switch(a0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Rn(e.type)&&Nd(),en(e),null;case 3:return r=e.stateNode,va(),st(Pn),st(ln),g0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pr!==null&&(Lm(pr),pr=null))),Am(t,e),en(e),null;case 5:m0(e);var i=Hs(lc.current);if(n=e.type,t!==null&&e.stateNode!=null)gE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ne(166));return en(e),null}if(t=Hs(Vr.current),ju(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rr]=e,r[oc]=s,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<wl.length;i++)rt(wl[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":Yv(r,s),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rt("invalid",r);break;case"textarea":Xv(r,s),rt("invalid",r)}tm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ou(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ou(r.textContent,a,t),i=["children",""+a]):Yl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rt("scroll",r)}switch(n){case"input":ku(r),Zv(r,s,!0);break;case"textarea":ku(r),Jv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Cd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Hw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Rr]=e,t[oc]=r,mE(t,e,!1,!1),e.stateNode=t;e:{switch(o=nm(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<wl.length;i++)rt(wl[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":Yv(t,r),i=Yp(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ft({},r,{value:void 0}),rt("invalid",t);break;case"textarea":Xv(t,r),i=Jp(t,r),rt("invalid",t);break;default:i=r}tm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Gw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Zl(t,l):typeof l=="number"&&Zl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rt("scroll",t):l!=null&&qg(t,s,l,o))}switch(n){case"input":ku(t),Zv(t,r,!1);break;case"textarea":ku(t),Jv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+hs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ta(t,!!r.multiple,s,!1):r.defaultValue!=null&&ta(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Cd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)yE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ne(166));if(n=Hs(lc.current),Hs(Vr.current),ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(s=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:Ou(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ou(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return en(e),null;case 13:if(st(dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&Vn!==null&&e.mode&1&&!(e.flags&128))Dx(),ga(),e.flags|=98560,s=!1;else if(s=ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ne(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ne(317));s[Rr]=e}else ga(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else pr!==null&&(Lm(pr),pr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Dt===0&&(Dt=3):A0())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return va(),Am(t,e),t===null&&ic(e.stateNode.containerInfo),en(e),null;case 10:return d0(e.type._context),en(e),null;case 17:return Rn(e.type)&&Nd(),en(e),null;case 19:if(st(dt),s=e.memoizedState,s===null)return en(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)hl(s,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Md(t),o!==null){for(e.flags|=128,hl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&bt()>wa&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304)}else{if(!r)if(t=Md(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),hl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return en(e),null}else 2*bt()-s.renderingStartTime>wa&&n!==1073741824&&(e.flags|=128,r=!0,hl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=dt.current,et(dt,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return S0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(ne(156,e.tag))}function PA(t,e){switch(a0(e),e.tag){case 1:return Rn(e.type)&&Nd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return va(),st(Pn),st(ln),g0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return m0(e),null;case 13:if(st(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ne(340));ga()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(dt),null;case 4:return va(),null;case 10:return d0(e.type._context),null;case 22:case 23:return S0(),null;case 24:return null;default:return null}}var Mu=!1,on=!1,RA=typeof WeakSet=="function"?WeakSet:Set,he=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){yt(t,e,r)}else n.current=null}function Cm(t,e,n){try{n()}catch(r){yt(t,e,r)}}var z1=!1;function OA(t,e){if(hm=Id,t=Ex(),s0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var y;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)p=f,f=y;for(;;){if(f===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++d===r&&(l=o),(y=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(fm={focusedElem:t,selectionRange:n},Id=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var P=w.memoizedProps,C=w.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?P:hr(e.type,P),C);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(N){yt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return w=z1,z1=!1,w}function Ml(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cm(e,n,s)}i=i.next}while(i!==r)}}function Wh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Nm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vE(t){var e=t.alternate;e!==null&&(t.alternate=null,vE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[oc],delete e[gm],delete e[mA],delete e[gA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _E(t){return t.tag===5||t.tag===3||t.tag===4}function $1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_E(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cd));else if(r!==4&&(t=t.child,t!==null))for(Pm(t,e,n),t=t.sibling;t!==null;)Pm(t,e,n),t=t.sibling}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}var Wt=null,fr=!1;function Oi(t,e,n){for(n=n.child;n!==null;)wE(t,e,n),n=n.sibling}function wE(t,e,n){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:on||Go(n,e);case 6:var r=Wt,i=fr;Wt=null,Oi(t,e,n),Wt=r,fr=i,Wt!==null&&(fr?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(fr?(t=Wt,n=n.stateNode,t.nodeType===8?lp(t.parentNode,n):t.nodeType===1&&lp(t,n),tc(t)):lp(Wt,n.stateNode));break;case 4:r=Wt,i=fr,Wt=n.stateNode.containerInfo,fr=!0,Oi(t,e,n),Wt=r,fr=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cm(n,e,o),i=i.next}while(i!==r)}Oi(t,e,n);break;case 1:if(!on&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){yt(n,e,a)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Oi(t,e,n),on=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function W1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RA),e.forEach(function(r){var i=zA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,fr=!1;break e;case 3:Wt=a.stateNode.containerInfo,fr=!0;break e;case 4:Wt=a.stateNode.containerInfo,fr=!0;break e}a=a.return}if(Wt===null)throw Error(ne(160));wE(s,o,i),Wt=null,fr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){yt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xE(e,t),e=e.sibling}function xE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Sr(t),r&4){try{Ml(3,t,t.return),Wh(3,t)}catch(P){yt(t,t.return,P)}try{Ml(5,t,t.return)}catch(P){yt(t,t.return,P)}}break;case 1:ur(e,t),Sr(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(ur(e,t),Sr(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var i=t.stateNode;try{Zl(i,"")}catch(P){yt(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$w(i,s),nm(a,o);var u=nm(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Gw(i,f):d==="dangerouslySetInnerHTML"?qw(i,f):d==="children"?Zl(i,f):qg(i,d,f,u)}switch(a){case"input":Zp(i,s);break;case"textarea":Ww(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?ta(i,!!s.multiple,y,!1):p!==!!s.multiple&&(s.defaultValue!=null?ta(i,!!s.multiple,s.defaultValue,!0):ta(i,!!s.multiple,s.multiple?[]:"",!1))}i[oc]=s}catch(P){yt(t,t.return,P)}}break;case 6:if(ur(e,t),Sr(t),r&4){if(t.stateNode===null)throw Error(ne(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){yt(t,t.return,P)}}break;case 3:if(ur(e,t),Sr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{tc(e.containerInfo)}catch(P){yt(t,t.return,P)}break;case 4:ur(e,t),Sr(t);break;case 13:ur(e,t),Sr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k0=bt())),r&4&&W1(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(on=(u=on)||d,ur(e,t),on=u):ur(e,t),Sr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(he=t,d=t.child;d!==null;){for(f=he=d;he!==null;){switch(p=he,y=p.child,p.tag){case 0:case 11:case 14:case 15:Ml(4,p,p.return);break;case 1:Go(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(P){yt(r,n,P)}}break;case 5:Go(p,p.return);break;case 22:if(p.memoizedState!==null){q1(f);continue}}y!==null?(y.return=p,he=y):q1(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kw("display",o))}catch(P){yt(t,t.return,P)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(P){yt(t,t.return,P)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ur(e,t),Sr(t),r&4&&W1(t);break;case 21:break;default:ur(e,t),Sr(t)}}function Sr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_E(n)){var r=n;break e}n=n.return}throw Error(ne(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zl(i,""),r.flags&=-33);var s=$1(t);Rm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$1(t);Pm(t,a,o);break;default:throw Error(ne(161))}}catch(l){yt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jA(t,e,n){he=t,EE(t)}function EE(t,e,n){for(var r=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Mu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||on;a=Mu;var u=on;if(Mu=o,(on=l)&&!u)for(he=i;he!==null;)o=he,l=o.child,o.tag===22&&o.memoizedState!==null?K1(i):l!==null?(l.return=o,he=l):K1(i);for(;s!==null;)he=s,EE(s),s=s.sibling;he=i,Mu=a,on=u}H1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):H1(t)}}function H1(t){for(;he!==null;){var e=he;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||Wh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:hr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&C1(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}C1(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&tc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}on||e.flags&512&&Nm(e)}catch(p){yt(e,e.return,p)}}if(e===t){he=null;break}if(n=e.sibling,n!==null){n.return=e.return,he=n;break}he=e.return}}function q1(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var n=e.sibling;if(n!==null){n.return=e.return,he=n;break}he=e.return}}function K1(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wh(4,e)}catch(l){yt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){yt(e,i,l)}}var s=e.return;try{Nm(e)}catch(l){yt(e,s,l)}break;case 5:var o=e.return;try{Nm(e)}catch(l){yt(e,o,l)}}}catch(l){yt(e,e.return,l)}if(e===t){he=null;break}var a=e.sibling;if(a!==null){a.return=e.return,he=a;break}he=e.return}}var DA=Math.ceil,Ud=Ti.ReactCurrentDispatcher,b0=Ti.ReactCurrentOwner,rr=Ti.ReactCurrentBatchConfig,Ue=0,Ft=null,Ct=null,Kt=0,Mn=0,Qo=Is(0),Dt=0,hc=null,oo=0,Hh=0,T0=0,Vl=null,Sn=null,k0=0,wa=1/0,ti=null,Bd=!1,Om=null,rs=null,Vu=!1,Gi=null,zd=0,Fl=0,jm=null,id=-1,sd=0;function vn(){return Ue&6?bt():id!==-1?id:id=bt()}function is(t){return t.mode&1?Ue&2&&Kt!==0?Kt&-Kt:vA.transition!==null?(sd===0&&(sd=ox()),sd):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:fx(t.type)),t):1}function _r(t,e,n,r){if(50<Fl)throw Fl=0,jm=null,Error(ne(185));Uc(t,n,r),(!(Ue&2)||t!==Ft)&&(t===Ft&&(!(Ue&2)&&(Hh|=n),Dt===4&&Fi(t,Kt)),On(t,r),n===1&&Ue===0&&!(e.mode&1)&&(wa=bt()+500,Bh&&Ss()))}function On(t,e){var n=t.callbackNode;vS(t,e);var r=kd(t,t===Ft?Kt:0);if(r===0)n!==null&&n1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n1(n),e===1)t.tag===0?yA(G1.bind(null,t)):Rx(G1.bind(null,t)),fA(function(){!(Ue&6)&&Ss()}),n=null;else{switch(ax(r)){case 1:n=Zg;break;case 4:n=ix;break;case 16:n=Td;break;case 536870912:n=sx;break;default:n=Td}n=NE(n,bE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bE(t,e){if(id=-1,sd=0,Ue&6)throw Error(ne(327));var n=t.callbackNode;if(oa()&&t.callbackNode!==n)return null;var r=kd(t,t===Ft?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=$d(t,r);else{e=r;var i=Ue;Ue|=2;var s=kE();(Ft!==t||Kt!==e)&&(ti=null,wa=bt()+500,Qs(t,e));do try{VA();break}catch(a){TE(t,a)}while(!0);u0(),Ud.current=s,Ue=i,Ct!==null?e=0:(Ft=null,Kt=0,e=Dt)}if(e!==0){if(e===2&&(i=am(t),i!==0&&(r=i,e=Dm(t,i))),e===1)throw n=hc,Qs(t,0),Fi(t,r),On(t,bt()),n;if(e===6)Fi(t,r);else{if(i=t.current.alternate,!(r&30)&&!LA(i)&&(e=$d(t,r),e===2&&(s=am(t),s!==0&&(r=s,e=Dm(t,s))),e===1))throw n=hc,Qs(t,0),Fi(t,r),On(t,bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ne(345));case 2:Us(t,Sn,ti);break;case 3:if(Fi(t,r),(r&130023424)===r&&(e=k0+500-bt(),10<e)){if(kd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mm(Us.bind(null,t,Sn,ti),e);break}Us(t,Sn,ti);break;case 4:if(Fi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*DA(r/1960))-r,10<r){t.timeoutHandle=mm(Us.bind(null,t,Sn,ti),r);break}Us(t,Sn,ti);break;case 5:Us(t,Sn,ti);break;default:throw Error(ne(329))}}}return On(t,bt()),t.callbackNode===n?bE.bind(null,t):null}function Dm(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(Qs(t,e).flags|=256),t=$d(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&Lm(e)),t}function Lm(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function LA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Er(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fi(t,e){for(e&=~T0,e&=~Hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function G1(t){if(Ue&6)throw Error(ne(327));oa();var e=kd(t,0);if(!(e&1))return On(t,bt()),null;var n=$d(t,e);if(t.tag!==0&&n===2){var r=am(t);r!==0&&(e=r,n=Dm(t,r))}if(n===1)throw n=hc,Qs(t,0),Fi(t,e),On(t,bt()),n;if(n===6)throw Error(ne(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Us(t,Sn,ti),On(t,bt()),null}function I0(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(wa=bt()+500,Bh&&Ss())}}function ao(t){Gi!==null&&Gi.tag===0&&!(Ue&6)&&oa();var e=Ue;Ue|=1;var n=rr.transition,r=Ke;try{if(rr.transition=null,Ke=1,t)return t()}finally{Ke=r,rr.transition=n,Ue=e,!(Ue&6)&&Ss()}}function S0(){Mn=Qo.current,st(Qo)}function Qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hA(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(a0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nd();break;case 3:va(),st(Pn),st(ln),g0();break;case 5:m0(r);break;case 4:va();break;case 13:st(dt);break;case 19:st(dt);break;case 10:d0(r.type._context);break;case 22:case 23:S0()}n=n.return}if(Ft=t,Ct=t=ss(t.current,null),Kt=Mn=e,Dt=0,hc=null,T0=Hh=oo=0,Sn=Vl=null,Ws!==null){for(e=0;e<Ws.length;e++)if(n=Ws[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ws=null}return t}function TE(t,e){do{var n=Ct;try{if(u0(),td.current=Fd,Vd){for(var r=ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vd=!1}if(so=0,Vt=jt=ht=null,Ll=!1,cc=0,b0.current=null,n===null||n.return===null){Dt=1,hc=e,Ct=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=D1(o);if(y!==null){y.flags&=-257,L1(y,o,a,s,e),y.mode&1&&j1(s,u,e),e=y,l=u;var w=e.updateQueue;if(w===null){var P=new Set;P.add(l),e.updateQueue=P}else w.add(l);break e}else{if(!(e&1)){j1(s,u,e),A0();break e}l=Error(ne(426))}}else if(at&&a.mode&1){var C=D1(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),L1(C,o,a,s,e),l0(_a(l,a));break e}}s=l=_a(l,a),Dt!==4&&(Dt=2),Vl===null?Vl=[s]:Vl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=aE(s,l,e);A1(s,_);break e;case 1:a=l;var x=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(rs===null||!rs.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=lE(s,a,e);A1(s,N);break e}}s=s.return}while(s!==null)}SE(n)}catch(D){e=D,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function kE(){var t=Ud.current;return Ud.current=Fd,t===null?Fd:t}function A0(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(oo&268435455)&&!(Hh&268435455)||Fi(Ft,Kt)}function $d(t,e){var n=Ue;Ue|=2;var r=kE();(Ft!==t||Kt!==e)&&(ti=null,Qs(t,e));do try{MA();break}catch(i){TE(t,i)}while(!0);if(u0(),Ue=n,Ud.current=r,Ct!==null)throw Error(ne(261));return Ft=null,Kt=0,Dt}function MA(){for(;Ct!==null;)IE(Ct)}function VA(){for(;Ct!==null&&!cS();)IE(Ct)}function IE(t){var e=CE(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?SE(t):Ct=e,b0.current=null}function SE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PA(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Ct=null;return}}else if(n=NA(n,e,Mn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Dt===0&&(Dt=5)}function Us(t,e,n){var r=Ke,i=rr.transition;try{rr.transition=null,Ke=1,FA(t,e,n,r)}finally{rr.transition=i,Ke=r}return null}function FA(t,e,n,r){do oa();while(Gi!==null);if(Ue&6)throw Error(ne(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ne(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_S(t,s),t===Ft&&(Ct=Ft=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vu||(Vu=!0,NE(Td,function(){return oa(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=rr.transition,rr.transition=null;var o=Ke;Ke=1;var a=Ue;Ue|=4,b0.current=null,OA(t,n),xE(n,t),sA(fm),Id=!!hm,fm=hm=null,t.current=n,jA(n),uS(),Ue=a,Ke=o,rr.transition=s}else t.current=n;if(Vu&&(Vu=!1,Gi=t,zd=i),s=t.pendingLanes,s===0&&(rs=null),fS(n.stateNode),On(t,bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bd)throw Bd=!1,t=Om,Om=null,t;return zd&1&&t.tag!==0&&oa(),s=t.pendingLanes,s&1?t===jm?Fl++:(Fl=0,jm=t):Fl=0,Ss(),null}function oa(){if(Gi!==null){var t=ax(zd),e=rr.transition,n=Ke;try{if(rr.transition=null,Ke=16>t?16:t,Gi===null)var r=!1;else{if(t=Gi,Gi=null,zd=0,Ue&6)throw Error(ne(331));var i=Ue;for(Ue|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(he=u;he!==null;){var d=he;switch(d.tag){case 0:case 11:case 15:Ml(8,d,s)}var f=d.child;if(f!==null)f.return=d,he=f;else for(;he!==null;){d=he;var p=d.sibling,y=d.return;if(vE(d),d===u){he=null;break}if(p!==null){p.return=y,he=p;break}he=y}}}var w=s.alternate;if(w!==null){var P=w.child;if(P!==null){w.child=null;do{var C=P.sibling;P.sibling=null,P=C}while(P!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ml(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,he=_;break e}he=s.return}}var x=t.current;for(he=x;he!==null;){o=he;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,he=k;else e:for(o=x;he!==null;){if(a=he,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wh(9,a)}}catch(D){yt(a,a.return,D)}if(a===o){he=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,he=N;break e}he=a.return}}if(Ue=i,Ss(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(Lh,t)}catch{}r=!0}return r}finally{Ke=n,rr.transition=e}}return!1}function Q1(t,e,n){e=_a(n,e),e=aE(t,e,1),t=ns(t,e,1),e=vn(),t!==null&&(Uc(t,1,e),On(t,e))}function yt(t,e,n){if(t.tag===3)Q1(t,t,n);else for(;e!==null;){if(e.tag===3){Q1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=_a(n,t),t=lE(e,t,1),e=ns(e,t,1),t=vn(),e!==null&&(Uc(e,1,t),On(e,t));break}}e=e.return}}function UA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Kt&n)===n&&(Dt===4||Dt===3&&(Kt&130023424)===Kt&&500>bt()-k0?Qs(t,0):T0|=n),On(t,e)}function AE(t,e){e===0&&(t.mode&1?(e=Au,Au<<=1,!(Au&130023424)&&(Au=4194304)):e=1);var n=vn();t=mi(t,e),t!==null&&(Uc(t,e,n),On(t,n))}function BA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AE(t,n)}function zA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ne(314))}r!==null&&r.delete(e),AE(t,n)}var CE;CE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)Nn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Nn=!1,CA(t,e,n);Nn=!!(t.flags&131072)}else Nn=!1,at&&e.flags&1048576&&Ox(e,Od,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;rd(t,e),t=e.pendingProps;var i=ma(e,ln.current);sa(e,n),i=v0(null,e,r,t,i,n);var s=_0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Rn(r)?(s=!0,Pd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f0(e),i.updater=$h,e.stateNode=i,i._reactInternals=e,Em(e,r,t,n),e=km(null,e,r,!0,s,n)):(e.tag=0,at&&s&&o0(e),mn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(rd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WA(r),t=hr(r,t),i){case 0:e=Tm(null,e,r,t,n);break e;case 1:e=F1(null,e,r,t,n);break e;case 11:e=M1(null,e,r,t,n);break e;case 14:e=V1(null,e,r,hr(r.type,t),n);break e}throw Error(ne(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),Tm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),F1(t,e,r,i,n);case 3:e:{if(hE(e),t===null)throw Error(ne(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Fx(t,e),Ld(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_a(Error(ne(423)),e),e=U1(t,e,r,n,i);break e}else if(r!==i){i=_a(Error(ne(424)),e),e=U1(t,e,r,n,i);break e}else for(Vn=ts(e.stateNode.containerInfo.firstChild),Bn=e,at=!0,pr=null,n=Mx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ga(),r===i){e=gi(t,e,n);break e}mn(t,e,r,n)}e=e.child}return e;case 5:return Ux(e),t===null&&_m(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,pm(r,i)?o=null:s!==null&&pm(r,s)&&(e.flags|=32),dE(t,e),mn(t,e,o,n),e.child;case 6:return t===null&&_m(e),null;case 13:return fE(t,e,n);case 4:return p0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ya(e,null,r,n):mn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),M1(t,e,r,i,n);case 7:return mn(t,e,e.pendingProps,n),e.child;case 8:return mn(t,e,e.pendingProps.children,n),e.child;case 12:return mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(jd,r._currentValue),r._currentValue=o,s!==null)if(Er(s.value,o)){if(s.children===i.children&&!Pn.current){e=gi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ui(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),wm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ne(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}mn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,sa(e,n),i=sr(i),r=r(i),e.flags|=1,mn(t,e,r,n),e.child;case 14:return r=e.type,i=hr(r,e.pendingProps),i=hr(r.type,i),V1(t,e,r,i,n);case 15:return cE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:hr(r,i),rd(t,e),e.tag=1,Rn(r)?(t=!0,Pd(e)):t=!1,sa(e,n),oE(e,r,i),Em(e,r,i,n),km(null,e,r,!0,t,n);case 19:return pE(t,e,n);case 22:return uE(t,e,n)}throw Error(ne(156,e.tag))};function NE(t,e){return rx(t,e)}function $A(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new $A(t,e,n,r)}function C0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WA(t){if(typeof t=="function")return C0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gg)return 11;if(t===Qg)return 14}return 2}function ss(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function od(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")C0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fo:return Ys(n.children,i,s,e);case Kg:o=8,i|=8;break;case qp:return t=nr(12,n,e,i|2),t.elementType=qp,t.lanes=s,t;case Kp:return t=nr(13,n,e,i),t.elementType=Kp,t.lanes=s,t;case Gp:return t=nr(19,n,e,i),t.elementType=Gp,t.lanes=s,t;case Uw:return qh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vw:o=10;break e;case Fw:o=9;break e;case Gg:o=11;break e;case Qg:o=14;break e;case Li:o=16,r=null;break e}throw Error(ne(130,t==null?t:typeof t,""))}return e=nr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ys(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function qh(t,e,n,r){return t=nr(22,t,r,e),t.elementType=Uw,t.lanes=n,t.stateNode={isHidden:!1},t}function gp(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function yp(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N0(t,e,n,r,i,s,o,a,l){return t=new HA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f0(s),t}function qA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function PE(t){if(!t)return fs;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(ne(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Rn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ne(171))}if(t.tag===1){var n=t.type;if(Rn(n))return Px(t,n,e)}return e}function RE(t,e,n,r,i,s,o,a,l){return t=N0(n,r,!0,t,i,s,o,a,l),t.context=PE(null),n=t.current,r=vn(),i=is(n),s=ui(r,i),s.callback=e??null,ns(n,s,i),t.current.lanes=i,Uc(t,i,r),On(t,r),t}function Kh(t,e,n,r){var i=e.current,s=vn(),o=is(i);return n=PE(n),e.context===null?e.context=n:e.pendingContext=n,e=ui(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(i,e,o),t!==null&&(_r(t,i,o,s),ed(t,i,o)),o}function Wd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function P0(t,e){Y1(t,e),(t=t.alternate)&&Y1(t,e)}function KA(){return null}var OE=typeof reportError=="function"?reportError:function(t){console.error(t)};function R0(t){this._internalRoot=t}Gh.prototype.render=R0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ne(409));Kh(t,e,null,null)};Gh.prototype.unmount=R0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ao(function(){Kh(null,t,null,null)}),e[pi]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ux();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vi.length&&e!==0&&e<Vi[n].priority;n++);Vi.splice(n,0,t),n===0&&hx(t)}};function O0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z1(){}function GA(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Wd(o);s.call(u)}}var o=RE(e,r,t,0,null,!1,!1,"",Z1);return t._reactRootContainer=o,t[pi]=o.current,ic(t.nodeType===8?t.parentNode:t),ao(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Wd(l);a.call(u)}}var l=N0(t,0,!1,null,null,!1,!1,"",Z1);return t._reactRootContainer=l,t[pi]=l.current,ic(t.nodeType===8?t.parentNode:t),ao(function(){Kh(e,l,n,r)}),l}function Yh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Wd(o);a.call(l)}}Kh(e,o,t,i)}else o=GA(n,e,t,i,r);return Wd(o)}lx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_l(e.pendingLanes);n!==0&&(Xg(e,n|1),On(e,bt()),!(Ue&6)&&(wa=bt()+500,Ss()))}break;case 13:ao(function(){var r=mi(t,1);if(r!==null){var i=vn();_r(r,t,1,i)}}),P0(t,1)}};Jg=function(t){if(t.tag===13){var e=mi(t,134217728);if(e!==null){var n=vn();_r(e,t,134217728,n)}P0(t,134217728)}};cx=function(t){if(t.tag===13){var e=is(t),n=mi(t,e);if(n!==null){var r=vn();_r(n,t,e,r)}P0(t,e)}};ux=function(){return Ke};dx=function(t,e){var n=Ke;try{return Ke=t,e()}finally{Ke=n}};im=function(t,e,n){switch(e){case"input":if(Zp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uh(r);if(!i)throw Error(ne(90));zw(r),Zp(r,i)}}}break;case"textarea":Ww(t,n);break;case"select":e=n.value,e!=null&&ta(t,!!n.multiple,e,!1)}};Zw=I0;Xw=ao;var QA={usingClientEntryPoint:!1,Events:[zc,$o,Uh,Qw,Yw,I0]},fl={findFiberByHostInstance:$s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YA={bundleType:fl.bundleType,version:fl.version,rendererPackageName:fl.rendererPackageName,rendererConfig:fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tx(t),t===null?null:t.stateNode},findFiberByHostInstance:fl.findFiberByHostInstance||KA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Lh=Fu.inject(YA),Mr=Fu}catch{}}qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QA;qn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O0(e))throw Error(ne(200));return qA(t,e,null,n)};qn.createRoot=function(t,e){if(!O0(t))throw Error(ne(299));var n=!1,r="",i=OE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N0(t,1,!1,null,null,n,!1,r,i),t[pi]=e.current,ic(t.nodeType===8?t.parentNode:t),new R0(e)};qn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ne(188)):(t=Object.keys(t).join(","),Error(ne(268,t)));return t=tx(e),t=t===null?null:t.stateNode,t};qn.flushSync=function(t){return ao(t)};qn.hydrate=function(t,e,n){if(!Qh(e))throw Error(ne(200));return Yh(null,t,e,!0,n)};qn.hydrateRoot=function(t,e,n){if(!O0(t))throw Error(ne(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=OE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=RE(e,null,t,1,n??null,i,!1,s,o),t[pi]=e.current,ic(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gh(e)};qn.render=function(t,e,n){if(!Qh(e))throw Error(ne(200));return Yh(null,t,e,!1,n)};qn.unmountComponentAtNode=function(t){if(!Qh(t))throw Error(ne(40));return t._reactRootContainer?(ao(function(){Yh(null,null,t,!1,function(){t._reactRootContainer=null,t[pi]=null})}),!0):!1};qn.unstable_batchedUpdates=I0;qn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qh(n))throw Error(ne(200));if(t==null||t._reactInternals===void 0)throw Error(ne(38));return Yh(t,e,n,!1,r)};qn.version="18.3.1-next-f1338f8080-20240426";function jE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jE)}catch(t){console.error(t)}}jE(),jw.exports=qn;var DE=jw.exports,LE,X1=DE;LE=X1.createRoot,X1.hydrateRoot;const J1=()=>{};let j0={},ME={},VE=null,FE={mark:J1,measure:J1};try{typeof window<"u"&&(j0=window),typeof document<"u"&&(ME=document),typeof MutationObserver<"u"&&(VE=MutationObserver),typeof performance<"u"&&(FE=performance)}catch{}const{userAgent:e_=""}=j0.navigator||{},ps=j0,ot=ME,t_=VE,Uu=FE;ps.document;const ki=!!ot.documentElement&&!!ot.head&&typeof ot.addEventListener=="function"&&typeof ot.createElement=="function",UE=~e_.indexOf("MSIE")||~e_.indexOf("Trident/");var lt="classic",BE="duotone",zn="sharp",$n="sharp-duotone",ZA=[lt,BE,zn,$n],XA={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},n_={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},JA=["kit"],e3=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,t3=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,n3={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},r3={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},i3={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},s3={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},o3={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},a3={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},zE={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},l3=["solid","regular","light","thin","duotone","brands"],$E=[1,2,3,4,5,6,7,8,9,10],c3=$E.concat([11,12,13,14,15,16,17,18,19,20]),xl={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},u3=[...Object.keys(s3),...l3,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",xl.GROUP,xl.SWAP_OPACITY,xl.PRIMARY,xl.SECONDARY].concat($E.map(t=>"".concat(t,"x"))).concat(c3.map(t=>"w-".concat(t))),d3={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},h3={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},f3={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},r_={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const yi="___FONT_AWESOME___",Mm=16,WE="fa",HE="svg-inline--fa",lo="data-fa-i2svg",Vm="data-fa-pseudo-element",p3="data-fa-pseudo-element-pending",D0="data-prefix",L0="data-icon",i_="fontawesome-i2svg",m3="async",g3=["HTML","HEAD","STYLE","SCRIPT"],qE=(()=>{try{return!0}catch{return!1}})(),KE=[lt,zn,$n];function Wc(t){return new Proxy(t,{get(e,n){return n in e?e[n]:e[lt]}})}const GE={...zE};GE[lt]={...zE[lt],...n_.kit,...n_["kit-duotone"]};const Zs=Wc(GE),Fm={...a3};Fm[lt]={...Fm[lt],...r_.kit,...r_["kit-duotone"]};const fc=Wc(Fm),Um={...o3};Um[lt]={...Um[lt],...f3.kit};const Xs=Wc(Um),Bm={...i3};Bm[lt]={...Bm[lt],...h3.kit};const y3=Wc(Bm),v3=e3,QE="fa-layers-text",_3=t3,w3={...XA};Wc(w3);const x3=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],vp=xl,xa=new Set;Object.keys(fc[lt]).map(xa.add.bind(xa));Object.keys(fc[zn]).map(xa.add.bind(xa));Object.keys(fc[$n]).map(xa.add.bind(xa));const E3=[...JA,...u3],Ul=ps.FontAwesomeConfig||{};function b3(t){var e=ot.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function T3(t){return t===""?!0:t==="false"?!1:t==="true"?!0:t}ot&&typeof ot.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[n,r]=e;const i=T3(b3(n));i!=null&&(Ul[r]=i)});const YE={styleDefault:"solid",familyDefault:"classic",cssPrefix:WE,replacementClass:HE,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ul.familyPrefix&&(Ul.cssPrefix=Ul.familyPrefix);const Ea={...YE,...Ul};Ea.autoReplaceSvg||(Ea.observeMutations=!1);const pe={};Object.keys(YE).forEach(t=>{Object.defineProperty(pe,t,{enumerable:!0,set:function(e){Ea[t]=e,Bl.forEach(n=>n(pe))},get:function(){return Ea[t]}})});Object.defineProperty(pe,"familyPrefix",{enumerable:!0,set:function(t){Ea.cssPrefix=t,Bl.forEach(e=>e(pe))},get:function(){return Ea.cssPrefix}});ps.FontAwesomeConfig=pe;const Bl=[];function k3(t){return Bl.push(t),()=>{Bl.splice(Bl.indexOf(t),1)}}const ji=Mm,Or={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function I3(t){if(!t||!ki)return;const e=ot.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;const n=ot.head.childNodes;let r=null;for(let i=n.length-1;i>-1;i--){const s=n[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}return ot.head.insertBefore(e,r),t}const S3="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function pc(){let t=12,e="";for(;t-- >0;)e+=S3[Math.random()*62|0];return e}function Ba(t){const e=[];for(let n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function M0(t){return t.classList?Ba(t.classList):(t.getAttribute("class")||"").split(" ").filter(e=>e)}function ZE(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A3(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,'="').concat(ZE(t[n]),'" '),"").trim()}function Zh(t){return Object.keys(t||{}).reduce((e,n)=>e+"".concat(n,": ").concat(t[n].trim(),";"),"")}function V0(t){return t.size!==Or.size||t.x!==Or.x||t.y!==Or.y||t.rotate!==Or.rotate||t.flipX||t.flipY}function C3(t){let{transform:e,containerWidth:n,iconWidth:r}=t;const i={transform:"translate(".concat(n/2," 256)")},s="translate(".concat(e.x*32,", ").concat(e.y*32,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)"),l={transform:"".concat(s," ").concat(o," ").concat(a)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:l,path:u}}function N3(t){let{transform:e,width:n=Mm,height:r=Mm,startCentered:i=!1}=t,s="";return i&&UE?s+="translate(".concat(e.x/ji-n/2,"em, ").concat(e.y/ji-r/2,"em) "):i?s+="translate(calc(-50% + ".concat(e.x/ji,"em), calc(-50% + ").concat(e.y/ji,"em)) "):s+="translate(".concat(e.x/ji,"em, ").concat(e.y/ji,"em) "),s+="scale(".concat(e.size/ji*(e.flipX?-1:1),", ").concat(e.size/ji*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}var P3=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function XE(){const t=WE,e=HE,n=pe.cssPrefix,r=pe.replacementClass;let i=P3;if(n!==t||r!==e){const s=new RegExp("\\.".concat(t,"\\-"),"g"),o=new RegExp("\\--".concat(t,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(r))}return i}let s_=!1;function _p(){pe.autoAddCss&&!s_&&(I3(XE()),s_=!0)}var R3={mixout(){return{dom:{css:XE,insertCss:_p}}},hooks(){return{beforeDOMElementCreation(){_p()},beforeI2svg(){_p()}}}};const vi=ps||{};vi[yi]||(vi[yi]={});vi[yi].styles||(vi[yi].styles={});vi[yi].hooks||(vi[yi].hooks={});vi[yi].shims||(vi[yi].shims=[]);var jr=vi[yi];const JE=[],eb=function(){ot.removeEventListener("DOMContentLoaded",eb),Hd=1,JE.map(t=>t())};let Hd=!1;ki&&(Hd=(ot.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ot.readyState),Hd||ot.addEventListener("DOMContentLoaded",eb));function O3(t){ki&&(Hd?setTimeout(t,0):JE.push(t))}function Hc(t){const{tag:e,attributes:n={},children:r=[]}=t;return typeof t=="string"?ZE(t):"<".concat(e," ").concat(A3(n),">").concat(r.map(Hc).join(""),"</").concat(e,">")}function o_(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}var wp=function(e,n,r,i){var s=Object.keys(e),o=s.length,a=n,l,u,d;for(r===void 0?(l=1,d=e[s[0]]):(l=0,d=r);l<o;l++)u=s[l],d=a(d,e[u],u,e);return d};function j3(t){const e=[];let n=0;const r=t.length;for(;n<r;){const i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const s=t.charCodeAt(n++);(s&64512)==56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e}function zm(t){const e=j3(t);return e.length===1?e[0].toString(16):null}function D3(t,e){const n=t.length;let r=t.charCodeAt(e),i;return r>=55296&&r<=56319&&n>e+1&&(i=t.charCodeAt(e+1),i>=56320&&i<=57343)?(r-55296)*1024+i-56320+65536:r}function a_(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return!!r.icon?e[r.iconName]=r.icon:e[n]=r,e},{})}function $m(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,i=a_(e);typeof jr.hooks.addPack=="function"&&!r?jr.hooks.addPack(t,a_(e)):jr.styles[t]={...jr.styles[t]||{},...i},t==="fas"&&$m("fa",e)}const{styles:zs,shims:L3}=jr,M3={[lt]:Object.values(Xs[lt]),[zn]:Object.values(Xs[zn]),[$n]:Object.values(Xs[$n])};let F0=null,tb={},nb={},rb={},ib={},sb={};const V3={[lt]:Object.keys(Zs[lt]),[zn]:Object.keys(Zs[zn]),[$n]:Object.keys(Zs[$n])};function F3(t){return~E3.indexOf(t)}function U3(t,e){const n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r===t&&i!==""&&!F3(i)?i:null}const ob=()=>{const t=r=>wp(zs,(i,s,o)=>(i[o]=wp(s,r,{}),i),{});tb=t((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>typeof a=="number").forEach(a=>{r[a.toString(16)]=s}),r)),nb=t((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>typeof a=="string").forEach(a=>{r[a]=s}),r)),sb=t((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in zs||pe.autoFetchSvg,n=wp(L3,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return o==="far"&&!e&&(o="fas"),typeof s=="string"&&(r.names[s]={prefix:o,iconName:a}),typeof s=="number"&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});rb=n.names,ib=n.unicodes,F0=Xh(pe.styleDefault,{family:pe.familyDefault})};k3(t=>{F0=Xh(t.styleDefault,{family:pe.familyDefault})});ob();function U0(t,e){return(tb[t]||{})[e]}function B3(t,e){return(nb[t]||{})[e]}function Qi(t,e){return(sb[t]||{})[e]}function ab(t){return rb[t]||{prefix:null,iconName:null}}function z3(t){const e=ib[t],n=U0("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ms(){return F0}const B0=()=>({prefix:null,iconName:null,rest:[]});function Xh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=lt}=e,r=Zs[n][t],i=fc[n][t]||fc[n][r],s=t in jr.styles?t:null;return i||s||null}const $3={[lt]:Object.keys(Xs[lt]),[zn]:Object.keys(Xs[zn]),[$n]:Object.keys(Xs[$n])};function Jh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=e,r={[lt]:"".concat(pe.cssPrefix,"-").concat(lt),[zn]:"".concat(pe.cssPrefix,"-").concat(zn),[$n]:"".concat(pe.cssPrefix,"-").concat($n)};let i=null,s=lt;const o=ZA.filter(l=>l!==BE);o.forEach(l=>{(t.includes(r[l])||t.some(u=>$3[l].includes(u)))&&(s=l)});const a=t.reduce((l,u)=>{const d=U3(pe.cssPrefix,u);if(zs[u]?(u=M3[s].includes(u)?y3[s][u]:u,i=u,l.prefix=u):V3[s].indexOf(u)>-1?(i=u,l.prefix=Xh(u,{family:s})):d?l.iconName=d:u!==pe.replacementClass&&!o.some(f=>u===r[f])&&l.rest.push(u),!n&&l.prefix&&l.iconName){const f=i==="fa"?ab(l.iconName):{},p=Qi(l.prefix,l.iconName);f.prefix&&(i=null),l.iconName=f.iconName||p||l.iconName,l.prefix=f.prefix||l.prefix,l.prefix==="far"&&!zs.far&&zs.fas&&!pe.autoFetchSvg&&(l.prefix="fas")}return l},B0());return(t.includes("fa-brands")||t.includes("fab"))&&(a.prefix="fab"),(t.includes("fa-duotone")||t.includes("fad"))&&(a.prefix="fad"),!a.prefix&&s===zn&&(zs.fass||pe.autoFetchSvg)&&(a.prefix="fass",a.iconName=Qi(a.prefix,a.iconName)||a.iconName),!a.prefix&&s===$n&&(zs.fasds||pe.autoFetchSvg)&&(a.prefix="fasds",a.iconName=Qi(a.prefix,a.iconName)||a.iconName),(a.prefix==="fa"||i==="fa")&&(a.prefix=ms()||"fas"),a}class W3{constructor(){this.definitions={}}add(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]={...this.definitions[s]||{},...i[s]},$m(s,i[s]);const o=Xs[lt][s];o&&$m(o,i[s]),ob()})}reset(){this.definitions={}}_pullDefinitions(e,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],l=a[2];e[s]||(e[s]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(e[s][u]=a)}),e[s][o]=a}),e}}let l_=[],Yo={};const aa={},H3=Object.keys(aa);function q3(t,e){let{mixoutsTo:n}=e;return l_=t,Yo={},Object.keys(aa).forEach(r=>{H3.indexOf(r)===-1&&delete aa[r]}),l_.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{typeof i[s]=="function"&&(n[s]=i[s]),typeof i[s]=="object"&&Object.keys(i[s]).forEach(o=>{n[s]||(n[s]={}),n[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{Yo[o]||(Yo[o]=[]),Yo[o].push(s[o])})}r.provides&&r.provides(aa)}),n}function Wm(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return(Yo[t]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function co(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(Yo[t]||[]).forEach(s=>{s.apply(null,n)})}function gs(){const t=arguments[0],e=Array.prototype.slice.call(arguments,1);return aa[t]?aa[t].apply(null,e):void 0}function Hm(t){t.prefix==="fa"&&(t.prefix="fas");let{iconName:e}=t;const n=t.prefix||ms();if(e)return e=Qi(n,e)||e,o_(lb.definitions,n,e)||o_(jr.styles,n,e)}const lb=new W3,K3=()=>{pe.autoReplaceSvg=!1,pe.observeMutations=!1,co("noAuto")},G3={i2svg:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return ki?(co("beforeI2svg",t),gs("pseudoElements2svg",t),gs("i2svg",t)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=t;pe.autoReplaceSvg===!1&&(pe.autoReplaceSvg=!0),pe.observeMutations=!0,O3(()=>{Y3({autoReplaceSvgRoot:e}),co("watch",t)})}},Q3={icon:t=>{if(t===null)return null;if(typeof t=="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Qi(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){const e=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],n=Xh(t[0]);return{prefix:n,iconName:Qi(n,e)||e}}if(typeof t=="string"&&(t.indexOf("".concat(pe.cssPrefix,"-"))>-1||t.match(v3))){const e=Jh(t.split(" "),{skipLookups:!0});return{prefix:e.prefix||ms(),iconName:Qi(e.prefix,e.iconName)||e.iconName}}if(typeof t=="string"){const e=ms();return{prefix:e,iconName:Qi(e,t)||t}}}},Gn={noAuto:K3,config:pe,dom:G3,parse:Q3,library:lb,findIconDefinition:Hm,toHtml:Hc},Y3=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=ot}=t;(Object.keys(jr.styles).length>0||pe.autoFetchSvg)&&ki&&pe.autoReplaceSvg&&Gn.dom.i2svg({node:e})};function ef(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(n=>Hc(n))}}),Object.defineProperty(t,"node",{get:function(){if(!ki)return;const n=ot.createElement("div");return n.innerHTML=t.html,n.children}}),t}function Z3(t){let{children:e,main:n,mask:r,attributes:i,styles:s,transform:o}=t;if(V0(o)&&n.found&&!r.found){const{width:a,height:l}=n,u={x:a/l/2,y:.5};i.style=Zh({...s,"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")})}return[{tag:"svg",attributes:i,children:e}]}function X3(t){let{prefix:e,iconName:n,children:r,attributes:i,symbol:s}=t;const o=s===!0?"".concat(e,"-").concat(pe.cssPrefix,"-").concat(n):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...i,id:o},children:r}]}]}function z0(t){const{icons:{main:e,mask:n},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:l,titleId:u,extra:d,watchable:f=!1}=t,{width:p,height:y}=n.found?n:e,w=r==="fak",P=[pe.replacementClass,i?"".concat(pe.cssPrefix,"-").concat(i):""].filter(D=>d.classes.indexOf(D)===-1).filter(D=>D!==""||!!D).concat(d.classes).join(" ");let C={children:[],attributes:{...d.attributes,"data-prefix":r,"data-icon":i,class:P,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(y)}};const _=w&&!~d.classes.indexOf("fa-fw")?{width:"".concat(p/y*16*.0625,"em")}:{};f&&(C.attributes[lo]=""),a&&(C.children.push({tag:"title",attributes:{id:C.attributes["aria-labelledby"]||"title-".concat(u||pc())},children:[a]}),delete C.attributes.title);const x={...C,prefix:r,iconName:i,main:e,mask:n,maskId:l,transform:s,symbol:o,styles:{..._,...d.styles}},{children:k,attributes:N}=n.found&&e.found?gs("generateAbstractMask",x)||{children:[],attributes:{}}:gs("generateAbstractIcon",x)||{children:[],attributes:{}};return x.children=k,x.attributes=N,o?X3(x):Z3(x)}function c_(t){const{content:e,width:n,height:r,transform:i,title:s,extra:o,watchable:a=!1}=t,l={...o.attributes,...s?{title:s}:{},class:o.classes.join(" ")};a&&(l[lo]="");const u={...o.styles};V0(i)&&(u.transform=N3({transform:i,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const d=Zh(u);d.length>0&&(l.style=d);const f=[];return f.push({tag:"span",attributes:l,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}function J3(t){const{content:e,title:n,extra:r}=t,i={...r.attributes,...n?{title:n}:{},class:r.classes.join(" ")},s=Zh(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}const{styles:xp}=jr;function qm(t){const e=t[0],n=t[1],[r]=t.slice(4);let i=null;return Array.isArray(r)?i={tag:"g",attributes:{class:"".concat(pe.cssPrefix,"-").concat(vp.GROUP)},children:[{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(vp.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(pe.cssPrefix,"-").concat(vp.PRIMARY),fill:"currentColor",d:r[1]}}]}:i={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:n,icon:i}}const eC={found:!1,width:512,height:512};function tC(t,e){!qE&&!pe.showMissingIcons&&t&&console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Km(t,e){let n=e;return e==="fa"&&pe.styleDefault!==null&&(e=ms()),new Promise((r,i)=>{if(n==="fa"){const s=ab(t)||{};t=s.iconName||t,e=s.prefix||e}if(t&&e&&xp[e]&&xp[e][t]){const s=xp[e][t];return r(qm(s))}tC(t,e),r({...eC,icon:pe.showMissingIcons&&t?gs("missingIconAbstract")||{}:{}})})}const u_=()=>{},Gm=pe.measurePerformance&&Uu&&Uu.mark&&Uu.measure?Uu:{mark:u_,measure:u_},El='FA "6.6.0"',nC=t=>(Gm.mark("".concat(El," ").concat(t," begins")),()=>cb(t)),cb=t=>{Gm.mark("".concat(El," ").concat(t," ends")),Gm.measure("".concat(El," ").concat(t),"".concat(El," ").concat(t," begins"),"".concat(El," ").concat(t," ends"))};var $0={begin:nC,end:cb};const ad=()=>{};function d_(t){return typeof(t.getAttribute?t.getAttribute(lo):null)=="string"}function rC(t){const e=t.getAttribute?t.getAttribute(D0):null,n=t.getAttribute?t.getAttribute(L0):null;return e&&n}function iC(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(pe.replacementClass)}function sC(){return pe.autoReplaceSvg===!0?ld.replace:ld[pe.autoReplaceSvg]||ld.replace}function oC(t){return ot.createElementNS("http://www.w3.org/2000/svg",t)}function aC(t){return ot.createElement(t)}function ub(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=t.tag==="svg"?oC:aC}=e;if(typeof t=="string")return ot.createTextNode(t);const r=n(t.tag);return Object.keys(t.attributes||[]).forEach(function(s){r.setAttribute(s,t.attributes[s])}),(t.children||[]).forEach(function(s){r.appendChild(ub(s,{ceFn:n}))}),r}function lC(t){let e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const ld={replace:function(t){const e=t[0];if(e.parentNode)if(t[1].forEach(n=>{e.parentNode.insertBefore(ub(n),e)}),e.getAttribute(lo)===null&&pe.keepOriginalSource){let n=ot.createComment(lC(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){const e=t[0],n=t[1];if(~M0(e).indexOf(pe.replacementClass))return ld.replace(t);const r=new RegExp("".concat(pe.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const s=n[0].attributes.class.split(" ").reduce((o,a)=>(a===pe.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});n[0].attributes.class=s.toSvg.join(" "),s.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=n.map(s=>Hc(s)).join(`
`);e.setAttribute(lo,""),e.innerHTML=i}};function h_(t){t()}function db(t,e){const n=typeof e=="function"?e:ad;if(t.length===0)n();else{let r=h_;pe.mutateApproach===m3&&(r=ps.requestAnimationFrame||h_),r(()=>{const i=sC(),s=$0.begin("mutate");t.map(i),s(),n()})}}let W0=!1;function hb(){W0=!0}function Qm(){W0=!1}let qd=null;function f_(t){if(!t_||!pe.observeMutations)return;const{treeCallback:e=ad,nodeCallback:n=ad,pseudoElementsCallback:r=ad,observeMutationsRoot:i=ot}=t;qd=new t_(s=>{if(W0)return;const o=ms();Ba(s).forEach(a=>{if(a.type==="childList"&&a.addedNodes.length>0&&!d_(a.addedNodes[0])&&(pe.searchPseudoElements&&r(a.target),e(a.target)),a.type==="attributes"&&a.target.parentNode&&pe.searchPseudoElements&&r(a.target.parentNode),a.type==="attributes"&&d_(a.target)&&~x3.indexOf(a.attributeName))if(a.attributeName==="class"&&rC(a.target)){const{prefix:l,iconName:u}=Jh(M0(a.target));a.target.setAttribute(D0,l||o),u&&a.target.setAttribute(L0,u)}else iC(a.target)&&n(a.target)})}),ki&&qd.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function cC(){qd&&qd.disconnect()}function uC(t){const e=t.getAttribute("style");let n=[];return e&&(n=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),n}function dC(t){const e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=t.innerText!==void 0?t.innerText.trim():"";let i=Jh(M0(t));return i.prefix||(i.prefix=ms()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=B3(i.prefix,t.innerText)||U0(i.prefix,zm(t.innerText))),!i.iconName&&pe.autoFetchSvg&&t.firstChild&&t.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=t.firstChild.data)),i}function hC(t){const e=Ba(t.attributes).reduce((i,s)=>(i.name!=="class"&&i.name!=="style"&&(i[s.name]=s.value),i),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return pe.autoA11y&&(n?e["aria-labelledby"]="".concat(pe.replacementClass,"-title-").concat(r||pc()):(e["aria-hidden"]="true",e.focusable="false")),e}function fC(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Or,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function p_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:i}=dC(t),s=hC(t),o=Wm("parseNodeAttributes",{},t);let a=e.styleParser?uC(t):[];return{iconName:n,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:r,transform:Or,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s},...o}}const{styles:pC}=jr;function fb(t){const e=pe.autoReplaceSvg==="nest"?p_(t,{styleParser:!1}):p_(t);return~e.extra.classes.indexOf(QE)?gs("generateLayersText",t,e):gs("generateSvgReplacementMutation",t,e)}let Wr=new Set;KE.map(t=>{Wr.add("fa-".concat(t))});Object.keys(Zs[lt]).map(Wr.add.bind(Wr));Object.keys(Zs[zn]).map(Wr.add.bind(Wr));Object.keys(Zs[$n]).map(Wr.add.bind(Wr));Wr=[...Wr];function m_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!ki)return Promise.resolve();const n=ot.documentElement.classList,r=d=>n.add("".concat(i_,"-").concat(d)),i=d=>n.remove("".concat(i_,"-").concat(d)),s=pe.autoFetchSvg?Wr:KE.map(d=>"fa-".concat(d)).concat(Object.keys(pC));s.includes("fa")||s.push("fa");const o=[".".concat(QE,":not([").concat(lo,"])")].concat(s.map(d=>".".concat(d,":not([").concat(lo,"])"))).join(", ");if(o.length===0)return Promise.resolve();let a=[];try{a=Ba(t.querySelectorAll(o))}catch{}if(a.length>0)r("pending"),i("complete");else return Promise.resolve();const l=$0.begin("onTree"),u=a.reduce((d,f)=>{try{const p=fb(f);p&&d.push(p)}catch(p){qE||p.name==="MissingIcon"&&console.error(p)}return d},[]);return new Promise((d,f)=>{Promise.all(u).then(p=>{db(p,()=>{r("active"),r("complete"),i("pending"),typeof e=="function"&&e(),l(),d()})}).catch(p=>{l(),f(p)})})}function mC(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;fb(t).then(n=>{n&&db([n],e)})}function gC(t){return function(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(e||{}).icon?e:Hm(e||{});let{mask:i}=n;return i&&(i=(i||{}).icon?i:Hm(i||{})),t(r,{...n,mask:i})}}const yC=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Or,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:l=[],attributes:u={},styles:d={}}=e;if(!t)return;const{prefix:f,iconName:p,icon:y}=t;return ef({type:"icon",...t},()=>(co("beforeDOMElementCreation",{iconDefinition:t,params:e}),pe.autoA11y&&(o?u["aria-labelledby"]="".concat(pe.replacementClass,"-title-").concat(a||pc()):(u["aria-hidden"]="true",u.focusable="false")),z0({icons:{main:qm(y),mask:i?qm(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:p,transform:{...Or,...n},symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:u,styles:d,classes:l}})))};var vC={mixout(){return{icon:gC(yC)}},hooks(){return{mutationObserverCallbacks(t){return t.treeCallback=m_,t.nodeCallback=mC,t}}},provides(t){t.i2svg=function(e){const{node:n=ot,callback:r=()=>{}}=e;return m_(n,r)},t.generateSvgReplacementMutation=function(e,n){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:l,mask:u,maskId:d,extra:f}=n;return new Promise((p,y)=>{Promise.all([Km(r,o),u.iconName?Km(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(w=>{let[P,C]=w;p([e,z0({icons:{main:P,mask:C},prefix:o,iconName:r,transform:a,symbol:l,maskId:d,title:i,titleId:s,extra:f,watchable:!0})])}).catch(y)})},t.generateAbstractIcon=function(e){let{children:n,attributes:r,main:i,transform:s,styles:o}=e;const a=Zh(o);a.length>0&&(r.style=a);let l;return V0(s)&&(l=gs("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),n.push(l||i.icon),{children:n,attributes:r}}}},_C={mixout(){return{layer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=e;return ef({type:"layer"},()=>{co("beforeDOMElementCreation",{assembler:t,params:e});let r=[];return t(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(pe.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},wC={mixout(){return{counter(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:i={},styles:s={}}=e;return ef({type:"counter",content:t},()=>(co("beforeDOMElementCreation",{content:t,params:e}),J3({content:t.toString(),title:n,extra:{attributes:i,styles:s,classes:["".concat(pe.cssPrefix,"-layers-counter"),...r]}})))}}}},xC={mixout(){return{text(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=Or,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return ef({type:"text",content:t},()=>(co("beforeDOMElementCreation",{content:t,params:e}),c_({content:t,transform:{...Or,...n},title:r,extra:{attributes:s,styles:o,classes:["".concat(pe.cssPrefix,"-layers-text"),...i]}})))}}},provides(t){t.generateLayersText=function(e,n){const{title:r,transform:i,extra:s}=n;let o=null,a=null;if(UE){const l=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/l,a=u.height/l}return pe.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,c_({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const EC=new RegExp('"',"ug"),g_=[1105920,1112319],y_={FontAwesome:{normal:"fas",400:"fas"},...r3,...n3,...d3},Ym=Object.keys(y_).reduce((t,e)=>(t[e.toLowerCase()]=y_[e],t),{}),bC=Object.keys(Ym).reduce((t,e)=>{const n=Ym[e];return t[e]=n[900]||[...Object.entries(n)][0][1],t},{});function TC(t){const e=t.replace(EC,""),n=D3(e,0),r=n>=g_[0]&&n<=g_[1],i=e.length===2?e[0]===e[1]:!1;return{value:zm(i?e[0]:e),isSecondary:r||i}}function kC(t,e){const n=t.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(Ym[n]||{})[i]||bC[n]}function v_(t,e){const n="".concat(p3).concat(e.replace(":","-"));return new Promise((r,i)=>{if(t.getAttribute(n)!==null)return r();const o=Ba(t.children).filter(p=>p.getAttribute(Vm)===e)[0],a=ps.getComputedStyle(t,e),l=a.getPropertyValue("font-family"),u=l.match(_3),d=a.getPropertyValue("font-weight"),f=a.getPropertyValue("content");if(o&&!u)return t.removeChild(o),r();if(u&&f!=="none"&&f!==""){const p=a.getPropertyValue("content");let y=kC(l,d);const{value:w,isSecondary:P}=TC(p),C=u[0].startsWith("FontAwesome");let _=U0(y,w),x=_;if(C){const k=z3(w);k.iconName&&k.prefix&&(_=k.iconName,y=k.prefix)}if(_&&!P&&(!o||o.getAttribute(D0)!==y||o.getAttribute(L0)!==x)){t.setAttribute(n,x),o&&t.removeChild(o);const k=fC(),{extra:N}=k;N.attributes[Vm]=e,Km(_,y).then(D=>{const R=z0({...k,icons:{main:D,mask:B0()},prefix:y,iconName:x,extra:N,watchable:!0}),S=ot.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?t.insertBefore(S,t.firstChild):t.appendChild(S),S.outerHTML=R.map(g=>Hc(g)).join(`
`),t.removeAttribute(n),r()}).catch(i)}else r()}else r()})}function IC(t){return Promise.all([v_(t,"::before"),v_(t,"::after")])}function SC(t){return t.parentNode!==document.head&&!~g3.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(Vm)&&(!t.parentNode||t.parentNode.tagName!=="svg")}function __(t){if(ki)return new Promise((e,n)=>{const r=Ba(t.querySelectorAll("*")).filter(SC).map(IC),i=$0.begin("searchPseudoElements");hb(),Promise.all(r).then(()=>{i(),Qm(),e()}).catch(()=>{i(),Qm(),n()})})}var AC={hooks(){return{mutationObserverCallbacks(t){return t.pseudoElementsCallback=__,t}}},provides(t){t.pseudoElements2svg=function(e){const{node:n=ot}=e;pe.searchPseudoElements&&__(n)}}};let w_=!1;var CC={mixout(){return{dom:{unwatch(){hb(),w_=!0}}}},hooks(){return{bootstrap(){f_(Wm("mutationObserverCallbacks",{}))},noAuto(){cC()},watch(t){const{observeMutationsRoot:e}=t;w_?Qm():f_(Wm("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const x_=t=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((n,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&o==="h")return n.flipX=!0,n;if(s&&o==="v")return n.flipY=!0,n;if(o=parseFloat(o),isNaN(o))return n;switch(s){case"grow":n.size=n.size+o;break;case"shrink":n.size=n.size-o;break;case"left":n.x=n.x-o;break;case"right":n.x=n.x+o;break;case"up":n.y=n.y-o;break;case"down":n.y=n.y+o;break;case"rotate":n.rotate=n.rotate+o;break}return n},e)};var NC={mixout(){return{parse:{transform:t=>x_(t)}}},hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-transform");return n&&(t.transform=x_(n)),t}}},provides(t){t.generateAbstractTransformGrouping=function(e){let{main:n,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(r.x*32,", ").concat(r.y*32,") "),l="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),d={transform:"".concat(a," ").concat(l," ").concat(u)},f={transform:"translate(".concat(s/2*-1," -256)")},p={outer:o,inner:d,path:f};return{tag:"g",attributes:{...p.outer},children:[{tag:"g",attributes:{...p.inner},children:[{tag:n.icon.tag,children:n.icon.children,attributes:{...n.icon.attributes,...p.path}}]}]}}}};const Ep={x:0,y:0,width:"100%",height:"100%"};function E_(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function PC(t){return t.tag==="g"?t.children:[t]}var RC={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-mask"),r=n?Jh(n.split(" ").map(i=>i.trim())):B0();return r.prefix||(r.prefix=ms()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides(t){t.generateAbstractMask=function(e){let{children:n,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:l,icon:u}=i,{width:d,icon:f}=s,p=C3({transform:a,containerWidth:d,iconWidth:l}),y={tag:"rect",attributes:{...Ep,fill:"white"}},w=u.children?{children:u.children.map(E_)}:{},P={tag:"g",attributes:{...p.inner},children:[E_({tag:u.tag,attributes:{...u.attributes,...p.path},...w})]},C={tag:"g",attributes:{...p.outer},children:[P]},_="mask-".concat(o||pc()),x="clip-".concat(o||pc()),k={tag:"mask",attributes:{...Ep,id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[y,C]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:x},children:PC(f)},k]};return n.push(N,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(x,")"),mask:"url(#".concat(_,")"),...Ep}}),{children:n,attributes:r}}}},OC={provides(t){let e=!1;ps.matchMedia&&(e=ps.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:{...r,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const s={...i,attributeName:"opacity"},o={tag:"circle",attributes:{...r,cx:"256",cy:"364",r:"28"},children:[]};return e||o.children.push({tag:"animate",attributes:{...i,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...s,values:"1;0;1;1;0;1;"}}),n.push(o),n.push({tag:"path",attributes:{...r,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:e?[]:[{tag:"animate",attributes:{...s,values:"1;0;0;0;0;1;"}}]}),e||n.push({tag:"path",attributes:{...r,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...s,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},jC={hooks(){return{parseNodeAttributes(t,e){const n=e.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return t.symbol=r,t}}}},DC=[R3,vC,_C,wC,xC,AC,CC,NC,RC,OC,jC];q3(DC,{mixoutsTo:Gn});Gn.noAuto;Gn.config;Gn.library;Gn.dom;const Zm=Gn.parse;Gn.findIconDefinition;Gn.toHtml;const LC=Gn.icon;Gn.layer;Gn.text;Gn.counter;var pb={exports:{}},MC="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",VC=MC,FC=VC;function mb(){}function gb(){}gb.resetWarningCache=mb;var UC=function(){function t(r,i,s,o,a,l){if(l!==FC){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gb,resetWarningCache:mb};return n.PropTypes=n,n};pb.exports=UC();var BC=pb.exports;const Pe=jh(BC);function b_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b_(Object(n),!0).forEach(function(r){Zo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kd(t){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kd(t)}function Zo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function $C(t,e){if(t==null)return{};var n=zC(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xm(t){return WC(t)||HC(t)||qC(t)||KC()}function WC(t){if(Array.isArray(t))return Jm(t)}function HC(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qC(t,e){if(t){if(typeof t=="string")return Jm(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jm(t,e)}}function Jm(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GC(t){var e,n=t.beat,r=t.fade,i=t.beatFade,s=t.bounce,o=t.shake,a=t.flash,l=t.spin,u=t.spinPulse,d=t.spinReverse,f=t.pulse,p=t.fixedWidth,y=t.inverse,w=t.border,P=t.listItem,C=t.flip,_=t.size,x=t.rotation,k=t.pull,N=(e={"fa-beat":n,"fa-fade":r,"fa-beat-fade":i,"fa-bounce":s,"fa-shake":o,"fa-flash":a,"fa-spin":l,"fa-spin-reverse":d,"fa-spin-pulse":u,"fa-pulse":f,"fa-fw":p,"fa-inverse":y,"fa-border":w,"fa-li":P,"fa-flip":C===!0,"fa-flip-horizontal":C==="horizontal"||C==="both","fa-flip-vertical":C==="vertical"||C==="both"},Zo(e,"fa-".concat(_),typeof _<"u"&&_!==null),Zo(e,"fa-rotate-".concat(x),typeof x<"u"&&x!==null&&x!==0),Zo(e,"fa-pull-".concat(k),typeof k<"u"&&k!==null),Zo(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(N).map(function(D){return N[D]?D:null}).filter(function(D){return D})}function QC(t){return t=t-0,t===t}function yb(t){return QC(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,function(e,n){return n?n.toUpperCase():""}),t.substr(0,1).toLowerCase()+t.substr(1))}var YC=["style"];function ZC(t){return t.charAt(0).toUpperCase()+t.slice(1)}function XC(t){return t.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,n){var r=n.indexOf(":"),i=yb(n.slice(0,r)),s=n.slice(r+1).trim();return i.startsWith("webkit")?e[ZC(i)]=s:e[i]=s,e},{})}function vb(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(l){return vb(t,l)}),i=Object.keys(e.attributes||{}).reduce(function(l,u){var d=e.attributes[u];switch(u){case"class":l.attrs.className=d,delete e.attributes.class;break;case"style":l.attrs.style=XC(d);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=d:l.attrs[yb(u)]=d}return l},{attrs:{}}),s=n.style,o=s===void 0?{}:s,a=$C(n,YC);return i.attrs.style=Nr(Nr({},i.attrs.style),o),t.apply(void 0,[e.tag,Nr(Nr({},i.attrs),a)].concat(Xm(r)))}var _b=!1;try{_b=!0}catch{}function JC(){if(!_b&&console&&typeof console.error=="function"){var t;(t=console).error.apply(t,arguments)}}function T_(t){if(t&&Kd(t)==="object"&&t.prefix&&t.iconName&&t.icon)return t;if(Zm.icon)return Zm.icon(t);if(t===null)return null;if(t&&Kd(t)==="object"&&t.prefix&&t.iconName)return t;if(Array.isArray(t)&&t.length===2)return{prefix:t[0],iconName:t[1]};if(typeof t=="string")return{prefix:"fas",iconName:t}}function bp(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Zo({},t,e):{}}var k_={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},ke=Je.forwardRef(function(t,e){var n=Nr(Nr({},k_),t),r=n.icon,i=n.mask,s=n.symbol,o=n.className,a=n.title,l=n.titleId,u=n.maskId,d=T_(r),f=bp("classes",[].concat(Xm(GC(n)),Xm((o||"").split(" ")))),p=bp("transform",typeof n.transform=="string"?Zm.transform(n.transform):n.transform),y=bp("mask",T_(i)),w=LC(d,Nr(Nr(Nr(Nr({},f),p),y),{},{symbol:s,title:a,titleId:l,maskId:u}));if(!w)return JC("Could not find icon",d),null;var P=w.abstract,C={ref:e};return Object.keys(n).forEach(function(_){k_.hasOwnProperty(_)||(C[_]=n[_])}),eN(P[0],C)});ke.displayName="FontAwesomeIcon";ke.propTypes={beat:Pe.bool,border:Pe.bool,beatFade:Pe.bool,bounce:Pe.bool,className:Pe.string,fade:Pe.bool,flash:Pe.bool,mask:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),maskId:Pe.string,fixedWidth:Pe.bool,inverse:Pe.bool,flip:Pe.oneOf([!0,!1,"horizontal","vertical","both"]),icon:Pe.oneOfType([Pe.object,Pe.array,Pe.string]),listItem:Pe.bool,pull:Pe.oneOf(["right","left"]),pulse:Pe.bool,rotation:Pe.oneOf([0,90,180,270]),shake:Pe.bool,size:Pe.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Pe.bool,spinPulse:Pe.bool,spinReverse:Pe.bool,symbol:Pe.oneOfType([Pe.bool,Pe.string]),title:Pe.string,titleId:Pe.string,transform:Pe.oneOfType([Pe.string,Pe.object]),swapOpacity:Pe.bool};var eN=vb.bind(null,Je.createElement);const tN={prefix:"fas",iconName:"calendar-days",icon:[448,512,["calendar-alt"],"f073","M128 0c17.7 0 32 14.3 32 32l0 32 128 0 0-32c0-17.7 14.3-32 32-32s32 14.3 32 32l0 32 48 0c26.5 0 48 21.5 48 48l0 48L0 160l0-48C0 85.5 21.5 64 48 64l48 0 0-32c0-17.7 14.3-32 32-32zM0 192l448 0 0 272c0 26.5-21.5 48-48 48L48 512c-26.5 0-48-21.5-48-48L0 192zm64 80l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm128 0l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zM64 400l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm144-16c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0zm112 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-32c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16z"]},nN=tN,rN={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},iN=rN,sN={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"]},oN={prefix:"fas",iconName:"share-nodes",icon:[448,512,["share-alt"],"f1e0","M352 224c53 0 96-43 96-96s-43-96-96-96s-96 43-96 96c0 4 .2 8 .7 11.9l-94.1 47C145.4 170.2 121.9 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.9 0 49.4-10.2 66.6-26.9l94.1 47c-.5 3.9-.7 7.8-.7 11.9c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-25.9 0-49.4 10.2-66.6 26.9l-94.1-47c.5-3.9 .7-7.8 .7-11.9s-.2-8-.7-11.9l94.1-47C302.6 213.8 326.1 224 352 224z"]},aN={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},lN={prefix:"fas",iconName:"bookmark",icon:[384,512,[128278,61591],"f02e","M0 48V487.7C0 501.1 10.9 512 24.3 512c5 0 9.9-1.5 14-4.4L192 400 345.7 507.6c4.1 2.9 9 4.4 14 4.4c13.4 0 24.3-10.9 24.3-24.3V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48z"]},mc={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"]},cN={prefix:"fas",iconName:"box",icon:[448,512,[128230],"f466","M50.7 58.5L0 160l208 0 0-128L93.7 32C75.5 32 58.9 42.3 50.7 58.5zM240 160l208 0L397.3 58.5C389.1 42.3 372.5 32 354.3 32L240 32l0 128zm208 32L0 192 0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-224z"]},I_={prefix:"fas",iconName:"gift",icon:[512,512,[127873],"f06b","M190.5 68.8L225.3 128l-1.3 0-72 0c-22.1 0-40-17.9-40-40s17.9-40 40-40l2.2 0c14.9 0 28.8 7.9 36.3 20.8zM64 88c0 14.4 3.5 28 9.6 40L32 128c-17.7 0-32 14.3-32 32l0 64c0 17.7 14.3 32 32 32l448 0c17.7 0 32-14.3 32-32l0-64c0-17.7-14.3-32-32-32l-41.6 0c6.1-12 9.6-25.6 9.6-40c0-48.6-39.4-88-88-88l-2.2 0c-31.9 0-61.5 16.9-77.7 44.4L256 85.5l-24.1-41C215.7 16.9 186.1 0 154.2 0L152 0C103.4 0 64 39.4 64 88zm336 0c0 22.1-17.9 40-40 40l-72 0-1.3 0 34.8-59.2C329.1 55.9 342.9 48 357.8 48l2.2 0c22.1 0 40 17.9 40 40zM32 288l0 176c0 26.5 21.5 48 48 48l144 0 0-224L32 288zM288 512l144 0c26.5 0 48-21.5 48-48l0-176-192 0 0 224z"]},uN={prefix:"fas",iconName:"box-open",icon:[640,512,[],"f49e","M58.9 42.1c3-6.1 9.6-9.6 16.3-8.7L320 64 564.8 33.4c6.7-.8 13.3 2.7 16.3 8.7l41.7 83.4c9 17.9-.6 39.6-19.8 45.1L439.6 217.3c-13.9 4-28.8-1.9-36.2-14.3L320 64 236.6 203c-7.4 12.4-22.3 18.3-36.2 14.3L37.1 170.6c-19.3-5.5-28.8-27.2-19.8-45.1L58.9 42.1zM321.1 128l54.9 91.4c14.9 24.8 44.6 36.6 72.5 28.6L576 211.6l0 167c0 22-15 41.2-36.4 46.6l-204.1 51c-10.2 2.6-20.9 2.6-31 0l-204.1-51C79 419.7 64 400.5 64 378.5l0-167L191.6 248c27.8 8 57.6-3.8 72.5-28.6L318.9 128l2.2 0z"]},dN={prefix:"fas",iconName:"language",icon:[640,512,[],"f1ab","M0 128C0 92.7 28.7 64 64 64l192 0 48 0 16 0 256 0c35.3 0 64 28.7 64 64l0 256c0 35.3-28.7 64-64 64l-256 0-16 0-48 0L64 448c-35.3 0-64-28.7-64-64L0 128zm320 0l0 256 256 0 0-256-256 0zM178.3 175.9c-3.2-7.2-10.4-11.9-18.3-11.9s-15.1 4.7-18.3 11.9l-64 144c-4.5 10.1 .1 21.9 10.2 26.4s21.9-.1 26.4-10.2l8.9-20.1 73.6 0 8.9 20.1c4.5 10.1 16.3 14.6 26.4 10.2s14.6-16.3 10.2-26.4l-64-144zM160 233.2L179 276l-38 0 19-42.8zM448 164c11 0 20 9 20 20l0 4 44 0 16 0c11 0 20 9 20 20s-9 20-20 20l-2 0-1.6 4.5c-8.9 24.4-22.4 46.6-39.6 65.4c.9 .6 1.8 1.1 2.7 1.6l18.9 11.3c9.5 5.7 12.5 18 6.9 27.4s-18 12.5-27.4 6.9l-18.9-11.3c-4.5-2.7-8.8-5.5-13.1-8.5c-10.6 7.5-21.9 14-34 19.4l-3.6 1.6c-10.1 4.5-21.9-.1-26.4-10.2s.1-21.9 10.2-26.4l3.6-1.6c6.4-2.9 12.6-6.1 18.5-9.8l-12.2-12.2c-7.8-7.8-7.8-20.5 0-28.3s20.5-7.8 28.3 0l14.6 14.6 .5 .5c12.4-13.1 22.5-28.3 29.8-45L448 228l-72 0c-11 0-20-9-20-20s9-20 20-20l52 0 0-4c0-11 9-20 20-20z"]},hN={prefix:"fas",iconName:"filter",icon:[512,512,[],"f0b0","M3.9 54.9C10.5 40.9 24.5 32 40 32l432 0c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9 320 448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6l0-79.1L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"]},fN={prefix:"fas",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"]},pN={prefix:"fas",iconName:"tags",icon:[512,512,[],"f02c","M345 39.1L472.8 168.4c52.4 53 52.4 138.2 0 191.2L360.8 472.9c-9.3 9.4-24.5 9.5-33.9 .2s-9.5-24.5-.2-33.9L438.6 325.9c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6 .2-33.9s24.6-9.2 33.9 .2zM0 229.5L0 80C0 53.5 21.5 32 48 32l149.5 0c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},wb={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},mN={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336l24 0 0-64-24 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l48 0c13.3 0 24 10.7 24 24l0 88 8 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-80 0c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},S_=mN,gN={prefix:"fas",iconName:"truck",icon:[640,512,[128666,9951],"f0d1","M48 0C21.5 0 0 21.5 0 48L0 368c0 26.5 21.5 48 48 48l16 0c0 53 43 96 96 96s96-43 96-96l128 0c0 53 43 96 96 96s96-43 96-96l32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64 0-32 0-18.7c0-17-6.7-33.3-18.7-45.3L512 114.7c-12-12-28.3-18.7-45.3-18.7L416 96l0-48c0-26.5-21.5-48-48-48L48 0zM416 160l50.7 0L544 237.3l0 18.7-128 0 0-96zM112 416a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm368-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},yN={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M0 24C0 10.7 10.7 0 24 0L69.5 0c22 0 41.5 12.8 50.6 32l411 0c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3l-288.5 0 5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5L488 336c13.3 0 24 10.7 24 24s-10.7 24-24 24l-288.3 0c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5L24 48C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},vN=yN,xb={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512A256 256 0 1 1 256 0zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},_N={prefix:"fas",iconName:"magnifying-glass",icon:[512,512,[128269,"search"],"f002","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"]},wN=_N,Eb={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},os=Eb,bb={prefix:"fas",iconName:"spinner",icon:[512,512,[],"f110","M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z"]},eg={prefix:"fas",iconName:"book",icon:[448,512,[128212],"f02d","M96 0C43 0 0 43 0 96L0 416c0 53 43 96 96 96l288 0 32 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l0-64c17.7 0 32-14.3 32-32l0-320c0-17.7-14.3-32-32-32L384 0 96 0zm0 384l256 0 0 64L96 448c-17.7 0-32-14.3-32-32s14.3-32 32-32zm32-240c0-8.8 7.2-16 16-16l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16zm16 48l192 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-192 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"]},tg={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},Tb={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5l0-377.4c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8L0 454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5l0-370.3c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11L304 456c0 11.4 11.7 19.3 22.4 15.5z"]},xN={prefix:"fas",iconName:"dollar-sign",icon:[320,512,[128178,61781,"dollar","usd"],"24","M160 0c17.7 0 32 14.3 32 32l0 35.7c1.6 .2 3.1 .4 4.7 .7c.4 .1 .7 .1 1.1 .2l48 8.8c17.4 3.2 28.9 19.9 25.7 37.2s-19.9 28.9-37.2 25.7l-47.5-8.7c-31.3-4.6-58.9-1.5-78.3 6.2s-27.2 18.3-29 28.1c-2 10.7-.5 16.7 1.2 20.4c1.8 3.9 5.5 8.3 12.8 13.2c16.3 10.7 41.3 17.7 73.7 26.3l2.9 .8c28.6 7.6 63.6 16.8 89.6 33.8c14.2 9.3 27.6 21.9 35.9 39.5c8.5 17.9 10.3 37.9 6.4 59.2c-6.9 38-33.1 63.4-65.6 76.7c-13.7 5.6-28.6 9.2-44.4 11l0 33.4c0 17.7-14.3 32-32 32s-32-14.3-32-32l0-34.9c-.4-.1-.9-.1-1.3-.2l-.2 0s0 0 0 0c-24.4-3.8-64.5-14.3-91.5-26.3c-16.1-7.2-23.4-26.1-16.2-42.2s26.1-23.4 42.2-16.2c20.9 9.3 55.3 18.5 75.2 21.6c31.9 4.7 58.2 2 76-5.3c16.9-6.9 24.6-16.9 26.8-28.9c1.9-10.6 .4-16.7-1.3-20.4c-1.9-4-5.6-8.4-13-13.3c-16.4-10.7-41.5-17.7-74-26.3l-2.8-.7s0 0 0 0C119.4 279.3 84.4 270 58.4 253c-14.2-9.3-27.5-22-35.8-39.6c-8.4-17.9-10.1-37.9-6.1-59.2C23.7 116 52.3 91.2 84.8 78.3c13.3-5.3 27.9-8.9 43.2-11L128 32c0-17.7 14.3-32 32-32z"]};/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}var Yi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yi||(Yi={}));const A_="popstate";function EN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ng("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Gd(i)}return TN(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substr(2,8)}function C_(t,e){return{usr:t.state,key:t.key,idx:e}}function ng(t,e,n,r){return n===void 0&&(n=null),gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?za(e):e,{state:n,key:e&&e.key||r||bN()})}function Gd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function za(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function TN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Yi.Pop,l=null,u=d();u==null&&(u=0,o.replaceState(gc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Yi.Pop;let C=d(),_=C==null?null:C-u;u=C,l&&l({action:a,location:P.location,delta:_})}function p(C,_){a=Yi.Push;let x=ng(P.location,C,_);u=d()+1;let k=C_(x,u),N=P.createHref(x);try{o.pushState(k,"",N)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(N)}s&&l&&l({action:a,location:P.location,delta:1})}function y(C,_){a=Yi.Replace;let x=ng(P.location,C,_);u=d();let k=C_(x,u),N=P.createHref(x);o.replaceState(k,"",N),s&&l&&l({action:a,location:P.location,delta:0})}function w(C){let _=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof C=="string"?C:Gd(C);return x=x.replace(/ $/,"%20"),vt(_,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,_)}let P={get action(){return a},get location(){return t(i,o)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(A_,f),l=C,()=>{i.removeEventListener(A_,f),l=null}},createHref(C){return e(i,C)},createURL:w,encodeLocation(C){let _=w(C);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:y,go(C){return o.go(C)}};return P}var N_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(N_||(N_={}));function kN(t,e,n){return n===void 0&&(n="/"),IN(t,e,n,!1)}function IN(t,e,n,r){let i=typeof e=="string"?za(e):e,s=ba(i.pathname||"/",n);if(s==null)return null;let o=Ib(t);SN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=VN(s);a=LN(o[l],u,r)}return a}function Ib(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=as([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(vt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ib(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jN(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of Sb(s.path))i(s,o,l)}),e}function Sb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Sb(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AN=/^:[\w-]+$/,CN=3,NN=2,PN=1,RN=10,ON=-2,P_=t=>t==="*";function jN(t,e){let n=t.split("/"),r=n.length;return n.some(P_)&&(r+=ON),e&&(r+=NN),n.filter(i=>!P_(i)).reduce((i,s)=>i+(AN.test(s)?CN:s===""?PN:RN),r)}function DN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LN(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=Qd({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:as([s,f.pathname]),pathnameBase:zN(as([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=as([s,f.pathnameBase]))}return o}function Qd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:p,isOptional:y}=d;if(p==="*"){let P=a[f]||"";o=s.slice(0,s.length-P.length).replace(/(.)\/+$/,"$1")}const w=a[f];return y&&!w?u[p]=void 0:u[p]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function MN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function VN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ba(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?za(t):t;return{pathname:n?n.startsWith("/")?n:UN(n,e):e,search:$N(r),hash:WN(i)}}function UN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ab(t,e){let n=BN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=za(t):(i=gc({},t),vt(!i.pathname||!i.pathname.includes("?"),Tp("?","pathname","search",i)),vt(!i.pathname||!i.pathname.includes("#"),Tp("#","pathname","hash",i)),vt(!i.search||!i.search.includes("#"),Tp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=FN(i,a),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const as=t=>t.join("/").replace(/\/\/+/g,"/"),zN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function HN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nb=["post","put","patch","delete"];new Set(Nb);const qN=["get",...Nb];new Set(qN);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}const tf=W.createContext(null),Pb=W.createContext(null),As=W.createContext(null),nf=W.createContext(null),Ii=W.createContext({outlet:null,matches:[],isDataRoute:!1}),Rb=W.createContext(null);function KN(t,e){let{relative:n}=e===void 0?{}:e;qc()||vt(!1);let{basename:r,navigator:i}=W.useContext(As),{hash:s,pathname:o,search:a}=rf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:as([r,o])),i.createHref({pathname:l,search:a,hash:s})}function qc(){return W.useContext(nf)!=null}function Eo(){return qc()||vt(!1),W.useContext(nf).location}function Ob(t){W.useContext(As).static||W.useLayoutEffect(t)}function Cs(){let{isDataRoute:t}=W.useContext(Ii);return t?cP():GN()}function GN(){qc()||vt(!1);let t=W.useContext(tf),{basename:e,future:n,navigator:r}=W.useContext(As),{matches:i}=W.useContext(Ii),{pathname:s}=Eo(),o=JSON.stringify(Ab(i,n.v7_relativeSplatPath)),a=W.useRef(!1);return Ob(()=>{a.current=!0}),W.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Cb(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:as([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,s,t])}const QN=W.createContext(null);function YN(t){let e=W.useContext(Ii).outlet;return e&&W.createElement(QN.Provider,{value:t},e)}function ZN(){let{matches:t}=W.useContext(Ii),e=t[t.length-1];return e?e.params:{}}function rf(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(As),{matches:i}=W.useContext(Ii),{pathname:s}=Eo(),o=JSON.stringify(Ab(i,r.v7_relativeSplatPath));return W.useMemo(()=>Cb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function XN(t,e){return JN(t,e)}function JN(t,e,n,r){qc()||vt(!1);let{navigator:i}=W.useContext(As),{matches:s}=W.useContext(Ii),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Eo(),d;if(e){var f;let C=typeof e=="string"?za(e):e;l==="/"||(f=C.pathname)!=null&&f.startsWith(l)||vt(!1),d=C}else d=u;let p=d.pathname||"/",y=p;if(l!=="/"){let C=l.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(C.length).join("/")}let w=kN(t,{pathname:y}),P=iP(w&&w.map(C=>Object.assign({},C,{params:Object.assign({},a,C.params),pathname:as([l,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?l:as([l,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),s,n,r);return e&&P?W.createElement(nf.Provider,{value:{location:yc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yi.Pop}},P):P}function eP(){let t=lP(),e=HN(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:i},n):null,null)}const tP=W.createElement(eP,null);class nP extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(Ii.Provider,{value:this.props.routeContext},W.createElement(Rb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rP(t){let{routeContext:e,match:n,children:r}=t,i=W.useContext(tf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(Ii.Provider,{value:e},r)}function iP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||vt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:y}=n,w=f.route.loader&&p[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||w){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,p)=>{let y,w=!1,P=null,C=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,P=f.route.errorElement||tP,l&&(u<0&&p===0?(w=!0,C=null):u===p&&(w=!0,C=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),x=()=>{let k;return y?k=P:w?k=C:f.route.Component?k=W.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,W.createElement(rP,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:k})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?W.createElement(nP,{location:n.location,revalidation:n.revalidation,component:P,error:y,children:x(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):x()},null)}var jb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jb||{}),Yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yd||{});function sP(t){let e=W.useContext(tf);return e||vt(!1),e}function oP(t){let e=W.useContext(Pb);return e||vt(!1),e}function aP(t){let e=W.useContext(Ii);return e||vt(!1),e}function Db(t){let e=aP(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function lP(){var t;let e=W.useContext(Rb),n=oP(Yd.UseRouteError),r=Db(Yd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cP(){let{router:t}=sP(jb.UseNavigateStable),e=Db(Yd.UseNavigateStable),n=W.useRef(!1);return Ob(()=>{n.current=!0}),W.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yc({fromRouteId:e},s)))},[t,e])}function uP(t){return YN(t.context)}function nn(t){vt(!1)}function dP(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yi.Pop,navigator:s,static:o=!1,future:a}=t;qc()&&vt(!1);let l=e.replace(/^\/*/,"/"),u=W.useMemo(()=>({basename:l,navigator:s,static:o,future:yc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=za(r));let{pathname:d="/",search:f="",hash:p="",state:y=null,key:w="default"}=r,P=W.useMemo(()=>{let C=ba(d,l);return C==null?null:{location:{pathname:C,search:f,hash:p,state:y,key:w},navigationType:i}},[l,d,f,p,y,w,i]);return P==null?null:W.createElement(As.Provider,{value:u},W.createElement(nf.Provider,{children:n,value:P}))}function hP(t){let{children:e,location:n}=t;return XN(rg(e),n)}new Promise(()=>{});function rg(t,e){e===void 0&&(e=[]);let n=[];return W.Children.forEach(t,(r,i)=>{if(!W.isValidElement(r))return;let s=[...e,i];if(r.type===W.Fragment){n.push.apply(n,rg(r.props.children,s));return}r.type!==nn&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=rg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function Lb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pP(t,e){return t.button===0&&(!e||e==="_self")&&!fP(t)}const mP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],gP=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],yP="6";try{window.__reactRouterVersion=yP}catch{}const vP=W.createContext({isTransitioning:!1}),_P="startTransition",R_=UI[_P];function wP(t){let{basename:e,children:n,future:r,window:i}=t,s=W.useRef();s.current==null&&(s.current=EN({window:i,v5Compat:!0}));let o=s.current,[a,l]=W.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=W.useCallback(f=>{u&&R_?R_(()=>l(f)):l(f)},[l,u]);return W.useLayoutEffect(()=>o.listen(d),[o,d]),W.createElement(dP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const xP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Js=W.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:d,unstable_viewTransition:f}=e,p=Lb(e,mP),{basename:y}=W.useContext(As),w,P=!1;if(typeof u=="string"&&EP.test(u)&&(w=u,xP))try{let k=new URL(window.location.href),N=u.startsWith("//")?new URL(k.protocol+u):new URL(u),D=ba(N.pathname,y);N.origin===k.origin&&D!=null?u=D+N.search+N.hash:P=!0}catch{}let C=KN(u,{relative:i}),_=TP(u,{replace:o,state:a,target:l,preventScrollReset:d,relative:i,unstable_viewTransition:f});function x(k){r&&r(k),k.defaultPrevented||_(k)}return W.createElement("a",Zd({},p,{href:w||C,onClick:P||s?r:x,ref:n,target:l}))}),Jn=W.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,unstable_viewTransition:u,children:d}=e,f=Lb(e,gP),p=rf(l,{relative:f.relative}),y=Eo(),w=W.useContext(Pb),{navigator:P,basename:C}=W.useContext(As),_=w!=null&&kP(p)&&u===!0,x=P.encodeLocation?P.encodeLocation(p).pathname:p.pathname,k=y.pathname,N=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;i||(k=k.toLowerCase(),N=N?N.toLowerCase():null,x=x.toLowerCase()),N&&C&&(N=ba(N,C)||N);const D=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let R=k===x||!o&&k.startsWith(x)&&k.charAt(D)==="/",S=N!=null&&(N===x||!o&&N.startsWith(x)&&N.charAt(x.length)==="/"),g={isActive:R,isPending:S,isTransitioning:_},v=R?r:void 0,b;typeof s=="function"?b=s(g):b=[s,R?"active":null,S?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(g):a;return W.createElement(Js,Zd({},f,{"aria-current":v,className:b,ref:n,style:A,to:l,unstable_viewTransition:u}),typeof d=="function"?d(g):d)});var ig;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ig||(ig={}));var O_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(O_||(O_={}));function bP(t){let e=W.useContext(tf);return e||vt(!1),e}function TP(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Cs(),u=Eo(),d=rf(t,{relative:o});return W.useCallback(f=>{if(pP(f,n)){f.preventDefault();let p=r!==void 0?r:Gd(u)===Gd(d);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,d,r,i,n,t,s,o,a])}function kP(t,e){e===void 0&&(e={});let n=W.useContext(vP);n==null&&vt(!1);let{basename:r}=bP(ig.useViewTransitionState),i=rf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ba(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ba(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Qd(i.pathname,o)!=null||Qd(i.pathname,s)!=null}const IP=({children:t,exceptionRef:e,onClick:n,className:r})=>{const i=W.useRef(null);return W.useEffect(()=>{const s=o=>{if(!i.current)return;let a=i.current.contains(o.target);e&&e.current&&(a=a||e.current===o.target||e.current.contains(o.target)),a||n()};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e,n]),h.jsx("div",{ref:i,className:r||"",children:t})};var j_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Vb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(p=64)),r.push(n[d],n[f],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Mb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new AP;const p=s<<2|a>>4;if(r.push(p),u!==64){const y=a<<4&240|u>>2;if(r.push(y),f!==64){const w=u<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CP=function(t){const e=Mb(t);return Vb.encodeByteArray(e,!0)},Xd=function(t){return CP(t).replace(/\./g,"")},Fb=function(t){try{return Vb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=()=>NP().__FIREBASE_DEFAULTS__,RP=()=>{if(typeof process>"u"||typeof j_>"u")return;const t=j_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},OP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fb(t[1]);return e&&JSON.parse(e)},sf=()=>{try{return PP()||RP()||OP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ub=t=>{var e,n;return(n=(e=sf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bb=t=>{const e=Ub(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zb=()=>{var t;return(t=sf())===null||t===void 0?void 0:t.config},$b=t=>{var e;return(e=sf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Xd(JSON.stringify(n)),Xd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function LP(){var t;const e=(t=sf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UP(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BP(){return!LP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zP(){try{return typeof indexedDB=="object"}catch{return!1}}function $P(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP="FirebaseError";class Gr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=WP,Object.setPrototypeOf(this,Gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kc.prototype.create)}}class Kc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?HP(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Gr(i,a,r)}}function HP(t,e){return t.replace(qP,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qP=/\{\$([^}]+)}/g;function KP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ta(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(D_(s)&&D_(o)){if(!Ta(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function GP(t,e){const n=new QP(t,e);return n.subscribe.bind(n)}class QP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");YP(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=kp),i.error===void 0&&(i.error=kp),i.complete===void 0&&(i.complete=kp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function kp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JP(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XP(t){return t===Bs?void 0:t}function JP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const t5={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},n5=De.INFO,r5={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},i5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=r5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class H0{constructor(e){this.name=e,this._logLevel=n5,this._logHandler=i5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const s5=(t,e)=>e.some(n=>t instanceof n);let L_,M_;function o5(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a5(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hb=new WeakMap,sg=new WeakMap,qb=new WeakMap,Ip=new WeakMap,q0=new WeakMap;function l5(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Hb.set(n,t)}).catch(()=>{}),q0.set(e,t),e}function c5(t){if(sg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});sg.set(t,e)}let og={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u5(t){og=t(og)}function d5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Sp(this),e,...n);return qb.set(r,e.sort?e.sort():[e]),ls(r)}:a5().includes(t)?function(...e){return t.apply(Sp(this),e),ls(Hb.get(this))}:function(...e){return ls(t.apply(Sp(this),e))}}function h5(t){return typeof t=="function"?d5(t):(t instanceof IDBTransaction&&c5(t),s5(t,o5())?new Proxy(t,og):t)}function ls(t){if(t instanceof IDBRequest)return l5(t);if(Ip.has(t))return Ip.get(t);const e=h5(t);return e!==t&&(Ip.set(t,e),q0.set(e,t)),e}const Sp=t=>q0.get(t);function f5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ls(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ls(o.result),l.oldVersion,l.newVersion,ls(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const p5=["get","getKey","getAll","getAllKeys","count"],m5=["put","add","delete","clear"],Ap=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ap.get(e))return Ap.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=m5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p5.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Ap.set(e,s),s}u5(t=>({...t,get:(e,n,r)=>V_(e,n)||t.get(e,n,r),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(y5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function y5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ag="@firebase/app",F_="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new H0("@firebase/app"),v5="@firebase/app-compat",_5="@firebase/analytics-compat",w5="@firebase/analytics",x5="@firebase/app-check-compat",E5="@firebase/app-check",b5="@firebase/auth",T5="@firebase/auth-compat",k5="@firebase/database",I5="@firebase/data-connect",S5="@firebase/database-compat",A5="@firebase/functions",C5="@firebase/functions-compat",N5="@firebase/installations",P5="@firebase/installations-compat",R5="@firebase/messaging",O5="@firebase/messaging-compat",j5="@firebase/performance",D5="@firebase/performance-compat",L5="@firebase/remote-config",M5="@firebase/remote-config-compat",V5="@firebase/storage",F5="@firebase/storage-compat",U5="@firebase/firestore",B5="@firebase/vertexai-preview",z5="@firebase/firestore-compat",$5="firebase",W5="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="[DEFAULT]",H5={[ag]:"fire-core",[v5]:"fire-core-compat",[w5]:"fire-analytics",[_5]:"fire-analytics-compat",[E5]:"fire-app-check",[x5]:"fire-app-check-compat",[b5]:"fire-auth",[T5]:"fire-auth-compat",[k5]:"fire-rtdb",[I5]:"fire-data-connect",[S5]:"fire-rtdb-compat",[A5]:"fire-fn",[C5]:"fire-fn-compat",[N5]:"fire-iid",[P5]:"fire-iid-compat",[R5]:"fire-fcm",[O5]:"fire-fcm-compat",[j5]:"fire-perf",[D5]:"fire-perf-compat",[L5]:"fire-rc",[M5]:"fire-rc-compat",[V5]:"fire-gcs",[F5]:"fire-gcs-compat",[U5]:"fire-fst",[z5]:"fire-fst-compat",[B5]:"fire-vertex","fire-js":"fire-js",[$5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new Map,q5=new Map,cg=new Map;function U_(t,e){try{t.container.addComponent(e)}catch(n){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uo(t){const e=t.name;if(cg.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;cg.set(e,t);for(const n of Jd.values())U_(n,t);for(const n of q5.values())U_(n,t);return!0}function of(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cs=new Kc("app","Firebase",K5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=W5;function Kb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw cs.create("bad-app-name",{appName:String(i)});if(n||(n=zb()),!n)throw cs.create("no-options");const s=Jd.get(i);if(s){if(Ta(n,s.options)&&Ta(r,s.config))return s;throw cs.create("duplicate-app",{appName:i})}const o=new e5(i);for(const l of cg.values())o.addComponent(l);const a=new G5(n,r,o);return Jd.set(i,a),a}function K0(t=lg){const e=Jd.get(t);if(!e&&t===lg&&zb())return Kb();if(!e)throw cs.create("no-app",{appName:t});return e}function Fr(t,e,n){var r;let i=(r=H5[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}uo(new ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5="firebase-heartbeat-database",Y5=1,vc="firebase-heartbeat-store";let Cp=null;function Gb(){return Cp||(Cp=f5(Q5,Y5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw cs.create("idb-open",{originalErrorMessage:t.message})})),Cp}async function Z5(t){try{const n=(await Gb()).transaction(vc),r=await n.objectStore(vc).get(Qb(t));return await n.done,r}catch(e){if(e instanceof Gr)_i.warn(e.message);else{const n=cs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_i.warn(n.message)}}}async function B_(t,e){try{const r=(await Gb()).transaction(vc,"readwrite");await r.objectStore(vc).put(e,Qb(t)),await r.done}catch(n){if(n instanceof Gr)_i.warn(n.message);else{const r=cs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_i.warn(r.message)}}}function Qb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=1024,J5=30*24*60*60*1e3;class eR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=z_();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=J5}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=z_(),{heartbeatsToSend:r,unsentEntries:i}=tR(this._heartbeatsCache.heartbeats),s=Xd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return _i.warn(n),""}}}function z_(){return new Date().toISOString().substring(0,10)}function tR(t,e=X5){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zP()?$P().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Z5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $_(t){return Xd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t){uo(new ys("platform-logger",e=>new g5(e),"PRIVATE")),uo(new ys("heartbeat",e=>new eR(e),"PRIVATE")),Fr(ag,F_,t),Fr(ag,F_,"esm2017"),Fr("fire-js","")}rR("");var iR="firebase",sR="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(iR,sR,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firebasestorage.googleapis.com",Zb="storageBucket",oR=2*60*1e3,aR=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends Gr{constructor(e,n,r=0){super(Np(e),`Firebase Storage: ${n} (${Np(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Np(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function Np(t){return"storage/"+t}function G0(){const t="An unknown error occurred, please check the error payload for server response.";return new wt(_t.UNKNOWN,t)}function lR(t){return new wt(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function cR(t){return new wt(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uR(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(_t.UNAUTHENTICATED,t)}function dR(){return new wt(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hR(t){return new wt(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function fR(){return new wt(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pR(){return new wt(_t.CANCELED,"User canceled the upload/download.")}function mR(t){return new wt(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function gR(t){return new wt(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function yR(){return new wt(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zb+"' property when initializing the app?")}function vR(){return new wt(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _R(){return new wt(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function wR(t){return new wt(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ug(t){return new wt(_t.INVALID_ARGUMENT,t)}function Xb(){return new wt(_t.APP_DELETED,"The Firebase app was deleted.")}function xR(t){return new wt(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function zl(t,e){return new wt(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function pl(t){throw new wt(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fn.makeFromUrl(e,n)}catch{return new Fn(e,"")}if(r.path==="")return r;throw gR(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(N){N.path_=decodeURIComponent(N.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${d}/b/${i}/o${p}`,"i"),w={bucket:1,path:3},P=n===Yb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",_=new RegExp(`^https?://${P}/${i}/${C}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:y,indices:w,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let N=0;N<k.length;N++){const D=k[N],R=D.regex.exec(e);if(R){const S=R[D.indices.bucket];let g=R[D.indices.path];g||(g=""),r=new Fn(S,g),D.postModify(r);break}}if(r==null)throw mR(e);return r}}class ER{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function d(...C){u||(u=!0,e.apply(null,C))}function f(C){i=setTimeout(()=>{i=null,t(y,l())},C)}function p(){s&&clearTimeout(s)}function y(C,..._){if(u){p();return}if(C){p(),d.call(null,C,..._);return}if(l()||o){p(),d.call(null,C,..._);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,f(k)}let w=!1;function P(C){w||(w=!0,p(),!u&&(i!==null?(C||(a=2),clearTimeout(i),f(0)):C||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,P(!0)},n),P}function TR(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(t){return t!==void 0}function IR(t){return typeof t=="object"&&!Array.isArray(t)}function Q0(t){return typeof t=="string"||t instanceof String}function W_(t){return Y0()&&t instanceof Blob}function Y0(){return typeof Blob<"u"}function H_(t,e,n,r){if(r<e)throw ug(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ug(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Jb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var eo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(eo||(eo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n,r,i,s,o,a,l,u,d,f,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Bu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===eo.NO_ERROR,l=s.getStatus();if(!a||SR(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===eo.ABORT;r(!1,new Bu(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Bu(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());kR(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=G0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Xb():pR();o(l)}else{const l=fR();o(l)}};this.canceled_?n(!1,new Bu(!1,null,!0)):this.backoffId_=bR(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Bu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CR(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NR(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function PR(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RR(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OR(t,e,n,r,i,s,o=!0){const a=Jb(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return PR(u,e),CR(u,n),NR(u,s),RR(u,r),new AR(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function DR(...t){const e=jR();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Y0())return new Blob(t);throw new wt(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function LR(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t){if(typeof atob>"u")throw wR("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pp{constructor(e,n){this.data=e,this.contentType=n||null}}function VR(t,e){switch(t){case Dr.RAW:return new Pp(eT(e));case Dr.BASE64:case Dr.BASE64URL:return new Pp(tT(t,e));case Dr.DATA_URL:return new Pp(UR(e),BR(e))}throw G0()}function eT(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function FR(t){let e;try{e=decodeURIComponent(t)}catch{throw zl(Dr.DATA_URL,"Malformed data URL.")}return eT(e)}function tT(t,e){switch(t){case Dr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw zl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw zl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=MR(e)}catch(i){throw i.message.includes("polyfill")?i:zl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class nT{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw zl(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=zR(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function UR(t){const e=new nT(t);return e.base64?tT(Dr.BASE64,e.rest):FR(e.rest)}function BR(t){return new nT(t).contentType}function zR(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n){let r=0,i="";W_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(W_(this.data_)){const r=this.data_,i=LR(r,e,n);return i===null?null:new Ui(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ui(r,!0)}}static getBlob(...e){if(Y0()){const n=e.map(r=>r instanceof Ui?r.data_:r);return new Ui(DR.apply(null,n))}else{const n=e.map(o=>Q0(o)?VR(Dr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ui(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){let e;try{e=JSON.parse(t)}catch{return null}return IR(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WR(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iT(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){return e}class pn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||HR}}let zu=null;function qR(t){return!Q0(t)||t.length<2?t:iT(t)}function sT(){if(zu)return zu;const t=[];t.push(new pn("bucket")),t.push(new pn("generation")),t.push(new pn("metageneration")),t.push(new pn("name","fullPath",!0));function e(s,o){return qR(o)}const n=new pn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new pn("size");return i.xform=r,t.push(i),t.push(new pn("timeCreated")),t.push(new pn("updated")),t.push(new pn("md5Hash",null,!0)),t.push(new pn("cacheControl",null,!0)),t.push(new pn("contentDisposition",null,!0)),t.push(new pn("contentEncoding",null,!0)),t.push(new pn("contentLanguage",null,!0)),t.push(new pn("contentType",null,!0)),t.push(new pn("metadata","customMetadata",!0)),zu=t,zu}function KR(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Fn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function GR(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return KR(r,t),r}function oT(t,e,n){const r=rT(e);return r===null?null:GR(t,r,n)}function QR(t,e,n,r){const i=rT(e);if(i===null||!Q0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,f=t.fullPath,p="/b/"+o(d)+"/o/"+o(f),y=Z0(p,n,r),w=Jb({alt:"media",token:u});return y+w})[0]}function YR(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class aT{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){if(!t)throw G0()}function ZR(t,e){function n(r,i){const s=oT(t,i,e);return lT(s!==null),s}return n}function XR(t,e){function n(r,i){const s=oT(t,i,e);return lT(s!==null),QR(s,i,t.host,t._protocol)}return n}function cT(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=dR():i=uR():n.getStatus()===402?i=cR(t.bucket):n.getStatus()===403?i=hR(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function JR(t){const e=cT(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=lR(t.path)),s.serverResponse=i.serverResponse,s}return n}function e6(t,e,n){const r=e.fullServerUrl(),i=Z0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new aT(i,s,XR(t,n),o);return a.errorHandler=JR(e),a}function t6(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function n6(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=t6(null,e)),r}function r6(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let N=0;N<2;N++)k=k+Math.random().toString().slice(2);return k}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=n6(e,r,i),d=YR(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,p=`\r
--`+l+"--",y=Ui.getBlob(f,r,p);if(y===null)throw vR();const w={name:u.fullPath},P=Z0(s,t.host,t._protocol),C="POST",_=t.maxUploadRetryTime,x=new aT(P,C,ZR(t,n),_);return x.urlParams=w,x.headers=o,x.body=y.uploadData(),x.errorHandler=cT(e),x}class i6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw pl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class s6 extends i6{initXhr(){this.xhr_.responseType="text"}}function uT(){return new s6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n){this._service=e,n instanceof Fn?this._location=n:this._location=Fn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ho(e,n)}get root(){const e=new Fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iT(this._location.path)}get storage(){return this._service}get parent(){const e=$R(this._location.path);if(e===null)return null;const n=new Fn(this._location.bucket,e);return new ho(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xR(e)}}function o6(t,e,n){t._throwIfRoot("uploadBytes");const r=r6(t.storage,t._location,sT(),new Ui(e,!0),n);return t.storage.makeRequestWithTokens(r,uT).then(i=>({metadata:i,ref:t}))}function a6(t){t._throwIfRoot("getDownloadURL");const e=e6(t.storage,t._location,sT());return t.storage.makeRequestWithTokens(e,uT).then(n=>{if(n===null)throw _R();return n})}function l6(t,e){const n=WR(t._location.path,e),r=new Fn(t._location.bucket,n);return new ho(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){return/^[A-Za-z]+:\/\//.test(t)}function u6(t,e){return new ho(t,e)}function dT(t,e){if(t instanceof X0){const n=t;if(n._bucket==null)throw yR();const r=new ho(n,n._bucket);return e!=null?dT(r,e):r}else return e!==void 0?l6(t,e):t}function d6(t,e){if(e&&c6(e)){if(t instanceof X0)return u6(t,e);throw ug("To use ref(service, url), the first argument must be a Storage instance.")}else return dT(t,e)}function q_(t,e){const n=e==null?void 0:e[Zb];return n==null?null:Fn.makeFromBucketSpec(n,t)}function h6(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Wb(i,t.app.options.projectId))}class X0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Yb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oR,this._maxUploadRetryTime=aR,this._requests=new Set,i!=null?this._bucket=Fn.makeFromBucketSpec(i,this._host):this._bucket=q_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fn.makeFromBucketSpec(this._url,e):this._bucket=q_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){H_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){H_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ho(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ER(Xb());{const o=OR(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const K_="@firebase/storage",G_="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="storage";function f6(t,e,n){return t=ct(t),o6(t,e,n)}function p6(t){return t=ct(t),a6(t)}function m6(t,e){return t=ct(t),d6(t,e)}function g6(t=K0(),e){t=ct(t);const r=of(t,hT).getImmediate({identifier:e}),i=Bb("storage");return i&&y6(r,...i),r}function y6(t,e,n,r={}){h6(t,e,n,r)}function v6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new X0(n,r,i,e,bo)}function _6(){uo(new ys(hT,v6,"PUBLIC").setMultipleInstances(!0)),Fr(K_,G_,""),Fr(K_,G_,"esm2017")}_6();var Q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var to,fT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,g){function v(){}v.prototype=g.prototype,S.D=g.prototype,S.prototype=new v,S.prototype.constructor=S,S.C=function(b,A,I){for(var T=Array(arguments.length-2),M=2;M<arguments.length;M++)T[M-2]=arguments[M];return g.prototype[A].apply(b,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,g,v){v||(v=0);var b=Array(16);if(typeof g=="string")for(var A=0;16>A;++A)b[A]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(A=0;16>A;++A)b[A]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=S.g[0],v=S.g[1],A=S.g[2];var I=S.g[3],T=g+(I^v&(A^I))+b[0]+3614090360&4294967295;g=v+(T<<7&4294967295|T>>>25),T=I+(A^g&(v^A))+b[1]+3905402710&4294967295,I=g+(T<<12&4294967295|T>>>20),T=A+(v^I&(g^v))+b[2]+606105819&4294967295,A=I+(T<<17&4294967295|T>>>15),T=v+(g^A&(I^g))+b[3]+3250441966&4294967295,v=A+(T<<22&4294967295|T>>>10),T=g+(I^v&(A^I))+b[4]+4118548399&4294967295,g=v+(T<<7&4294967295|T>>>25),T=I+(A^g&(v^A))+b[5]+1200080426&4294967295,I=g+(T<<12&4294967295|T>>>20),T=A+(v^I&(g^v))+b[6]+2821735955&4294967295,A=I+(T<<17&4294967295|T>>>15),T=v+(g^A&(I^g))+b[7]+4249261313&4294967295,v=A+(T<<22&4294967295|T>>>10),T=g+(I^v&(A^I))+b[8]+1770035416&4294967295,g=v+(T<<7&4294967295|T>>>25),T=I+(A^g&(v^A))+b[9]+2336552879&4294967295,I=g+(T<<12&4294967295|T>>>20),T=A+(v^I&(g^v))+b[10]+4294925233&4294967295,A=I+(T<<17&4294967295|T>>>15),T=v+(g^A&(I^g))+b[11]+2304563134&4294967295,v=A+(T<<22&4294967295|T>>>10),T=g+(I^v&(A^I))+b[12]+1804603682&4294967295,g=v+(T<<7&4294967295|T>>>25),T=I+(A^g&(v^A))+b[13]+4254626195&4294967295,I=g+(T<<12&4294967295|T>>>20),T=A+(v^I&(g^v))+b[14]+2792965006&4294967295,A=I+(T<<17&4294967295|T>>>15),T=v+(g^A&(I^g))+b[15]+1236535329&4294967295,v=A+(T<<22&4294967295|T>>>10),T=g+(A^I&(v^A))+b[1]+4129170786&4294967295,g=v+(T<<5&4294967295|T>>>27),T=I+(v^A&(g^v))+b[6]+3225465664&4294967295,I=g+(T<<9&4294967295|T>>>23),T=A+(g^v&(I^g))+b[11]+643717713&4294967295,A=I+(T<<14&4294967295|T>>>18),T=v+(I^g&(A^I))+b[0]+3921069994&4294967295,v=A+(T<<20&4294967295|T>>>12),T=g+(A^I&(v^A))+b[5]+3593408605&4294967295,g=v+(T<<5&4294967295|T>>>27),T=I+(v^A&(g^v))+b[10]+38016083&4294967295,I=g+(T<<9&4294967295|T>>>23),T=A+(g^v&(I^g))+b[15]+3634488961&4294967295,A=I+(T<<14&4294967295|T>>>18),T=v+(I^g&(A^I))+b[4]+3889429448&4294967295,v=A+(T<<20&4294967295|T>>>12),T=g+(A^I&(v^A))+b[9]+568446438&4294967295,g=v+(T<<5&4294967295|T>>>27),T=I+(v^A&(g^v))+b[14]+3275163606&4294967295,I=g+(T<<9&4294967295|T>>>23),T=A+(g^v&(I^g))+b[3]+4107603335&4294967295,A=I+(T<<14&4294967295|T>>>18),T=v+(I^g&(A^I))+b[8]+1163531501&4294967295,v=A+(T<<20&4294967295|T>>>12),T=g+(A^I&(v^A))+b[13]+2850285829&4294967295,g=v+(T<<5&4294967295|T>>>27),T=I+(v^A&(g^v))+b[2]+4243563512&4294967295,I=g+(T<<9&4294967295|T>>>23),T=A+(g^v&(I^g))+b[7]+1735328473&4294967295,A=I+(T<<14&4294967295|T>>>18),T=v+(I^g&(A^I))+b[12]+2368359562&4294967295,v=A+(T<<20&4294967295|T>>>12),T=g+(v^A^I)+b[5]+4294588738&4294967295,g=v+(T<<4&4294967295|T>>>28),T=I+(g^v^A)+b[8]+2272392833&4294967295,I=g+(T<<11&4294967295|T>>>21),T=A+(I^g^v)+b[11]+1839030562&4294967295,A=I+(T<<16&4294967295|T>>>16),T=v+(A^I^g)+b[14]+4259657740&4294967295,v=A+(T<<23&4294967295|T>>>9),T=g+(v^A^I)+b[1]+2763975236&4294967295,g=v+(T<<4&4294967295|T>>>28),T=I+(g^v^A)+b[4]+1272893353&4294967295,I=g+(T<<11&4294967295|T>>>21),T=A+(I^g^v)+b[7]+4139469664&4294967295,A=I+(T<<16&4294967295|T>>>16),T=v+(A^I^g)+b[10]+3200236656&4294967295,v=A+(T<<23&4294967295|T>>>9),T=g+(v^A^I)+b[13]+681279174&4294967295,g=v+(T<<4&4294967295|T>>>28),T=I+(g^v^A)+b[0]+3936430074&4294967295,I=g+(T<<11&4294967295|T>>>21),T=A+(I^g^v)+b[3]+3572445317&4294967295,A=I+(T<<16&4294967295|T>>>16),T=v+(A^I^g)+b[6]+76029189&4294967295,v=A+(T<<23&4294967295|T>>>9),T=g+(v^A^I)+b[9]+3654602809&4294967295,g=v+(T<<4&4294967295|T>>>28),T=I+(g^v^A)+b[12]+3873151461&4294967295,I=g+(T<<11&4294967295|T>>>21),T=A+(I^g^v)+b[15]+530742520&4294967295,A=I+(T<<16&4294967295|T>>>16),T=v+(A^I^g)+b[2]+3299628645&4294967295,v=A+(T<<23&4294967295|T>>>9),T=g+(A^(v|~I))+b[0]+4096336452&4294967295,g=v+(T<<6&4294967295|T>>>26),T=I+(v^(g|~A))+b[7]+1126891415&4294967295,I=g+(T<<10&4294967295|T>>>22),T=A+(g^(I|~v))+b[14]+2878612391&4294967295,A=I+(T<<15&4294967295|T>>>17),T=v+(I^(A|~g))+b[5]+4237533241&4294967295,v=A+(T<<21&4294967295|T>>>11),T=g+(A^(v|~I))+b[12]+1700485571&4294967295,g=v+(T<<6&4294967295|T>>>26),T=I+(v^(g|~A))+b[3]+2399980690&4294967295,I=g+(T<<10&4294967295|T>>>22),T=A+(g^(I|~v))+b[10]+4293915773&4294967295,A=I+(T<<15&4294967295|T>>>17),T=v+(I^(A|~g))+b[1]+2240044497&4294967295,v=A+(T<<21&4294967295|T>>>11),T=g+(A^(v|~I))+b[8]+1873313359&4294967295,g=v+(T<<6&4294967295|T>>>26),T=I+(v^(g|~A))+b[15]+4264355552&4294967295,I=g+(T<<10&4294967295|T>>>22),T=A+(g^(I|~v))+b[6]+2734768916&4294967295,A=I+(T<<15&4294967295|T>>>17),T=v+(I^(A|~g))+b[13]+1309151649&4294967295,v=A+(T<<21&4294967295|T>>>11),T=g+(A^(v|~I))+b[4]+4149444226&4294967295,g=v+(T<<6&4294967295|T>>>26),T=I+(v^(g|~A))+b[11]+3174756917&4294967295,I=g+(T<<10&4294967295|T>>>22),T=A+(g^(I|~v))+b[2]+718787259&4294967295,A=I+(T<<15&4294967295|T>>>17),T=v+(I^(A|~g))+b[9]+3951481745&4294967295,S.g[0]=S.g[0]+g&4294967295,S.g[1]=S.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+I&4294967295}r.prototype.u=function(S,g){g===void 0&&(g=S.length);for(var v=g-this.blockSize,b=this.B,A=this.h,I=0;I<g;){if(A==0)for(;I<=v;)i(this,S,I),I+=this.blockSize;if(typeof S=="string"){for(;I<g;)if(b[A++]=S.charCodeAt(I++),A==this.blockSize){i(this,b),A=0;break}}else for(;I<g;)if(b[A++]=S[I++],A==this.blockSize){i(this,b),A=0;break}}this.h=A,this.o+=g},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var g=1;g<S.length-8;++g)S[g]=0;var v=8*this.o;for(g=S.length-8;g<S.length;++g)S[g]=v&255,v/=256;for(this.u(S),S=Array(16),g=v=0;4>g;++g)for(var b=0;32>b;b+=8)S[v++]=this.g[g]>>>b&255;return S};function s(S,g){var v=a;return Object.prototype.hasOwnProperty.call(v,S)?v[S]:v[S]=g(S)}function o(S,g){this.h=g;for(var v=[],b=!0,A=S.length-1;0<=A;A--){var I=S[A]|0;b&&I==g||(v[A]=I,b=!1)}this.g=v}var a={};function l(S){return-128<=S&&128>S?s(S,function(g){return new o([g|0],0>g?-1:0)}):new o([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return C(u(-S));for(var g=[],v=1,b=0;S>=v;b++)g[b]=S/v|0,v*=4294967296;return new o(g,0)}function d(S,g){if(S.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(S.charAt(0)=="-")return C(d(S.substring(1),g));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=u(Math.pow(g,8)),b=f,A=0;A<S.length;A+=8){var I=Math.min(8,S.length-A),T=parseInt(S.substring(A,A+I),g);8>I?(I=u(Math.pow(g,I)),b=b.j(I).add(u(T))):(b=b.j(v),b=b.add(u(T)))}return b}var f=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(P(this))return-C(this).m();for(var S=0,g=1,v=0;v<this.g.length;v++){var b=this.i(v);S+=(0<=b?b:4294967296+b)*g,g*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w(this))return"0";if(P(this))return"-"+C(this).toString(S);for(var g=u(Math.pow(S,6)),v=this,b="";;){var A=N(v,g).g;v=_(v,A.j(g));var I=((0<v.g.length?v.g[0]:v.h)>>>0).toString(S);if(v=A,w(v))return I+b;for(;6>I.length;)I="0"+I;b=I+b}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function w(S){if(S.h!=0)return!1;for(var g=0;g<S.g.length;g++)if(S.g[g]!=0)return!1;return!0}function P(S){return S.h==-1}t.l=function(S){return S=_(this,S),P(S)?-1:w(S)?0:1};function C(S){for(var g=S.g.length,v=[],b=0;b<g;b++)v[b]=~S.g[b];return new o(v,~S.h).add(p)}t.abs=function(){return P(this)?C(this):this},t.add=function(S){for(var g=Math.max(this.g.length,S.g.length),v=[],b=0,A=0;A<=g;A++){var I=b+(this.i(A)&65535)+(S.i(A)&65535),T=(I>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);b=T>>>16,I&=65535,T&=65535,v[A]=T<<16|I}return new o(v,v[v.length-1]&-2147483648?-1:0)};function _(S,g){return S.add(C(g))}t.j=function(S){if(w(this)||w(S))return f;if(P(this))return P(S)?C(this).j(C(S)):C(C(this).j(S));if(P(S))return C(this.j(C(S)));if(0>this.l(y)&&0>S.l(y))return u(this.m()*S.m());for(var g=this.g.length+S.g.length,v=[],b=0;b<2*g;b++)v[b]=0;for(b=0;b<this.g.length;b++)for(var A=0;A<S.g.length;A++){var I=this.i(b)>>>16,T=this.i(b)&65535,M=S.i(A)>>>16,U=S.i(A)&65535;v[2*b+2*A]+=T*U,x(v,2*b+2*A),v[2*b+2*A+1]+=I*U,x(v,2*b+2*A+1),v[2*b+2*A+1]+=T*M,x(v,2*b+2*A+1),v[2*b+2*A+2]+=I*M,x(v,2*b+2*A+2)}for(b=0;b<g;b++)v[b]=v[2*b+1]<<16|v[2*b];for(b=g;b<2*g;b++)v[b]=0;return new o(v,0)};function x(S,g){for(;(S[g]&65535)!=S[g];)S[g+1]+=S[g]>>>16,S[g]&=65535,g++}function k(S,g){this.g=S,this.h=g}function N(S,g){if(w(g))throw Error("division by zero");if(w(S))return new k(f,f);if(P(S))return g=N(C(S),g),new k(C(g.g),C(g.h));if(P(g))return g=N(S,C(g)),new k(C(g.g),g.h);if(30<S.g.length){if(P(S)||P(g))throw Error("slowDivide_ only works with positive integers.");for(var v=p,b=g;0>=b.l(S);)v=D(v),b=D(b);var A=R(v,1),I=R(b,1);for(b=R(b,2),v=R(v,2);!w(b);){var T=I.add(b);0>=T.l(S)&&(A=A.add(v),I=T),b=R(b,1),v=R(v,1)}return g=_(S,A.j(g)),new k(A,g)}for(A=f;0<=S.l(g);){for(v=Math.max(1,Math.floor(S.m()/g.m())),b=Math.ceil(Math.log(v)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),I=u(v),T=I.j(g);P(T)||0<T.l(S);)v-=b,I=u(v),T=I.j(g);w(I)&&(I=p),A=A.add(I),S=_(S,T)}return new k(A,S)}t.A=function(S){return N(this,S).h},t.and=function(S){for(var g=Math.max(this.g.length,S.g.length),v=[],b=0;b<g;b++)v[b]=this.i(b)&S.i(b);return new o(v,this.h&S.h)},t.or=function(S){for(var g=Math.max(this.g.length,S.g.length),v=[],b=0;b<g;b++)v[b]=this.i(b)|S.i(b);return new o(v,this.h|S.h)},t.xor=function(S){for(var g=Math.max(this.g.length,S.g.length),v=[],b=0;b<g;b++)v[b]=this.i(b)^S.i(b);return new o(v,this.h^S.h)};function D(S){for(var g=S.g.length+1,v=[],b=0;b<g;b++)v[b]=S.i(b)<<1|S.i(b-1)>>>31;return new o(v,S.h)}function R(S,g){var v=g>>5;g%=32;for(var b=S.g.length-v,A=[],I=0;I<b;I++)A[I]=0<g?S.i(I+v)>>>g|S.i(I+v+1)<<32-g:S.i(I+v);return new o(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,to=o}).apply(typeof Q_<"u"?Q_:typeof self<"u"?self:typeof window<"u"?window:{});var $u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pT,kl,mT,cd,dg,gT,yT,vT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,m,E){return c==Array.prototype||c==Object.prototype||(c[m]=E.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $u=="object"&&$u];for(var m=0;m<c.length;++m){var E=c[m];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function i(c,m){if(m)e:{var E=r;c=c.split(".");for(var O=0;O<c.length-1;O++){var $=c[O];if(!($ in E))break e;E=E[$]}c=c[c.length-1],O=E[c],m=m(O),m!=O&&m!=null&&e(E,c,{configurable:!0,writable:!0,value:m})}}function s(c,m){c instanceof String&&(c+="");var E=0,O=!1,$={next:function(){if(!O&&E<c.length){var K=E++;return{value:m(K,c[K]),done:!1}}return O=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(c){return c||function(){return s(this,function(m,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var m=typeof c;return m=m!="object"?m:c?Array.isArray(c)?"array":m:"null",m=="array"||m=="object"&&typeof c.length=="number"}function u(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function d(c,m,E){return c.call.apply(c.bind,arguments)}function f(c,m,E){if(!c)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,O),c.apply(m,$)}}return function(){return c.apply(m,arguments)}}function p(c,m,E){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function y(c,m){var E=Array.prototype.slice.call(arguments,1);return function(){var O=E.slice();return O.push.apply(O,arguments),c.apply(this,O)}}function w(c,m){function E(){}E.prototype=m.prototype,c.aa=m.prototype,c.prototype=new E,c.prototype.constructor=c,c.Qb=function(O,$,K){for(var ae=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)ae[Xe-2]=arguments[Xe];return m.prototype[$].apply(O,ae)}}function P(c){const m=c.length;if(0<m){const E=Array(m);for(let O=0;O<m;O++)E[O]=c[O];return E}return[]}function C(c,m){for(let E=1;E<arguments.length;E++){const O=arguments[E];if(l(O)){const $=c.length||0,K=O.length||0;c.length=$+K;for(let ae=0;ae<K;ae++)c[$+ae]=O[ae]}else c.push(O)}}class _{constructor(m,E){this.i=m,this.j=E,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function x(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var D=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function R(c,m,E){for(const O in c)m.call(E,c[O],O,c)}function S(c,m){for(const E in c)m.call(void 0,c[E],E,c)}function g(c){const m={};for(const E in c)m[E]=c[E];return m}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,m){let E,O;for(let $=1;$<arguments.length;$++){O=arguments[$];for(E in O)c[E]=O[E];for(let K=0;K<v.length;K++)E=v[K],Object.prototype.hasOwnProperty.call(O,E)&&(c[E]=O[E])}}function A(c){var m=1;c=c.split(":");const E=[];for(;0<m&&c.length;)E.push(c.shift()),m--;return c.length&&E.push(c.join(":")),E}function I(c){a.setTimeout(()=>{throw c},0)}function T(){var c=F;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class M{constructor(){this.h=this.g=null}add(m,E){const O=U.get();O.set(m,E),this.h?this.h.next=O:this.g=O,this.h=O}}var U=new _(()=>new L,c=>c.reset());class L{constructor(){this.next=this.g=this.h=null}set(m,E){this.h=m,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let j,B=!1,F=new M,H=()=>{const c=a.Promise.resolve(void 0);j=()=>{c.then(oe)}};var oe=()=>{for(var c;c=T();){try{c.h.call(c.g)}catch(E){I(E)}var m=U;m.j(c),100>m.h&&(m.h++,c.next=m.g,m.g=c)}B=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};a.addEventListener("test",E,m),a.removeEventListener("test",E,m)}catch{}return c}();function G(c,m){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var E=this.type=c.type,O=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget){if(D){e:{try{N(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else E=="mouseover"?m=c.fromElement:E=="mouseout"&&(m=c.toElement);this.relatedTarget=m,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:me[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&G.aa.h.call(this)}}w(G,ie);var me={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(c,m,E,O,$){this.listener=c,this.proxy=null,this.src=m,this.type=E,this.capture=!!O,this.ha=$,this.key=++Fe,this.da=this.fa=!1}function Be(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function We(c){this.src=c,this.g={},this.h=0}We.prototype.add=function(c,m,E,O,$){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=bn(c,m,O,$);return-1<ae?(m=c[ae],E||(m.fa=!1)):(m=new je(m,this.src,K,!!O,$),m.fa=E,c.push(m)),m};function tt(c,m){var E=m.type;if(E in c.g){var O=c.g[E],$=Array.prototype.indexOf.call(O,m,void 0),K;(K=0<=$)&&Array.prototype.splice.call(O,$,1),K&&(Be(m),c.g[E].length==0&&(delete c.g[E],c.h--))}}function bn(c,m,E,O){for(var $=0;$<c.length;++$){var K=c[$];if(!K.da&&K.listener==m&&K.capture==!!E&&K.ha==O)return $}return-1}var Bt="closure_lm_"+(1e6*Math.random()|0),Ye={};function kt(c,m,E,O,$){if(Array.isArray(m)){for(var K=0;K<m.length;K++)kt(c,m[K],E,O,$);return null}return E=xe(E),c&&c[Ne]?c.K(m,E,u(O)?!!O.capture:!!O,$):Ze(c,m,E,!1,O,$)}function Ze(c,m,E,O,$,K){if(!m)throw Error("Invalid event type");var ae=u($)?!!$.capture:!!$,Xe=Z(c);if(Xe||(c[Bt]=Xe=new We(c)),E=Xe.add(m,E,O,ae,K),E.proxy)return E;if(O=V(),E.proxy=O,O.src=c,O.listener=E,c.addEventListener)X||($=ae),$===void 0&&($=!1),c.addEventListener(m.toString(),O,$);else if(c.attachEvent)c.attachEvent(ee(m.toString()),O);else if(c.addListener&&c.removeListener)c.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return E}function V(){function c(E){return m.call(c.src,c.listener,E)}const m=te;return c}function z(c,m,E,O,$){if(Array.isArray(m))for(var K=0;K<m.length;K++)z(c,m[K],E,O,$);else O=u(O)?!!O.capture:!!O,E=xe(E),c&&c[Ne]?(c=c.i,m=String(m).toString(),m in c.g&&(K=c.g[m],E=bn(K,E,O,$),-1<E&&(Be(K[E]),Array.prototype.splice.call(K,E,1),K.length==0&&(delete c.g[m],c.h--)))):c&&(c=Z(c))&&(m=c.g[m.toString()],c=-1,m&&(c=bn(m,E,O,$)),(E=-1<c?m[c]:null)&&q(E))}function q(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Ne])tt(m.i,c);else{var E=c.type,O=c.proxy;m.removeEventListener?m.removeEventListener(E,O,c.capture):m.detachEvent?m.detachEvent(ee(E),O):m.addListener&&m.removeListener&&m.removeListener(O),(E=Z(m))?(tt(E,c),E.h==0&&(E.src=null,m[Bt]=null)):Be(c)}}}function ee(c){return c in Ye?Ye[c]:Ye[c]="on"+c}function te(c,m){if(c.da)c=!0;else{m=new G(m,this);var E=c.listener,O=c.ha||c.src;c.fa&&q(c),c=E.call(O,m)}return c}function Z(c){return c=c[Bt],c instanceof We?c:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(c){return typeof c=="function"?c:(c[se]||(c[se]=function(m){return c.handleEvent(m)}),c[se])}function be(){Y.call(this),this.i=new We(this),this.M=this,this.F=null}w(be,Y),be.prototype[Ne]=!0,be.prototype.removeEventListener=function(c,m,E,O){z(this,c,m,E,O)};function Ce(c,m){var E,O=c.F;if(O)for(E=[];O;O=O.F)E.push(O);if(c=c.M,O=m.type||m,typeof m=="string")m=new ie(m,c);else if(m instanceof ie)m.target=m.target||c;else{var $=m;m=new ie(O,c),b(m,$)}if($=!0,E)for(var K=E.length-1;0<=K;K--){var ae=m.g=E[K];$=He(ae,O,!0,m)&&$}if(ae=m.g=c,$=He(ae,O,!0,m)&&$,$=He(ae,O,!1,m)&&$,E)for(K=0;K<E.length;K++)ae=m.g=E[K],$=He(ae,O,!1,m)&&$}be.prototype.N=function(){if(be.aa.N.call(this),this.i){var c=this.i,m;for(m in c.g){for(var E=c.g[m],O=0;O<E.length;O++)Be(E[O]);delete c.g[m],c.h--}}this.F=null},be.prototype.K=function(c,m,E,O){return this.i.add(String(c),m,!1,E,O)},be.prototype.L=function(c,m,E,O){return this.i.add(String(c),m,!0,E,O)};function He(c,m,E,O){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,K=0;K<m.length;++K){var ae=m[K];if(ae&&!ae.da&&ae.capture==E){var Xe=ae.listener,$t=ae.ha||ae.src;ae.fa&&tt(c.i,ae),$=Xe.call($t,O)!==!1&&$}}return $&&!O.defaultPrevented}function Qn(c,m,E){if(typeof c=="function")E&&(c=p(c,E));else if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(c,m||0)}function mt(c){c.g=Qn(()=>{c.g=null,c.i&&(c.i=!1,mt(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class zt extends Y{constructor(m,E){super(),this.m=m,this.l=E,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function It(c){Y.call(this),this.h=c,this.g={}}w(It,Y);var dn=[];function hn(c){R(c.g,function(m,E){this.g.hasOwnProperty(E)&&q(m)},c),c.g={}}It.prototype.N=function(){It.aa.N.call(this),hn(this)},It.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=a.JSON.stringify,Ga=a.JSON.parse,Of=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Os(){}Os.prototype.h=null;function Qa(c){return c.h||(c.h=c.i())}function Ai(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){ie.call(this,"d")}w(Yn,ie);function Zn(){ie.call(this,"c")}w(Zn,ie);var kn={},Ci=null;function Ds(){return Ci=Ci||new be}kn.La="serverreachability";function Ir(c){ie.call(this,kn.La,c)}w(Ir,ie);function Dn(c){const m=Ds();Ce(m,new Ir(m))}kn.STAT_EVENT="statevent";function rv(c,m){ie.call(this,kn.STAT_EVENT,c),this.stat=m}w(rv,ie);function fn(c){const m=Ds();Ce(m,new rv(m,c))}kn.Ma="timingevent";function iv(c,m){ie.call(this,kn.Ma,c),this.size=m}w(iv,ie);function Ya(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},m)}function Za(){this.g=!0}Za.prototype.xa=function(){this.g=!1};function tI(c,m,E,O,$,K){c.info(function(){if(c.g)if(K)for(var ae="",Xe=K.split("&"),$t=0;$t<Xe.length;$t++){var ze=Xe[$t].split("=");if(1<ze.length){var Zt=ze[0];ze=ze[1];var Xt=Zt.split("_");ae=2<=Xt.length&&Xt[1]=="type"?ae+(Zt+"="+ze+"&"):ae+(Zt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+O+") [attempt "+$+"]: "+m+`
`+E+`
`+ae})}function nI(c,m,E,O,$,K,ae){c.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+$+"]: "+m+`
`+E+`
`+K+" "+ae})}function Ao(c,m,E,O){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+iI(c,E)+(O?" "+O:"")})}function rI(c,m){c.info(function(){return"TIMEOUT: "+m})}Za.prototype.info=function(){};function iI(c,m){if(!c.g)return m;if(!m)return null;try{var E=JSON.parse(m);if(E){for(c=0;c<E.length;c++)if(Array.isArray(E[c])){var O=E[c];if(!(2>O.length)){var $=O[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<$.length;ae++)$[ae]=""}}}}return Tn(E)}catch{return m}}var cu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jf;function uu(){}w(uu,Os),uu.prototype.g=function(){return new XMLHttpRequest},uu.prototype.i=function(){return{}},jf=new uu;function Ni(c,m,E,O){this.j=c,this.i=m,this.l=E,this.R=O||1,this.U=new It(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ov}function ov(){this.i=null,this.g="",this.h=!1}var av={},Df={};function Lf(c,m,E){c.L=1,c.v=pu(Yr(m)),c.m=E,c.P=!0,lv(c,null)}function lv(c,m){c.F=Date.now(),du(c),c.A=Yr(c.v);var E=c.A,O=c.R;Array.isArray(O)||(O=[String(O)]),Ev(E.i,"t",O),c.C=0,E=c.j.J,c.h=new ov,c.g=Uv(c.j,E?m:null,!c.m),0<c.O&&(c.M=new zt(p(c.Y,c,c.g),c.O)),m=c.U,E=c.g,O=c.ca;var $="readystatechange";Array.isArray($)||($&&(dn[0]=$.toString()),$=dn);for(var K=0;K<$.length;K++){var ae=kt(E,$[K],O||m.handleEvent,!1,m.h||m);if(!ae)break;m.g[ae.key]=ae}m=c.H?g(c.H):{},c.m?(c.u||(c.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,m)):(c.u="GET",c.g.ea(c.A,c.u,null,m)),Dn(),tI(c.i,c.u,c.A,c.l,c.R,c.m)}Ni.prototype.ca=function(c){c=c.target;const m=this.M;m&&Zr(c)==3?m.j():this.Y(c)},Ni.prototype.Y=function(c){try{if(c==this.g)e:{const Xt=Zr(this.g);var m=this.g.Ba();const Po=this.g.Z();if(!(3>Xt)&&(Xt!=3||this.g&&(this.h.h||this.g.oa()||Cv(this.g)))){this.J||Xt!=4||m==7||(m==8||0>=Po?Dn(3):Dn(2)),Mf(this);var E=this.g.Z();this.X=E;t:if(cv(this)){var O=Cv(this.g);c="";var $=O.length,K=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ls(this),Xa(this);var ae="";break t}this.h.i=new a.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,c+=this.h.i.decode(O[m],{stream:!(K&&m==$-1)});O.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=E==200,nI(this.i,this.u,this.A,this.l,this.R,Xt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,$t=this.g;if((Xe=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Xe)){var ze=Xe;break t}}ze=null}if(E=ze)Ao(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Vf(this,E);else{this.o=!1,this.s=3,fn(12),Ls(this),Xa(this);break e}}if(this.P){E=!0;let cr;for(;!this.J&&this.C<ae.length;)if(cr=sI(this,ae),cr==Df){Xt==4&&(this.s=4,fn(14),E=!1),Ao(this.i,this.l,null,"[Incomplete Response]");break}else if(cr==av){this.s=4,fn(15),Ao(this.i,this.l,ae,"[Invalid Chunk]"),E=!1;break}else Ao(this.i,this.l,cr,null),Vf(this,cr);if(cv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xt!=4||ae.length!=0||this.h.h||(this.s=1,fn(16),E=!1),this.o=this.o&&E,!E)Ao(this.i,this.l,ae,"[Invalid Chunked Response]"),Ls(this),Xa(this);else if(0<ae.length&&!this.W){this.W=!0;var Zt=this.j;Zt.g==this&&Zt.ba&&!Zt.M&&(Zt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Wf(Zt),Zt.M=!0,fn(11))}}else Ao(this.i,this.l,ae,null),Vf(this,ae);Xt==4&&Ls(this),this.o&&!this.J&&(Xt==4?Lv(this.j,this):(this.o=!1,du(this)))}else EI(this.g),E==400&&0<ae.indexOf("Unknown SID")?(this.s=3,fn(12)):(this.s=0,fn(13)),Ls(this),Xa(this)}}}catch{}finally{}};function cv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sI(c,m){var E=c.C,O=m.indexOf(`
`,E);return O==-1?Df:(E=Number(m.substring(E,O)),isNaN(E)?av:(O+=1,O+E>m.length?Df:(m=m.slice(O,O+E),c.C=O+E,m)))}Ni.prototype.cancel=function(){this.J=!0,Ls(this)};function du(c){c.S=Date.now()+c.I,uv(c,c.I)}function uv(c,m){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ya(p(c.ba,c),m)}function Mf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ni.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rI(this.i,this.A),this.L!=2&&(Dn(),fn(17)),Ls(this),this.s=2,Xa(this)):uv(this,this.S-c)};function Xa(c){c.j.G==0||c.J||Lv(c.j,c)}function Ls(c){Mf(c);var m=c.M;m&&typeof m.ma=="function"&&m.ma(),c.M=null,hn(c.U),c.g&&(m=c.g,c.g=null,m.abort(),m.ma())}function Vf(c,m){try{var E=c.j;if(E.G!=0&&(E.g==c||Ff(E.h,c))){if(!c.K&&Ff(E.h,c)&&E.G==3){try{var O=E.Da.g.parse(m)}catch{O=null}if(Array.isArray(O)&&O.length==3){var $=O;if($[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<c.F)wu(E),vu(E);else break e;$f(E),fn(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=Ya(p(E.Za,E),6e3));if(1>=fv(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Vs(E,11)}else if((c.K||E.g==c)&&wu(E),!x(m))for($=E.Da.g.parse(m),m=0;m<$.length;m++){let ze=$[m];if(E.T=ze[0],ze=ze[1],E.G==2)if(ze[0]=="c"){E.K=ze[1],E.ia=ze[2];const Zt=ze[3];Zt!=null&&(E.la=Zt,E.j.info("VER="+E.la));const Xt=ze[4];Xt!=null&&(E.Aa=Xt,E.j.info("SVER="+E.Aa));const Po=ze[5];Po!=null&&typeof Po=="number"&&0<Po&&(O=1.5*Po,E.L=O,E.j.info("backChannelRequestTimeoutMs_="+O)),O=E;const cr=c.g;if(cr){const Eu=cr.g?cr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eu){var K=O.h;K.g||Eu.indexOf("spdy")==-1&&Eu.indexOf("quic")==-1&&Eu.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Uf(K,K.h),K.h=null))}if(O.D){const Hf=cr.g?cr.g.getResponseHeader("X-HTTP-Session-Id"):null;Hf&&(O.ya=Hf,nt(O.I,O.D,Hf))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-c.F,E.j.info("Handshake RTT: "+E.R+"ms")),O=E;var ae=c;if(O.qa=Fv(O,O.J?O.ia:null,O.W),ae.K){pv(O.h,ae);var Xe=ae,$t=O.L;$t&&(Xe.I=$t),Xe.B&&(Mf(Xe),du(Xe)),O.g=ae}else jv(O);0<E.i.length&&_u(E)}else ze[0]!="stop"&&ze[0]!="close"||Vs(E,7);else E.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Vs(E,7):zf(E):ze[0]!="noop"&&E.l&&E.l.ta(ze),E.v=0)}}Dn(4)}catch{}}var oI=class{constructor(c,m){this.g=c,this.map=m}};function dv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fv(c){return c.h?1:c.g?c.g.size:0}function Ff(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Uf(c,m){c.g?c.g.add(m):c.h=m}function pv(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}dv.prototype.cancel=function(){if(this.i=mv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function mv(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const E of c.g.values())m=m.concat(E.D);return m}return P(c.i)}function aI(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var m=[],E=c.length,O=0;O<E;O++)m.push(c[O]);return m}m=[],E=0;for(O in c)m[E++]=c[O];return m}function lI(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var m=[];c=c.length;for(var E=0;E<c;E++)m.push(E);return m}m=[],E=0;for(const O in c)m[E++]=O;return m}}}function gv(c,m){if(c.forEach&&typeof c.forEach=="function")c.forEach(m,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,m,void 0);else for(var E=lI(c),O=aI(c),$=O.length,K=0;K<$;K++)m.call(void 0,O[K],E&&E[K],c)}var yv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cI(c,m){if(c){c=c.split("&");for(var E=0;E<c.length;E++){var O=c[E].indexOf("="),$=null;if(0<=O){var K=c[E].substring(0,O);$=c[E].substring(O+1)}else K=c[E];m(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ms(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ms){this.h=c.h,hu(this,c.j),this.o=c.o,this.g=c.g,fu(this,c.s),this.l=c.l;var m=c.i,E=new tl;E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),vv(this,E),this.m=c.m}else c&&(m=String(c).match(yv))?(this.h=!1,hu(this,m[1]||"",!0),this.o=Ja(m[2]||""),this.g=Ja(m[3]||"",!0),fu(this,m[4]),this.l=Ja(m[5]||"",!0),vv(this,m[6]||"",!0),this.m=Ja(m[7]||"")):(this.h=!1,this.i=new tl(null,this.h))}Ms.prototype.toString=function(){var c=[],m=this.j;m&&c.push(el(m,_v,!0),":");var E=this.g;return(E||m=="file")&&(c.push("//"),(m=this.o)&&c.push(el(m,_v,!0),"@"),c.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&c.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(el(E,E.charAt(0)=="/"?hI:dI,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",el(E,pI)),c.join("")};function Yr(c){return new Ms(c)}function hu(c,m,E){c.j=E?Ja(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function fu(c,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);c.s=m}else c.s=null}function vv(c,m,E){m instanceof tl?(c.i=m,mI(c.i,c.h)):(E||(m=el(m,fI)),c.i=new tl(m,c.h))}function nt(c,m,E){c.i.set(m,E)}function pu(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ja(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function el(c,m,E){return typeof c=="string"?(c=encodeURI(c).replace(m,uI),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uI(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _v=/[#\/\?@]/g,dI=/[#\?:]/g,hI=/[#\?]/g,fI=/[#\?@]/g,pI=/#/g;function tl(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function Pi(c){c.g||(c.g=new Map,c.h=0,c.i&&cI(c.i,function(m,E){c.add(decodeURIComponent(m.replace(/\+/g," ")),E)}))}t=tl.prototype,t.add=function(c,m){Pi(this),this.i=null,c=Co(this,c);var E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(m),this.h+=1,this};function wv(c,m){Pi(c),m=Co(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function xv(c,m){return Pi(c),m=Co(c,m),c.g.has(m)}t.forEach=function(c,m){Pi(this),this.g.forEach(function(E,O){E.forEach(function($){c.call(m,$,O,this)},this)},this)},t.na=function(){Pi(this);const c=Array.from(this.g.values()),m=Array.from(this.g.keys()),E=[];for(let O=0;O<m.length;O++){const $=c[O];for(let K=0;K<$.length;K++)E.push(m[O])}return E},t.V=function(c){Pi(this);let m=[];if(typeof c=="string")xv(this,c)&&(m=m.concat(this.g.get(Co(this,c))));else{c=Array.from(this.g.values());for(let E=0;E<c.length;E++)m=m.concat(c[E])}return m},t.set=function(c,m){return Pi(this),this.i=null,c=Co(this,c),xv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},t.get=function(c,m){return c?(c=this.V(c),0<c.length?String(c[0]):m):m};function Ev(c,m,E){wv(c,m),0<E.length&&(c.i=null,c.g.set(Co(c,m),P(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(var E=0;E<m.length;E++){var O=m[E];const K=encodeURIComponent(String(O)),ae=this.V(O);for(O=0;O<ae.length;O++){var $=K;ae[O]!==""&&($+="="+encodeURIComponent(String(ae[O]))),c.push($)}}return this.i=c.join("&")};function Co(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function mI(c,m){m&&!c.j&&(Pi(c),c.i=null,c.g.forEach(function(E,O){var $=O.toLowerCase();O!=$&&(wv(this,O),Ev(this,$,E))},c)),c.j=m}function gI(c,m){const E=new Za;if(a.Image){const O=new Image;O.onload=y(Ri,E,"TestLoadImage: loaded",!0,m,O),O.onerror=y(Ri,E,"TestLoadImage: error",!1,m,O),O.onabort=y(Ri,E,"TestLoadImage: abort",!1,m,O),O.ontimeout=y(Ri,E,"TestLoadImage: timeout",!1,m,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=c}else m(!1)}function yI(c,m){const E=new Za,O=new AbortController,$=setTimeout(()=>{O.abort(),Ri(E,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:O.signal}).then(K=>{clearTimeout($),K.ok?Ri(E,"TestPingServer: ok",!0,m):Ri(E,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Ri(E,"TestPingServer: error",!1,m)})}function Ri(c,m,E,O,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),O(E)}catch{}}function vI(){this.g=new Of}function _I(c,m,E){const O=E||"";try{gv(c,function($,K){let ae=$;u($)&&(ae=Tn($)),m.push(O+K+"="+encodeURIComponent(ae))})}catch($){throw m.push(O+"type="+encodeURIComponent("_badmap")),$}}function mu(c){this.l=c.Ub||null,this.j=c.eb||!1}w(mu,Os),mu.prototype.g=function(){return new gu(this.l,this.j)},mu.prototype.i=function(c){return function(){return c}}({});function gu(c,m){be.call(this),this.D=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(gu,be),t=gu.prototype,t.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=m,this.readyState=1,rl(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(m.body=c),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,rl(this)),this.g&&(this.readyState=3,rl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?nl(this):rl(this),this.readyState==3&&bv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,nl(this))},t.Qa=function(c){this.g&&(this.response=c,nl(this))},t.ga=function(){this.g&&nl(this)};function nl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,rl(c)}t.setRequestHeader=function(c,m){this.u.append(c,m)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var E=m.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=m.next();return c.join(`\r
`)};function rl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tv(c){let m="";return R(c,function(E,O){m+=O,m+=":",m+=E,m+=`\r
`}),m}function Bf(c,m,E){e:{for(O in E){var O=!1;break e}O=!0}O||(E=Tv(E),typeof c=="string"?E!=null&&encodeURIComponent(String(E)):nt(c,m,E))}function gt(c){be.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(gt,be);var wI=/^https?$/i,xI=["POST","PUT"];t=gt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,m,E,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jf.g(),this.v=this.o?Qa(this.o):Qa(jf),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(K){kv(this,K);return}if(c=E||"",E=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var $ in O)E.set($,O[$]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const K of O.keys())E.set(K,O.get(K));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),$=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xI,m,void 0))||O||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of E)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Av(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){kv(this,K)}};function kv(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.m=5,Iv(c),yu(c)}function Iv(c){c.A||(c.A=!0,Ce(c,"complete"),Ce(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ce(this,"complete"),Ce(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),gt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sv(this):this.bb())},t.bb=function(){Sv(this)};function Sv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Zr(c)!=4||c.Z()!=2)){if(c.u&&Zr(c)==4)Qn(c.Ea,0,c);else if(Ce(c,"readystatechange"),Zr(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var E;if(!(E=m)){var O;if(O=ae===0){var $=String(c.D).match(yv)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),O=!wI.test($?$.toLowerCase():"")}E=O}if(E)Ce(c,"complete"),Ce(c,"success");else{c.m=6;try{var K=2<Zr(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Iv(c)}}finally{yu(c)}}}}function yu(c,m){if(c.g){Av(c);const E=c.g,O=c.v[0]?()=>{}:null;c.g=null,c.v=null,m||Ce(c,"ready");try{E.onreadystatechange=O}catch{}}}function Av(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ga(m)}};function Cv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function EI(c){const m={};c=(c.g&&2<=Zr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<c.length;O++){if(x(c[O]))continue;var E=A(c[O]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=m[$]||[];m[$]=K,K.push(E)}S(m,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function il(c,m,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||m}function Nv(c){this.Aa=0,this.i=[],this.j=new Za,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=il("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=il("baseRetryDelayMs",5e3,c),this.cb=il("retryDelaySeedMs",1e4,c),this.Wa=il("forwardChannelMaxRetries",2,c),this.wa=il("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dv(c&&c.concurrentRequestLimit),this.Da=new vI,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Nv.prototype,t.la=8,t.G=1,t.connect=function(c,m,E,O){fn(0),this.W=c,this.H=m||{},E&&O!==void 0&&(this.H.OSID=E,this.H.OAID=O),this.F=this.X,this.I=Fv(this,null,this.W),_u(this)};function zf(c){if(Pv(c),c.G==3){var m=c.U++,E=Yr(c.I);if(nt(E,"SID",c.K),nt(E,"RID",m),nt(E,"TYPE","terminate"),sl(c,E),m=new Ni(c,c.j,m),m.L=2,m.v=pu(Yr(E)),E=!1,a.navigator&&a.navigator.sendBeacon)try{E=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!E&&a.Image&&(new Image().src=m.v,E=!0),E||(m.g=Uv(m.j,null),m.g.ea(m.v)),m.F=Date.now(),du(m)}Vv(c)}function vu(c){c.g&&(Wf(c),c.g.cancel(),c.g=null)}function Pv(c){vu(c),c.u&&(a.clearTimeout(c.u),c.u=null),wu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function _u(c){if(!hv(c.h)&&!c.s){c.s=!0;var m=c.Ga;j||H(),B||(j(),B=!0),F.add(m,c),c.B=0}}function bI(c,m){return fv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=m.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ya(p(c.Ga,c,m),Mv(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Ni(this,this.j,c);let K=this.o;if(this.S&&(K?(K=g(K),b(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var m=0,E=0;E<this.i.length;E++){t:{var O=this.i[E];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(m+=O,4096<m){m=E;break e}if(m===4096||E===this.i.length-1){m=E+1;break e}}m=1e3}else m=1e3;m=Ov(this,$,m),E=Yr(this.I),nt(E,"RID",c),nt(E,"CVER",22),this.D&&nt(E,"X-HTTP-Session-Id",this.D),sl(this,E),K&&(this.O?m="headers="+encodeURIComponent(String(Tv(K)))+"&"+m:this.m&&Bf(E,this.m,K)),Uf(this.h,$),this.Ua&&nt(E,"TYPE","init"),this.P?(nt(E,"$req",m),nt(E,"SID","null"),$.T=!0,Lf($,E,null)):Lf($,E,m),this.G=2}}else this.G==3&&(c?Rv(this,c):this.i.length==0||hv(this.h)||Rv(this))};function Rv(c,m){var E;m?E=m.l:E=c.U++;const O=Yr(c.I);nt(O,"SID",c.K),nt(O,"RID",E),nt(O,"AID",c.T),sl(c,O),c.m&&c.o&&Bf(O,c.m,c.o),E=new Ni(c,c.j,E,c.B+1),c.m===null&&(E.H=c.o),m&&(c.i=m.D.concat(c.i)),m=Ov(c,E,1e3),E.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Uf(c.h,E),Lf(E,O,m)}function sl(c,m){c.H&&R(c.H,function(E,O){nt(m,O,E)}),c.l&&gv({},function(E,O){nt(m,O,E)})}function Ov(c,m,E){E=Math.min(c.i.length,E);var O=c.l?p(c.l.Na,c.l,c):null;e:{var $=c.i;let K=-1;for(;;){const ae=["count="+E];K==-1?0<E?(K=$[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Xe=!0;for(let $t=0;$t<E;$t++){let ze=$[$t].g;const Zt=$[$t].map;if(ze-=K,0>ze)K=Math.max(0,$[$t].g-100),Xe=!1;else try{_I(Zt,ae,"req"+ze+"_")}catch{O&&O(Zt)}}if(Xe){O=ae.join("&");break e}}}return c=c.i.splice(0,E),m.D=c,O}function jv(c){if(!c.g&&!c.u){c.Y=1;var m=c.Fa;j||H(),B||(j(),B=!0),F.add(m,c),c.v=0}}function $f(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ya(p(c.Fa,c),Mv(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Dv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ya(p(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fn(10),vu(this),Dv(this))};function Wf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Dv(c){c.g=new Ni(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var m=Yr(c.qa);nt(m,"RID","rpc"),nt(m,"SID",c.K),nt(m,"AID",c.T),nt(m,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(m,"TO",c.ja),nt(m,"TYPE","xmlhttp"),sl(c,m),c.m&&c.o&&Bf(m,c.m,c.o),c.L&&(c.g.I=c.L);var E=c.g;c=c.ia,E.L=1,E.v=pu(Yr(m)),E.m=null,E.P=!0,lv(E,c)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),$f(this),fn(19))};function wu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Lv(c,m){var E=null;if(c.g==m){wu(c),Wf(c),c.g=null;var O=2}else if(Ff(c.h,m))E=m.D,pv(c.h,m),O=1;else return;if(c.G!=0){if(m.o)if(O==1){E=m.m?m.m.length:0,m=Date.now()-m.F;var $=c.B;O=Ds(),Ce(O,new iv(O,E)),_u(c)}else jv(c);else if($=m.s,$==3||$==0&&0<m.X||!(O==1&&bI(c,m)||O==2&&$f(c)))switch(E&&0<E.length&&(m=c.h,m.i=m.i.concat(E)),$){case 1:Vs(c,5);break;case 4:Vs(c,10);break;case 3:Vs(c,6);break;default:Vs(c,2)}}}function Mv(c,m){let E=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(E*=2),E*m}function Vs(c,m){if(c.j.info("Error code "+m),m==2){var E=p(c.fb,c),O=c.Xa;const $=!O;O=new Ms(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hu(O,"https"),pu(O),$?gI(O.toString(),E):yI(O.toString(),E)}else fn(2);c.G=0,c.l&&c.l.sa(m),Vv(c),Pv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),fn(2)):(this.j.info("Failed to ping google.com"),fn(1))};function Vv(c){if(c.G=0,c.ka=[],c.l){const m=mv(c.h);(m.length!=0||c.i.length!=0)&&(C(c.ka,m),C(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function Fv(c,m,E){var O=E instanceof Ms?Yr(E):new Ms(E);if(O.g!="")m&&(O.g=m+"."+O.g),fu(O,O.s);else{var $=a.location;O=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var K=new Ms(null);O&&hu(K,O),m&&(K.g=m),$&&fu(K,$),E&&(K.l=E),O=K}return E=c.D,m=c.ya,E&&m&&nt(O,E,m),nt(O,"VER",c.la),sl(c,O),O}function Uv(c,m,E){if(m&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Ca&&!c.pa?new gt(new mu({eb:E})):new gt(c.pa),m.Ha(c.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bv(){}t=Bv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xu(){}xu.prototype.g=function(c,m){return new Ln(c,m)};function Ln(c,m){be.call(this),this.g=new Nv(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(c?c["X-WebChannel-Client-Profile"]=m.va:c={"X-WebChannel-Client-Profile":m.va}),this.g.S=c,(c=m&&m.Sb)&&!x(c)&&(this.g.m=c),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.D=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new No(this)}w(Ln,be),Ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ln.prototype.close=function(){zf(this.g)},Ln.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.u&&(E={},E.__data__=Tn(c),c=E);m.i.push(new oI(m.Ya++,c)),m.G==3&&_u(m)},Ln.prototype.N=function(){this.g.l=null,delete this.j,zf(this.g),delete this.g,Ln.aa.N.call(this)};function zv(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){e:{for(const E in m){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(zv,Yn);function $v(){Zn.call(this),this.status=1}w($v,Zn);function No(c){this.g=c}w(No,Bv),No.prototype.ua=function(){Ce(this.g,"a")},No.prototype.ta=function(c){Ce(this.g,new zv(c))},No.prototype.sa=function(c){Ce(this.g,new $v)},No.prototype.ra=function(){Ce(this.g,"b")},xu.prototype.createWebChannel=xu.prototype.g,Ln.prototype.send=Ln.prototype.o,Ln.prototype.open=Ln.prototype.m,Ln.prototype.close=Ln.prototype.close,vT=function(){return new xu},yT=function(){return Ds()},gT=kn,dg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cu.NO_ERROR=0,cu.TIMEOUT=8,cu.HTTP_ERROR=6,cd=cu,sv.COMPLETE="complete",mT=sv,Ai.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",be.prototype.listen=be.prototype.K,kl=Ai,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,pT=gt}).apply(typeof $u<"u"?$u:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new H0("@firebase/firestore");function ml(){return fo.logLevel}function fe(t,...e){if(fo.logLevel<=De.DEBUG){const n=e.map(J0);fo.debug(`Firestore (${$a}): ${t}`,...n)}}function wi(t,...e){if(fo.logLevel<=De.ERROR){const n=e.map(J0);fo.error(`Firestore (${$a}): ${t}`,...n)}}function ka(t,...e){if(fo.logLevel<=De.WARN){const n=e.map(J0);fo.warn(`Firestore (${$a}): ${t}`,...n)}}function J0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+t;throw wi(e),new Error(e)}function Ge(t,e){t||Ee()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class x6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class E6{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new di,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ge(typeof r.accessToken=="string"),new _T(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new sn(e)}}class b6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class T6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new b6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class k6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class I6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ge(this.o===void 0);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string"),this.R=n.token,new k6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=S6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function Ia(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Pt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Te(e)}static min(){return new Te(new Pt(0,0))}static max(){return new Te(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ee(),r===void 0?r=e.length-n:r>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class it extends _c{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new it(n)}static emptyPath(){return new it([])}}const A6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends _c{construct(e,n,r){return new qt(e,n,r)}static isValidIdentifier(e){return A6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ue(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(it.fromString(e))}static fromName(e){return new ye(it.fromString(e).popFirst(5))}static empty(){return new ye(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new it(e.slice()))}}function C6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Te.fromTimestamp(r===1e9?new Pt(n+1,0):new Pt(n,r));return new vs(i,ye.empty(),e)}function N6(t){return new vs(t.readTime,t.key,-1)}class vs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new vs(Te.min(),ye.empty(),-1)}static max(){return new vs(Te.max(),ye.empty(),-1)}}function P6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class O6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==R6)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(i=>i?J.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new J((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new J((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function j6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ey.oe=-1;function af(t){return t==null}function eh(t){return t===0&&1/t==-1/0}function D6(t){return typeof t=="number"&&Number.isInteger(t)&&!eh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function To(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=s??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new X_(this.data.getIterator())}getIteratorFrom(e){return new X_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Gt(this.comparator);return n.data=e,n}}class X_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new Un([])}unionWith(e){let n=new Gt(qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ia(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ET("Invalid base64 string: "+s):s}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const L6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(t){if(Ge(!!t),typeof t=="string"){let e=0;const n=L6.exec(t);if(Ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(t.seconds),nanos:Et(t.nanos)}}function Et(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function po(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ty(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ny(t){const e=t.mapValue.fields.__previous_value__;return ty(e)?ny(e):e}function wc(t){const e=_s(t.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class xc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ty(t)?4:F6(t)?9007199254740991:V6(t)?10:11:Ee()}function Hr(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wc(t).isEqual(wc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=_s(i.timestampValue),a=_s(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return po(i.bytesValue).isEqual(po(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Et(i.geoPointValue.latitude)===Et(s.geoPointValue.latitude)&&Et(i.geoPointValue.longitude)===Et(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Et(i.integerValue)===Et(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Et(i.doubleValue),a=Et(s.doubleValue);return o===a?eh(o)===eh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ia(t.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Z_(o)!==Z_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Hr(o[l],a[l])))return!1;return!0}(t,e);default:return Ee()}}function Ec(t,e){return(t.values||[]).find(n=>Hr(n,e))!==void 0}function Sa(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Et(s.integerValue||s.doubleValue),l=Et(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return J_(t.timestampValue,e.timestampValue);case 4:return J_(wc(t),wc(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(s,o){const a=po(s),l=po(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=$e(a[u],l[u]);if(d!==0)return d}return $e(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=$e(Et(s.latitude),Et(o.latitude));return a!==0?a:$e(Et(s.longitude),Et(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return e2(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;const f=s.fields||{},p=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=p.value)===null||l===void 0?void 0:l.arrayValue,P=$e(((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return P!==0?P:e2(y,w)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Hu.mapValue&&o===Hu.mapValue)return 0;if(s===Hu.mapValue)return 1;if(o===Hu.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=$e(l[f],d[f]);if(p!==0)return p;const y=Sa(a[l[f]],u[d[f]]);if(y!==0)return y}return $e(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function J_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=_s(t),r=_s(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function e2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Sa(n[i],r[i]);if(s)return s}return $e(n.length,r.length)}function Aa(t){return hg(t)}function hg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return po(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=hg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${hg(n.fields[o])}`;return i+"}"}(t.mapValue):Ee()}function t2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fg(t){return!!t&&"integerValue"in t}function ry(t){return!!t&&"arrayValue"in t}function n2(t){return!!t&&"nullValue"in t}function r2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ud(t){return!!t&&"mapValue"in t}function V6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function $l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return To(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function F6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ud(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=qt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$l(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ud(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){To(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Cn($l(this.value))}}function bT(t){const e=[];return To(t.fields,(n,r)=>{const i=new qt([n]);if(ud(r)){const s=bT(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new an(e,0,Te.min(),Te.min(),Te.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new an(e,1,n,Te.min(),r,i,0)}static newNoDocument(e,n){return new an(e,2,n,Te.min(),Te.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new an(e,3,n,Te.min(),Te.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.position=e,this.inclusive=n}}function i2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=Sa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function s2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Hr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function U6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{}class Nt extends TT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new z6(e,n,r):n==="array-contains"?new H6(e,r):n==="in"?new q6(e,r):n==="not-in"?new K6(e,r):n==="array-contains-any"?new G6(e,r):new Nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $6(e,r):new W6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Sa(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends TT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new br(e,n)}matches(e){return kT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function kT(t){return t.op==="and"}function IT(t){return B6(t)&&kT(t)}function B6(t){for(const e of t.filters)if(e instanceof br)return!1;return!0}function pg(t){if(t instanceof Nt)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(IT(t))return t.filters.map(e=>pg(e)).join(",");{const e=t.filters.map(n=>pg(n)).join(",");return`${t.op}(${e})`}}function ST(t,e){return t instanceof Nt?function(r,i){return i instanceof Nt&&r.op===i.op&&r.field.isEqual(i.field)&&Hr(r.value,i.value)}(t,e):t instanceof br?function(r,i){return i instanceof br&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&ST(o,i.filters[a]),!0):!1}(t,e):void Ee()}function AT(t){return t instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`}(t):t instanceof br?function(n){return n.op.toString()+" {"+n.getFilters().map(AT).join(" ,")+"}"}(t):"Filter"}class z6 extends Nt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class $6 extends Nt{constructor(e,n){super(e,"in",n),this.keys=CT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W6 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=CT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class H6 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ry(n)&&Ec(n.arrayValue,this.value)}}class q6 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}}class K6 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ec(this.value.arrayValue,n)}}class G6 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ry(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ec(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function o2(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Q6(t,e,n,r,i,s,o)}function iy(t){const e=Ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),af(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.ue=n}return e.ue}function sy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!U6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!ST(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s2(t.startAt,e.startAt)&&s2(t.endAt,e.endAt)}function mg(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Y6(t,e,n,r,i,s,o,a){return new Wa(t,e,n,r,i,s,o,a)}function oy(t){return new Wa(t)}function a2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NT(t){return t.collectionGroup!==null}function Wl(t){const e=Ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Gt(qt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new bc(s,r))}),n.has(qt.keyField().canonicalString())||e.ce.push(new bc(qt.keyField(),r))}return e.ce}function Ur(t){const e=Ie(t);return e.le||(e.le=Z6(e,Wl(t))),e.le}function Z6(t,e){if(t.limitType==="F")return o2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new bc(i.field,s)});const n=t.endAt?new th(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new th(t.startAt.position,t.startAt.inclusive):null;return o2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gg(t,e){const n=t.filters.concat([e]);return new Wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nh(t,e,n){return new Wa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lf(t,e){return sy(Ur(t),Ur(e))&&t.limitType===e.limitType}function PT(t){return`${iy(Ur(t))}|lt:${t.limitType}`}function jo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AT(i)).join(", ")}]`),af(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Aa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Aa(i)).join(",")),`Target(${r})`}(Ur(t))}; limitType=${t.limitType})`}function cf(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ye.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=i2(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Wl(r),i)||r.endAt&&!function(o,a,l){const u=i2(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Wl(r),i))}(t,e)}function X6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RT(t){return(e,n)=>{let r=!1;for(const i of Wl(t)){const s=J6(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function J6(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Sa(l,u):Ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){To(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return xT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new pt(ye.comparator);function xi(){return eO}const OT=new pt(ye.comparator);function Il(...t){let e=OT;for(const n of t)e=e.insert(n.key,n);return e}function jT(t){let e=OT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function qs(){return Hl()}function DT(){return Hl()}function Hl(){return new Ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const tO=new pt(ye.comparator),nO=new Gt(ye.comparator);function Oe(...t){let e=nO;for(const n of t)e=e.add(n);return e}const rO=new Gt($e);function iO(){return rO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function LT(t){return{integerValue:""+t}}function sO(t,e){return D6(e)?LT(e):ay(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function oO(t,e,n){return t instanceof rh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ty(s)&&(s=ny(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ca?VT(t,e):t instanceof Na?FT(t,e):function(i,s){const o=MT(i,s),a=l2(o)+l2(i.Pe);return fg(o)&&fg(i.Pe)?LT(a):ay(i.serializer,a)}(t,e)}function aO(t,e,n){return t instanceof Ca?VT(t,e):t instanceof Na?FT(t,e):n}function MT(t,e){return t instanceof ih?function(r){return fg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class rh extends uf{}class Ca extends uf{constructor(e){super(),this.elements=e}}function VT(t,e){const n=UT(e);for(const r of t.elements)n.some(i=>Hr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Na extends uf{constructor(e){super(),this.elements=e}}function FT(t,e){let n=UT(e);for(const r of t.elements)n=n.filter(i=>!Hr(i,r));return{arrayValue:{values:n}}}class ih extends uf{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function l2(t){return Et(t.integerValue||t.doubleValue)}function UT(t){return ry(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.field=e,this.transform=n}}function lO(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ca&&i instanceof Ca||r instanceof Na&&i instanceof Na?Ia(r.elements,i.elements,Hr):r instanceof ih&&i instanceof ih?Hr(r.Pe,i.Pe):r instanceof rh&&i instanceof rh}(t.transform,e.transform)}class cO{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class df{}function zT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ly(t.key,ir.none()):new Zc(t.key,t.data,ir.none());{const n=t.data,r=Cn.empty();let i=new Gt(qt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ns(t.key,r,new Un(i.toArray()),ir.none())}}function uO(t,e,n){t instanceof Zc?function(i,s,o){const a=i.value.clone(),l=u2(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ns?function(i,s,o){if(!dd(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=u2(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll($T(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ql(t,e,n,r){return t instanceof Zc?function(s,o,a,l){if(!dd(s.precondition,o))return a;const u=s.value.clone(),d=d2(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ns?function(s,o,a,l){if(!dd(s.precondition,o))return a;const u=d2(s.fieldTransforms,l,o),d=o.data;return d.setAll($T(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return dd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function dO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=MT(r.transform,i||null);s!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,s))}return n||null}function c2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ia(r,i,(s,o)=>lO(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zc extends df{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ns extends df{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function $T(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function u2(t,e,n){const r=new Map;Ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,aO(o,a,n[i]))}return r}function d2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,oO(s,o,e))}return r}class ly extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hO extends df{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uO(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DT();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=zT(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Ia(this.mutations,e.mutations,(n,r)=>c2(n,r))&&Ia(this.baseMutations,e.baseMutations,(n,r)=>c2(n,r))}}class cy{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ge(e.mutations.length===r.length);let i=function(){return tO}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cy(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Le;function gO(t){switch(t){default:return Ee();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function WT(t){if(t===void 0)return wi("GRPC error has no .code"),Q.UNKNOWN;switch(t){case St.OK:return Q.OK;case St.CANCELLED:return Q.CANCELLED;case St.UNKNOWN:return Q.UNKNOWN;case St.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case St.INTERNAL:return Q.INTERNAL;case St.UNAVAILABLE:return Q.UNAVAILABLE;case St.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case St.NOT_FOUND:return Q.NOT_FOUND;case St.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case St.ABORTED:return Q.ABORTED;case St.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case St.DATA_LOSS:return Q.DATA_LOSS;default:return Ee()}}(Le=St||(St={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new to([4294967295,4294967295],0);function h2(t){const e=yO().encode(t),n=new fT;return n.update(e),new Uint8Array(n.digest())}function f2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new to([n,r],0),new to([i,s],0)]}class uy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sl(`Invalid padding: ${n}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=to.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(to.fromNumber(r)));return i.compare(vO)===1&&(i=new to([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=h2(e),[r,i]=f2(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uy(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=h2(e),[r,i]=f2(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hf(Te.min(),i,new pt($e),xi(),Oe())}}class Xc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Xc(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class HT{constructor(e,n){this.targetId=e,this.me=n}}class qT{constructor(e,n,r=Yt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class p2{constructor(){this.fe=0,this.ge=g2(),this.pe=Yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ee()}}),new Xc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=g2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class _O{constructor(e){this.Le=e,this.Be=new Map,this.ke=xi(),this.qe=m2(),this.Qe=new pt($e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(mg(s))if(r===0){const o=new ye(s.path);this.Ue(n,o,an.newNoDocument(o,Te.min()))}else Ge(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=po(r).toUint8Array()}catch(l){if(l instanceof ET)return ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uy(o,i,s)}catch(l){return ka(l instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&mg(a.target)){const l=new ye(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,an.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Oe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new hf(e,n,this.Qe,this.ke,r);return this.ke=xi(),this.qe=m2(),this.Qe=new pt($e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new p2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Gt($e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new p2),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function m2(){return new pt(ye.comparator)}function g2(){return new pt(ye.comparator)}const wO={asc:"ASCENDING",desc:"DESCENDING"},xO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EO={and:"AND",or:"OR"};class bO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function yg(t,e){return t.useProto3Json||af(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TO(t,e){return sh(t,e.toTimestamp())}function Br(t){return Ge(!!t),Te.fromTimestamp(function(n){const r=_s(n);return new Pt(r.seconds,r.nanos)}(t))}function dy(t,e){return vg(t,e).canonicalString()}function vg(t,e){const n=function(i){return new it(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function GT(t){const e=it.fromString(t);return Ge(JT(e)),e}function _g(t,e){return dy(t.databaseId,e.path)}function Rp(t,e){const n=GT(e);if(n.get(1)!==t.databaseId.projectId)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ue(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(YT(n))}function QT(t,e){return dy(t.databaseId,e)}function kO(t){const e=GT(t);return e.length===4?it.emptyPath():YT(e)}function wg(t){return new it(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YT(t){return Ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function y2(t,e,n){return{name:_g(t,e),fields:n.value.mapValue.fields}}function IO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ge(d===void 0||typeof d=="string"),Yt.fromBase64String(d||"")):(Ge(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Yt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?Q.UNKNOWN:WT(u.code);return new ue(d,u.message||"")}(o);n=new qT(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rp(t,r.document.name),s=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):Te.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=an.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new hd(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rp(t,r.document),s=r.readTime?Br(r.readTime):Te.min(),o=an.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rp(t,r.document),s=r.removedTargetIds||[];n=new hd([],s,i,null)}else{if(!("filter"in e))return Ee();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new mO(i,s),a=r.targetId;n=new HT(a,o)}}return n}function SO(t,e){let n;if(e instanceof Zc)n={update:y2(t,e.key,e.value)};else if(e instanceof ly)n={delete:_g(t,e.key)};else if(e instanceof Ns)n={update:y2(t,e.key,e.data),updateMask:LO(e.fieldMask)};else{if(!(e instanceof hO))return Ee();n={verify:_g(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ca)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Na)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ih)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TO(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ee()}(t,e.precondition)),n}function AO(t,e){return t&&t.length>0?(Ge(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Br(i.updateTime):Br(s);return o.isEqual(Te.min())&&(o=Br(s)),new cO(o,i.transformResults||[])}(n,e))):[]}function CO(t,e){return{documents:[QT(t,e.path)]}}function NO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=QT(t,i);const s=function(u){if(u.length!==0)return XT(br.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(d=>function(p){return{field:Do(p.field),direction:OO(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=yg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function PO(t){let e=kO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ge(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=ZT(f);return p instanceof br&&IT(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(w){return new bc(Lo(w.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,af(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,y=f.values||[];return new th(y,p)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const p=!f.before,y=f.values||[];return new th(y,p)}(n.endAt)),Y6(e,i,o,s,a,"F",l,u)}function RO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Lo(n.unaryFilter.field);return Nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Lo(n.unaryFilter.field);return Nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Lo(n.unaryFilter.field);return Nt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Lo(n.unaryFilter.field);return Nt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return Nt.create(Lo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return br.create(n.compositeFilter.filters.map(r=>ZT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function OO(t){return wO[t]}function jO(t){return xO[t]}function DO(t){return EO[t]}function Do(t){return{fieldPath:t.canonicalString()}}function Lo(t){return qt.fromServerFormat(t.fieldPath)}function XT(t){return t instanceof Nt?function(n){if(n.op==="=="){if(r2(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(n2(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r2(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(n2(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:jO(n.op),value:n.value}}}(t):t instanceof br?function(n){const r=n.getFilters().map(i=>XT(i));return r.length===1?r[0]:{compositeFilter:{op:DO(n.op),filters:r}}}(t):Ee()}function LO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,s=Te.min(),o=Te.min(),a=Yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e){this.ct=e}}function VO(t){const e=PO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(){this.un=new UO}addToCollectionParentIndex(e,n){return this.un.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(vs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(vs.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class UO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Gt(it.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Gt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pa(0)}static kn(){return new Pa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(){this.changes=new Ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ql(r.mutation,i,Un.empty(),Pt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=qs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Il();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=qs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=xi();const o=Hl(),a=function(){return Hl()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Ns)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ql(d.mutation,u,d.mutation.getFieldMask(),Pt.now())):o.set(u.key,Un.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var f;return a.set(u,new zO(d,(f=o.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hl();let i=new pt((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||Un.empty();d=a.applyToLocalView(u,d),r.set(l,d);const f=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,f=DT();d.forEach(p=>{if(!s.has(p)){const y=zT(n.get(p),r.get(p));y!==null&&f.set(p,y),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):J.resolve(qs());let a=-1,l=s;return o.next(u=>J.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?J.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Oe())).next(d=>({batchId:a,changes:jT(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Il();return this.indexManager.getCollectionParents(e,s).next(a=>J.forEach(a,l=>{const u=function(f,p){return new Wa(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,an.newInvalidDocument(d)))});let a=Il();return o.forEach((l,u)=>{const d=s.get(l);d!==void 0&&ql(d.mutation,u,Un.empty(),Pt.now()),cf(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return J.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Br(i.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:VO(i.bundledQuery),readTime:Br(i.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.overlays=new pt(ye.comparator),this.Ir=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=qs();return J.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=qs(),s=n.length+1,o=new ye(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new pt((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=qs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=qs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return J.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pO(n,r));let s=this.Ir.get(n);s===void 0&&(s=Oe(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(){this.Tr=new Gt(Mt.Er),this.dr=new Gt(Mt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Mt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Mt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new it([])),r=new Mt(n,e),i=new Mt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new it([])),r=new Mt(n,e),i=new Mt(n,e+1);let s=Oe();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Mt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||$e(e.wr,n.wr)}static Ar(e,n){return $e(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Gt(Mt.Er)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new fO(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Mt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return J.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Mt(n,0),i=new Mt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),J.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Gt($e);return n.forEach(i=>{const s=new Mt(i,0),o=new Mt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),J.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ye.isDocumentKey(s)||(s=s.child(""));const o=new Mt(new ye(s),0);let a=new Gt($e);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),J.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ge(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return J.forEach(n.mutations,i=>{const s=new Mt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Mt(n,0),i=this.br.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e){this.Mr=e,this.docs=function(){return new pt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():an.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():an.newInvalidDocument(i))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xi();const o=n.path,a=new ye(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||P6(N6(d),r)<=0||(i.has(d.key)||cf(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return J.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ee()}Or(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QO(this)}getSize(e){return J.resolve(this.size)}}class QO extends BO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.persistence=e,this.Nr=new Ha(n=>iy(n),sy),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new hy,this.targetCount=0,this.kr=Pa.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),J.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Pa(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Kn(n),J.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),J.waitFor(s).next(()=>i)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),J.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ey(0),this.Kr=!1,this.Kr=!0,this.$r=new qO,this.referenceDelegate=e(this),this.Ur=new YO(this),this.indexManager=new FO,this.remoteDocumentCache=function(i){return new GO(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new MO(n),this.Gr=new WO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new KO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new XO(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return J.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class XO extends O6{constructor(e){super(),this.currentSequenceNumber=e}}class fy{constructor(e){this.persistence=e,this.Jr=new hy,this.Yr=null}static Zr(e){return new fy(e)}get Xr(){if(this.Yr)return this.Yr;throw Ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),J.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.Xr,r=>{const i=ye.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return J.or([()=>J.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new py(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return BP()?8:j6(cn())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new JO;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ml()<=De.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",jo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),J.resolve()):(ml()<=De.DEBUG&&fe("QueryEngine","Query:",jo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ml()<=De.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",jo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ur(n))):J.resolve())}Yi(e,n){if(a2(n))return J.resolve(null);let r=Ur(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=nh(n,null,"F"),r=Ur(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,nh(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return a2(n)||i.isEqual(Te.min())?J.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?J.resolve(null):(ml()<=De.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),jo(n)),this.rs(e,o,n,C6(i,-1)).next(a=>a))})}ts(e,n){let r=new Gt(RT(e));return n.forEach((i,s)=>{cf(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ml()<=De.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",jo(n)),this.Ji.getDocumentsMatchingQuery(e,n,vs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new pt($e),this._s=new Ha(s=>iy(s),sy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $O(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function n8(t,e,n,r){return new t8(t,e,n,r)}async function e4(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Oe();for(const u of i){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function r8(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const f=u.batch,p=f.keys();let y=J.resolve();return p.forEach(w=>{y=y.next(()=>d.getEntry(l,w)).next(P=>{const C=u.docVersions.get(w);Ge(C!==null),P.version.compareTo(C)<0&&(f.applyToRemoteDocument(P,u),P.isValidDocument()&&(P.setReadTime(u.commitVersion),d.addEntry(P)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function t4(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function i8(t,e){const n=Ie(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,f)));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Yt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),i=i.insert(f,y),function(P,C,_){return P.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,y,d)&&a.push(n.Ur.updateTargetData(s,y))});let l=xi(),u=Oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(s8(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!r.isEqual(Te.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(f=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return J.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function s8(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=xi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Te.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):fe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function o8(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a8(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,J.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function xg(t,e,n){const r=Ie(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Yc(o))throw o;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function v2(t,e,n){const r=Ie(t);let i=Te.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){const f=Ie(l),p=f._s.get(d);return p!==void 0?J.resolve(f.os.get(p)):f.Ur.getTargetData(u,d)}(r,o,Ur(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Te.min(),n?s:Oe())).next(a=>(l8(r,X6(e),a),{documents:a,Ts:s})))}function l8(t,e,n){let r=t.us.get(e)||Te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class _2{constructor(){this.activeTargetIds=iO()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c8{constructor(){this.so=new _2,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qu=null;function Op(){return qu===null?qu=function(){return 268435456+Math.round(2147483648*Math.random())}():qu++,"0x"+qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class f8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Op(),l=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(d=>(fe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ka("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=d8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Op();return new Promise((o,a)=>{const l=new pT;l.setWithCredentials(!0),l.listenOnce(mT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cd.NO_ERROR:const d=l.getResponseJson();fe(tn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case cd.TIMEOUT:fe(tn,`RPC '${e}' ${s} timed out`),a(new ue(Q.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:const f=l.getStatus();if(fe(tn,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const w=function(C){const _=C.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(_)>=0?_:Q.UNKNOWN}(y.status);a(new ue(w,y.message))}else a(new ue(Q.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(Q.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{fe(tn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);fe(tn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Op(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vT(),a=yT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");fe(tn,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,y=!1;const w=new h8({Io:C=>{y?fe(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(p||(fe(tn,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),fe(tn,`RPC '${e}' stream ${i} sending:`,C),f.send(C))},To:()=>f.close()}),P=(C,_,x)=>{C.listen(_,k=>{try{x(k)}catch(N){setTimeout(()=>{throw N},0)}})};return P(f,kl.EventType.OPEN,()=>{y||(fe(tn,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),P(f,kl.EventType.CLOSE,()=>{y||(y=!0,fe(tn,`RPC '${e}' stream ${i} transport closed`),w.So())}),P(f,kl.EventType.ERROR,C=>{y||(y=!0,ka(tn,`RPC '${e}' stream ${i} transport errored:`,C),w.So(new ue(Q.UNAVAILABLE,"The operation could not be completed")))}),P(f,kl.EventType.MESSAGE,C=>{var _;if(!y){const x=C.data[0];Ge(!!x);const k=x,N=k.error||((_=k[0])===null||_===void 0?void 0:_.error);if(N){fe(tn,`RPC '${e}' stream ${i} received error:`,N);const D=N.status;let R=function(v){const b=St[v];if(b!==void 0)return WT(b)}(D),S=N.message;R===void 0&&(R=Q.INTERNAL,S="Unknown error status: "+D+" with message "+N.message),y=!0,w.So(new ue(R,S)),f.close()}else fe(tn,`RPC '${e}' stream ${i} received:`,x),w.bo(x)}}),P(a,gT.STAT_EVENT,C=>{C.stat===dg.PROXY?fe(tn,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===dg.NOPROXY&&fe(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t){return new bO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new n4(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ue(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p8 extends r4{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=IO(this.serializer,e),r=function(s){if(!("targetChange"in s))return Te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Te.min():o.readTime?Br(o.readTime):Te.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=wg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=mg(l)?{documents:CO(s,l)}:{query:NO(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KT(s,o.resumeToken);const u=yg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Te.min())>0){a.readTime=sh(s,o.snapshotVersion.toTimestamp());const u=yg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=RO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=wg(this.serializer),n.removeTarget=e,this.a_(n)}}class m8 extends r4{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=AO(e.writeResults,e.commitTime),r=Br(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=wg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,vg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(Q.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,vg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Q.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class y8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(wi(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{ko(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ie(l);u.L_.add(4),await Jc(u),u.q_.set("Unknown"),u.L_.delete(4),await pf(u)}(this))})}),this.q_=new y8(r,i)}}async function pf(t){if(ko(t))for(const e of t.B_)await e(!0)}async function Jc(t){for(const e of t.B_)await e(!1)}function i4(t,e){const n=Ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),vy(n)?yy(n):qa(n).r_()&&gy(n,e))}function my(t,e){const n=Ie(t),r=qa(n);n.N_.delete(e),r.r_()&&s4(n,e),n.N_.size===0&&(r.r_()?r.o_():ko(n)&&n.q_.set("Unknown"))}function gy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).A_(e)}function s4(t,e){t.Q_.xe(e),qa(t).R_(e)}function yy(t){t.Q_=new _O({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.q_.v_()}function vy(t){return ko(t)&&!qa(t).n_()&&t.N_.size>0}function ko(t){return Ie(t).L_.size===0}function o4(t){t.Q_=void 0}async function _8(t){t.q_.set("Online")}async function w8(t){t.N_.forEach((e,n)=>{gy(t,e)})}async function x8(t,e){o4(t),vy(t)?(t.q_.M_(e),yy(t)):t.q_.set("Unknown")}async function E8(t,e,n){if(t.q_.set("Online"),e instanceof qT&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await oh(t,r)}else if(e instanceof hd?t.Q_.Ke(e):e instanceof HT?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Te.min()))try{const r=await t4(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(Yt.EMPTY_BYTE_STRING,d.snapshotVersion)),s4(s,l);const f=new Zi(d.target,l,u,d.sequenceNumber);gy(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await oh(t,r)}}async function oh(t,e,n){if(!Yc(e))throw e;t.L_.add(1),await Jc(t),t.q_.set("Offline"),n||(n=()=>t4(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await pf(t)})}function a4(t,e){return e().catch(n=>oh(t,n,e))}async function mf(t){const e=Ie(t),n=ws(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;b8(e);)try{const i=await o8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,T8(e,i)}catch(i){await oh(e,i)}l4(e)&&c4(e)}function b8(t){return ko(t)&&t.O_.length<10}function T8(t,e){t.O_.push(e);const n=ws(t);n.r_()&&n.V_&&n.m_(e.mutations)}function l4(t){return ko(t)&&!ws(t).n_()&&t.O_.length>0}function c4(t){ws(t).start()}async function k8(t){ws(t).p_()}async function I8(t){const e=ws(t);for(const n of t.O_)e.m_(n.mutations)}async function S8(t,e,n){const r=t.O_.shift(),i=cy.from(r,e,n);await a4(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await mf(t)}async function A8(t,e){e&&ws(t).V_&&await async function(r,i){if(function(o){return gO(o)&&o!==Q.ABORTED}(i.code)){const s=r.O_.shift();ws(r).s_(),await a4(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await mf(r)}}(t,e),l4(t)&&c4(t)}async function x2(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=ko(n);n.L_.add(3),await Jc(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await pf(n)}async function C8(t,e){const n=Ie(t);e?(n.L_.delete(2),await pf(n)):e||(n.L_.add(2),await Jc(n),n.q_.set("Unknown"))}function qa(t){return t.K_||(t.K_=function(n,r,i){const s=Ie(n);return s.w_(),new p8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:_8.bind(null,t),Ro:w8.bind(null,t),mo:x8.bind(null,t),d_:E8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),vy(t)?yy(t):t.q_.set("Unknown")):(await t.K_.stop(),o4(t))})),t.K_}function ws(t){return t.U_||(t.U_=function(n,r,i){const s=Ie(n);return s.w_(),new m8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:k8.bind(null,t),mo:A8.bind(null,t),f_:I8.bind(null,t),g_:S8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await mf(t)):(await t.U_.stop(),t.O_.length>0&&(fe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _y(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(wi("AsyncQueue",`${e}: ${t}`),Yc(t))return new ue(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new la(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof la)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new la;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.W_=new pt(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ee():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ra{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ra(e,n,la.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class P8{constructor(){this.queries=b2(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ie(n),s=i.queries;i.queries=b2(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(Q.ABORTED,"Firestore shutting down"))}}function b2(){return new Ha(t=>PT(t),lf)}async function u4(t,e){const n=Ie(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new N8,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=wy(o,`Initialization of query '${jo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&xy(n)}async function d4(t,e){const n=Ie(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function R8(t,e){const n=Ie(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&xy(n)}function O8(t,e,n){const r=Ie(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function xy(t){t.Y_.forEach(e=>{e.next()})}var Eg,T2;(T2=Eg||(Eg={})).ea="default",T2.Cache="cache";class h4{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Eg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.key=e}}class p4{constructor(e){this.key=e}}class j8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Oe(),this.mutatedKeys=Oe(),this.Aa=RT(e),this.Ra=new la(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new E2,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),y=cf(this.query,f)?f:null,w=!!p&&this.mutatedKeys.has(p.key),P=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let C=!1;p&&y?p.data.isEqual(y.data)?w!==P&&(r.track({type:3,doc:y}),C=!0):this.ga(p,y)||(r.track({type:2,doc:y}),C=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!p&&y?(r.track({type:0,doc:y}),C=!0):p&&!y&&(r.track({type:1,doc:p}),C=!0,(l||u)&&(a=!0)),C&&(y?(o=o.add(y),s=P?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(y,w){const P=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return P(y)-P(w)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ra(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new E2,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new p4(r))}),this.da.forEach(r=>{e.has(r)||n.push(new f4(r))}),n}ba(e){this.Ta=e.Ts,this.da=Oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class D8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class L8{constructor(e){this.key=e,this.va=!1}}class M8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ha(a=>PT(a),lf),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(ye.comparator),this.Na=new Map,this.La=new hy,this.Ba={},this.ka=new Map,this.qa=Pa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function V8(t,e,n=!0){const r=w4(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await m4(r,e,n,!0),i}async function F8(t,e){const n=w4(t);await m4(n,e,!0,!1)}async function m4(t,e,n,r){const i=await a8(t.localStore,Ur(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await U8(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&i4(t.remoteStore,i),a}async function U8(t,e,n,r,i){t.Ka=(f,p,y)=>async function(P,C,_,x){let k=C.view.ma(_);k.ns&&(k=await v2(P.localStore,C.query,!1).then(({documents:S})=>C.view.ma(S,k)));const N=x&&x.targetChanges.get(C.targetId),D=x&&x.targetMismatches.get(C.targetId)!=null,R=C.view.applyChanges(k,P.isPrimaryClient,N,D);return I2(P,C.targetId,R.wa),R.snapshot}(t,f,p,y);const s=await v2(t.localStore,e,!0),o=new j8(e,s.Ts),a=o.ma(s.documents),l=Xc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);I2(t,n,u.wa);const d=new D8(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function B8(t,e,n){const r=Ie(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!lf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await xg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&my(r.remoteStore,i.targetId),bg(r,i.targetId)}).catch(Qc)):(bg(r,i.targetId),await xg(r.localStore,i.targetId,!0))}async function z8(t,e){const n=Ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),my(n.remoteStore,r.targetId))}async function $8(t,e,n){const r=Y8(t);try{const i=await function(o,a){const l=Ie(o),u=Pt.now(),d=a.reduce((y,w)=>y.add(w.key),Oe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=xi(),P=Oe();return l.cs.getEntries(y,d).next(C=>{w=C,w.forEach((_,x)=>{x.isValidDocument()||(P=P.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,w)).next(C=>{f=C;const _=[];for(const x of a){const k=dO(x,f.get(x.key).overlayedDocument);k!=null&&_.push(new Ns(x.key,k,bT(k.value.mapValue),ir.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,_,a)}).next(C=>{p=C;const _=C.applyToLocalDocumentSet(f,P);return l.documentOverlayCache.saveOverlays(y,C.batchId,_)})}).then(()=>({batchId:p.batchId,changes:jT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new pt($e)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await eu(r,i.changes),await mf(r.remoteStore)}catch(i){const s=wy(i,"Failed to persist write");n.reject(s)}}async function g4(t,e){const n=Ie(t);try{const r=await i8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ge(o.va):i.removedDocuments.size>0&&(Ge(o.va),o.va=!1))}),await eu(n,r,e)}catch(r){await Qc(r)}}function k2(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ie(o);l.onlineState=a;let u=!1;l.queries.forEach((d,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&xy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W8(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new pt(ye.comparator);o=o.insert(s,an.newNoDocument(s,Te.min()));const a=Oe().add(s),l=new hf(Te.min(),new Map,new pt($e),o,a);await g4(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),Ey(r)}else await xg(r.localStore,e,!1).then(()=>bg(r,e,n)).catch(Qc)}async function H8(t,e){const n=Ie(t),r=e.batch.batchId;try{const i=await r8(n.localStore,e);v4(n,r,null),y4(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eu(n,i)}catch(i){await Qc(i)}}async function q8(t,e,n){const r=Ie(t);try{const i=await function(o,a){const l=Ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(Ge(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);v4(r,e,n),y4(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eu(r,i)}catch(i){await Qc(i)}}function y4(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function v4(t,e,n){const r=Ie(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function bg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||_4(t,r)})}function _4(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(my(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ey(t))}function I2(t,e,n){for(const r of n)r instanceof f4?(t.La.addReference(r.key,e),K8(t,r)):r instanceof p4?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||_4(t,r.key)):Ee()}function K8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ey(t))}function Ey(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(it.fromString(e)),r=t.qa.next();t.Na.set(r,new L8(n)),t.Oa=t.Oa.insert(n,r),i4(t.remoteStore,new Zi(Ur(oy(n.path)),r,"TargetPurposeLimboResolution",ey.oe))}}async function eu(t,e,n){const r=Ie(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=py.Wi(l.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const d=Ie(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>J.forEach(u,p=>J.forEach(p.$i,y=>d.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>J.forEach(p.Ui,y=>d.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Yc(f))throw f;fe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const p=f.targetId;if(!f.fromCache){const y=d.os.get(p),w=y.snapshotVersion,P=y.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(p,P)}}}(r.localStore,s))}async function G8(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await e4(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(Q.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eu(n,r.hs)}}function Q8(t,e){const n=Ie(t),r=n.Na.get(e);if(r&&r.va)return Oe().add(r.key);{let i=Oe();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function w4(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=g4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W8.bind(null,e),e.Ca.d_=R8.bind(null,e.eventManager),e.Ca.$a=O8.bind(null,e.eventManager),e}function Y8(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=H8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=q8.bind(null,e),e}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return n8(this.persistence,new e8,e.initialUser,this.serializer)}Ga(e){return new ZO(fy.Zr,this.serializer)}Wa(e){return new c8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class Tg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>k2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=G8.bind(null,this.syncEngine),await C8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P8}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),r=function(s){return new f8(s)}(e.databaseInfo);return function(s,o,a,l){return new g8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new v8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>k2(this.syncEngine,n,0),function(){return w2.D()?new w2:new u8}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,d){const f=new M8(i,s,o,a,l,u);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ie(i);fe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Jc(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Tg.provider={build:()=>new Tg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=sn.UNAUTHENTICATED,this.clientId=wT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{fe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(fe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dp(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await e4(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function S2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await X8(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>x2(e.remoteStore,i)),t._onlineComponents=e}async function X8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await Dp(t,new ah)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Dp(t,new ah);return t._offlineComponents}async function E4(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await S2(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await S2(t,new Tg))),t._onlineComponents}function J8(t){return E4(t).then(e=>e.syncEngine)}async function b4(t){const e=await E4(t),n=e.eventManager;return n.onListen=V8.bind(null,e.syncEngine),n.onUnlisten=B8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=F8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=z8.bind(null,e.syncEngine),n}function e9(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new x4({next:p=>{d.Za(),o.enqueueAndForget(()=>d4(s,f));const y=p.docs.has(a);!y&&p.fromCache?u.reject(new ue(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?u.reject(new ue(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new h4(oy(a.path),d,{includeMetadataChanges:!0,_a:!0});return u4(s,f)}(await b4(t),t.asyncQueue,e,n,r)),r.promise}function t9(t,e,n={}){const r=new di;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const d=new x4({next:p=>{d.Za(),o.enqueueAndForget(()=>d4(s,f)),p.fromCache&&l.source==="server"?u.reject(new ue(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new h4(a,d,{includeMetadataChanges:!0,_a:!0});return u4(s,f)}(await b4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(t,e,n){if(!n)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n9(t,e,n,r){if(e===!0&&r===!0)throw new ue(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C2(t){if(!ye.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function N2(t){if(ye.isDocumentKey(t))throw new ue(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ue(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gf(t);throw new ue(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function r9(t,e){if(e<=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T4((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new P2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new P2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new w6;switch(r.type){case"firstParty":return new T6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=A2.get(n);r&&(fe("ComponentProvider","Removing Datastore"),A2.delete(n),r.terminate())}(this),Promise.resolve()}}function i9(t,e,n,r={}){var i;const s=(t=Tr(t,yf))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=sn.MOCK_USER;else{a=Wb(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new sn(u)}t._authCredentials=new x6(new _T(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class us extends Ps{constructor(e,n,r){super(e,n,oy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new ye(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function Lt(t,e,...n){if(t=ct(t),k4("collection","path",e),t instanceof yf){const r=it.fromString(e,...n);return N2(r),new us(t,null,r)}{if(!(t instanceof _n||t instanceof us))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return N2(r),new us(t.firestore,null,r)}}function Tt(t,e,...n){if(t=ct(t),arguments.length===1&&(e=wT.newId()),k4("doc","path",e),t instanceof yf){const r=it.fromString(e,...n);return C2(r),new _n(t,null,new ye(r))}{if(!(t instanceof _n||t instanceof us))throw new ue(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(it.fromString(e,...n));return C2(r),new _n(t.firestore,t instanceof us?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n4(this,"async_queue_retry"),this.Vu=()=>{const r=jp();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=jp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=jp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Yc(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=_y.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ee()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Io extends yf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new R2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new R2(e),this._firestoreClient=void 0,await e}}}function s9(t,e){const n=typeof t=="object"?t:K0(),r=typeof t=="string"?t:"(default)",i=of(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Bb("firestore");s&&i9(i,...s)}return i}function by(t){if(t._terminated)throw new ue(Q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||o9(t),t._firestoreClient}function o9(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,d){return new M6(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,T4(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Z8(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(Yt.fromBase64String(e))}catch(n){throw new ue(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Oa(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=/^__.*__$/;class l9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zc(e,this.data,n,this.fieldTransforms)}}class I4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function S4(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class _f{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new _f(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return lh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(S4(this.Cu)&&a9.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class c9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ff(e)}Qu(e,n,r,i=!1){return new _f({Cu:e,methodName:n,qu:r,path:qt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wf(t){const e=t._freezeSettings(),n=ff(t._databaseId);return new c9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function A4(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Ay("Data must be an object, but it was:",o,r);const a=N4(r,o);let l,u;if(s.merge)l=new Un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=kg(e,f,n);if(!o.contains(p))throw new ue(Q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);R4(d,p)||d.push(p)}l=new Un(d),u=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=o.fieldTransforms;return new l9(new Cn(a),l,u)}class xf extends tu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}function C4(t,e,n){return new _f({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Iy extends tu{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=C4(this,e,!0),r=this.Ku.map(s=>So(s,n)),i=new Ca(r);return new BT(e.path,i)}isEqual(e){return e instanceof Iy&&Ta(this.Ku,e.Ku)}}class Sy extends tu{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=C4(this,e,!0),r=this.Ku.map(s=>So(s,n)),i=new Na(r);return new BT(e.path,i)}isEqual(e){return e instanceof Sy&&Ta(this.Ku,e.Ku)}}function u9(t,e,n,r){const i=t.Qu(1,e,n);Ay("Data must be an object, but it was:",i,r);const s=[],o=Cn.empty();To(r,(l,u)=>{const d=Cy(e,l,n);u=ct(u);const f=i.Nu(d);if(u instanceof xf)s.push(d);else{const p=So(u,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new Un(s);return new I4(o,a,i.fieldTransforms)}function d9(t,e,n,r,i,s){const o=t.Qu(1,e,n),a=[kg(e,r,n)],l=[i];if(s.length%2!=0)throw new ue(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(kg(e,s[p])),l.push(s[p+1]);const u=[],d=Cn.empty();for(let p=a.length-1;p>=0;--p)if(!R4(u,a[p])){const y=a[p];let w=l[p];w=ct(w);const P=o.Nu(y);if(w instanceof xf)u.push(y);else{const C=So(w,P);C!=null&&(u.push(y),d.set(y,C))}}const f=new Un(u);return new I4(d,f,o.fieldTransforms)}function h9(t,e,n,r=!1){return So(n,t.Qu(r?4:3,e))}function So(t,e){if(P4(t=ct(t)))return Ay("Unsupported field value:",e,t),N4(t,e);if(t instanceof tu)return function(r,i){if(!S4(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=So(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Pt.fromDate(r);return{timestampValue:sh(i.serializer,s)}}if(r instanceof Pt){const s=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,s)}}if(r instanceof Ty)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:KT(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:dy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ky)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return ay(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${gf(r)}`)}(t,e)}function N4(t,e){const n={};return xT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):To(t,(r,i)=>{const s=So(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function P4(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pt||t instanceof Ty||t instanceof Oa||t instanceof _n||t instanceof tu||t instanceof ky)}function Ay(t,e,n){if(!P4(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=gf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function kg(t,e,n){if((e=ct(e))instanceof vf)return e._internalPath;if(typeof e=="string")return Cy(t,e);throw lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const f9=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(f9)>=0)throw lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vf(...e.split("."))._internalPath}catch{throw lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ue(Q.INVALID_ARGUMENT,a+t+l)}function R4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new p9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ef("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class p9 extends O4{data(){return super.data()}}function Ef(t,e){return typeof e=="string"?Cy(t,e):e instanceof vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ue(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ny{}class Py extends Ny{}function yn(t,e,...n){let r=[];e instanceof Ny&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ry).length,a=s.filter(l=>l instanceof bf).length;if(o>1||o>0&&a>0)throw new ue(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class bf extends Py{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new bf(e,n,r)}_apply(e){const n=this._parse(e);return D4(e._query,n),new Ps(e.firestore,e.converter,gg(e._query,n))}_parse(e){const n=wf(e.firestore);return function(s,o,a,l,u,d,f){let p;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){j2(f,d);const y=[];for(const w of f)y.push(O2(l,s,w));p={arrayValue:{values:y}}}else p=O2(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||j2(f,d),p=h9(a,o,f,d==="in"||d==="not-in");return Nt.create(u,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function qe(t,e,n){const r=e,i=Ef("where",t);return bf._create(i,r,n)}class Ry extends Ny{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ry(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:br.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)D4(o,l),o=gg(o,l)}(e._query,n),new Ps(e.firestore,e.converter,gg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Oy extends Py{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Oy(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ue(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bc(s,o)}(e._query,this._field,this._direction);return new Ps(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Wa(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function j4(t,e="asc"){const n=e,r=Ef("orderBy",t);return Oy._create(r,n)}class jy extends Py{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jy(e,n,r)}_apply(e){return new Ps(e.firestore,e.converter,nh(e._query,this._limit,this._limitType))}}function Dy(t){return r9("limit",t),jy._create("limit",t,"F")}function O2(t,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ue(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&n.indexOf("/")!==-1)throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ye.isDocumentKey(r))throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t2(t,new ye(r))}if(n instanceof _n)return t2(t,n._key);throw new ue(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gf(n)}.`)}function j2(t,e){if(!Array.isArray(t)||t.length===0)throw new ue(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function D4(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class g9{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(po(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return To(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Et(o.doubleValue));return new ky(s)}convertGeoPoint(e){return new Ty(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ny(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wc(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ge(JT(r));const i=new xc(r.get(1),r.get(3)),s=new ye(r.popFirst(5));return i.isEqual(n)||wi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M4 extends O4{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ef("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fd extends M4{data(e={}){return super.data(e)}}class y9{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Al(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fd(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new fd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Al(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:v9(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){t=Tr(t,_n);const e=Tr(t.firestore,Io);return e9(by(e),t._key).then(n=>_9(e,t,n))}class V4 extends g9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function lr(t){t=Tr(t,Ps);const e=Tr(t.firestore,Io),n=by(e),r=new V4(e);return m9(t._query),t9(n,t._query).then(i=>new y9(e,r,t,i))}function ca(t,e,n){t=Tr(t,_n);const r=Tr(t.firestore,Io),i=L4(t.converter,e);return Tf(r,[A4(wf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ir.none())])}function D2(t,e,n,...r){t=Tr(t,_n);const i=Tr(t.firestore,Io),s=wf(i);let o;return o=typeof(e=ct(e))=="string"||e instanceof vf?d9(s,"updateDoc",t._key,e,n,r):u9(s,"updateDoc",t._key,e),Tf(i,[o.toMutation(t._key,ir.exists(!0))])}function ch(t){return Tf(Tr(t.firestore,Io),[new ly(t._key,ir.none())])}function Ig(t,e){const n=Tr(t.firestore,Io),r=Tt(t),i=L4(t.converter,e);return Tf(n,[A4(wf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ir.exists(!1))]).then(()=>r)}function Tf(t,e){return function(r,i){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>$8(await J8(r),i,s)),s.promise}(by(t),e)}function _9(t,e,n){const r=n.docs.get(e._key),i=new V4(t);return new M4(t,i,e._key,r,new Al(n.hasPendingWrites,n.fromCache),e.converter)}function w9(...t){return new Iy("arrayUnion",t)}function x9(...t){return new Sy("arrayRemove",t)}(function(e,n=!0){(function(i){$a=i})(bo),uo(new ys("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Io(new E6(r.getProvider("auth-internal")),new I6(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xc(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fr(Y_,"4.7.3",e),Fr(Y_,"4.7.3","esm2017")})();function Ly(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function F4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const E9=F4,U4=new Kc("auth","Firebase",F4());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new H0("@firebase/auth");function b9(t,...e){uh.logLevel<=De.WARN&&uh.warn(`Auth (${bo}): ${t}`,...e)}function pd(t,...e){uh.logLevel<=De.ERROR&&uh.error(`Auth (${bo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw Vy(t,...e)}function wr(t,...e){return Vy(t,...e)}function My(t,e,n){const r=Object.assign(Object.assign({},E9()),{[e]:n});return new Kc("auth","Firebase",r).create(e,{appName:t.name})}function hi(t){return My(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function T9(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ar(t,"argument-error"),My(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return U4.create(t,...e)}function _e(t,e,...n){if(!t)throw Vy(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pd(e),new Error(e)}function Ei(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function k9(){return L2()==="http:"||L2()==="https:"}function L2(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(k9()||VP()||"connection"in navigator)?navigator.onLine:!0}function S9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=DP()||FP()}get(){return I9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t,e){Ei(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new nu(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qr(t,e,n,r,i={}){return z4(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Gc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return MP()||(u.referrerPolicy="no-referrer"),B4.fetch()($4(t,t.config.apiHost,n,a),u)})}async function z4(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},A9),e);try{const i=new P9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ku(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ku(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ku(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw My(t,d,u);ar(t,d)}}catch(i){if(i instanceof Gr)throw i;ar(t,"network-request-failed",{message:String(i)})}}async function ru(t,e,n,r,i={}){const s=await Qr(t,e,n,r,i);return"mfaPendingCredential"in s&&ar(t,"multi-factor-auth-required",{_serverResponse:s}),s}function $4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Fy(t.config,i):`${t.config.apiScheme}://${i}`}function N9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class P9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(wr(this.auth,"network-request-failed")),C9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wr(t,e,r);return i.customData._tokenResponse=n,i}function M2(t){return t!==void 0&&t.enterprise!==void 0}class R9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return N9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function O9(t,e){return Qr(t,"GET","/v2/recaptchaConfig",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j9(t,e){return Qr(t,"POST","/v1/accounts:delete",e)}async function W4(t,e){return Qr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function D9(t,e=!1){const n=ct(t),r=await n.getIdToken(e),i=Uy(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Kl(Lp(i.auth_time)),issuedAtTime:Kl(Lp(i.iat)),expirationTime:Kl(Lp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Lp(t){return Number(t)*1e3}function Uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fb(n);return i?JSON.parse(i):(pd("Failed to decode base64 JWT payload"),null)}catch(i){return pd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function V2(t){const e=Uy(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ja(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Gr&&L9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ja(t,W4(n,{idToken:r}));_e(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?H4(s.providerUserInfo):[],a=F9(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ag(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function V9(t){const e=ct(t);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function F9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function H4(t){return t.map(e=>{var{providerId:n}=e,r=Ly(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U9(t,e){const n=await z4(t,{},async()=>{const r=Gc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=$4(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",B4.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B9(t,e){return Qr(t,"POST","/v2/accounts:revokeToken",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=V2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await U9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ua;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(_e(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ua,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ly(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new M9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ag(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await ja(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return D9(this,e)}reload(){return V9(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gr(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await ja(this,j9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,P=(a=n.tenantId)!==null&&a!==void 0?a:void 0,C=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,x=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:k,emailVerified:N,isAnonymous:D,providerData:R,stsTokenManager:S}=n;_e(k&&S,e,"internal-error");const g=ua.fromJSON(this.name,S);_e(typeof k=="string",e,"internal-error"),Di(f,e.name),Di(p,e.name),_e(typeof N=="boolean",e,"internal-error"),_e(typeof D=="boolean",e,"internal-error"),Di(y,e.name),Di(w,e.name),Di(P,e.name),Di(C,e.name),Di(_,e.name),Di(x,e.name);const v=new ai({uid:k,auth:e,email:p,emailVerified:N,displayName:f,isAnonymous:D,photoURL:w,phoneNumber:y,tenantId:P,stsTokenManager:g,createdAt:_,lastLoginAt:x});return R&&Array.isArray(R)&&(v.providerData=R.map(b=>Object.assign({},b))),C&&(v._redirectEventId=C),v}static async _fromIdTokenResponse(e,n,r=!1){const i=new ua;i.updateFromServerResponse(n);const s=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?H4(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new ua;a.updateFromIdToken(r);const l=new ai({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ag(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new Map;function li(t){Ei(t instanceof Function,"Expected a class definition");let e=F2.get(t);return e?(Ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}q4.type="NONE";const U2=q4;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t,e,n){return`firebase:${t}:${e}:${n}`}class da{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=md(this.userKey,i.apiKey,s),this.fullPersistenceKey=md("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new da(li(U2),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||li(U2);const o=md(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){const f=ai._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new da(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new da(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Y4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(K4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(X4(e))return"Blackberry";if(J4(e))return"Webos";if(G4(e))return"Safari";if((e.includes("chrome/")||Q4(e))&&!e.includes("edge/"))return"Chrome";if(Z4(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function K4(t=cn()){return/firefox\//i.test(t)}function G4(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Q4(t=cn()){return/crios\//i.test(t)}function Y4(t=cn()){return/iemobile/i.test(t)}function Z4(t=cn()){return/android/i.test(t)}function X4(t=cn()){return/blackberry/i.test(t)}function J4(t=cn()){return/webos/i.test(t)}function By(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z9(t=cn()){var e;return By(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $9(){return UP()&&document.documentMode===10}function ek(t=cn()){return By(t)||Z4(t)||J4(t)||X4(t)||/windows phone/i.test(t)||Y4(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e=[]){let n;switch(t){case"Browser":n=B2(cn());break;case"Worker":n=`${B2(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H9(t,e={}){return Qr(t,"GET","/v2/passwordPolicy",Si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9=6;class K9{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:q9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new z2(this),this.idTokenSubscription=new z2(this),this.beforeStateQueue=new W9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=U4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await da.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await W4(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=S9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gr(this.app))return Promise.reject(hi(this));const n=e?ct(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gr(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gr(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H9(this),n=new K9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await da.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&b9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Rs(t){return ct(t)}class z2{constructor(e){this.auth=e,this.observer=null,this.addObserver=GP(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q9(t){kf=t}function nk(t){return kf.loadJS(t)}function Y9(){return kf.recaptchaEnterpriseScript}function Z9(){return kf.gapiScript}function X9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const J9="recaptcha-enterprise",ej="NO_RECAPTCHA";class tj{constructor(e){this.type=J9,this.auth=Rs(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{O9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new R9(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;M2(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(ej)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&M2(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Y9();l.length!==0&&(l+=a),nk(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function $2(t,e,n,r=!1){const i=new tj(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Cg(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $2(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $2(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t,e){const n=of(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ta(s,e??{}))return i;ar(i,"already-initialized")}return n.initialize({options:e})}function rj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ij(t,e,n){const r=Rs(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rk(e),{host:o,port:a}=sj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),oj()}function rk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sj(t){const e=rk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:W2(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:W2(o)}}}function W2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function aj(t,e){return Qr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))}async function cj(t,e){return Qr(t,"POST","/v1/accounts:sendOobCode",Si(t,e))}async function uj(t,e){return cj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}async function hj(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends zy{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,n,"signInWithPassword",lj);case"emailLink":return dj(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cg(e,r,"signUpPassword",aj);case"emailLink":return hj(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj="http://localhost";class go extends zy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new go(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ly(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new go(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ha(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ha(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ha(e,n)}buildRequest(){const e={requestUri:fj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Gc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mj(t){const e=bl(Tl(t)).link,n=e?bl(Tl(e)).deep_link_id:null,r=bl(Tl(t)).deep_link_id;return(r?bl(Tl(r)).link:null)||r||n||e||t}class $y{constructor(e){var n,r,i,s,o,a;const l=bl(Tl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=pj((i=l.mode)!==null&&i!==void 0?i:null);_e(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=mj(e);try{return new $y(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.providerId=Ka.PROVIDER_ID}static credential(e,n){return Tc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$y.parseLink(n);return _e(r,"argument-error"),Tc._fromEmailAndCode(e,r.code,r.tenantId)}}Ka.PROVIDER_ID="password";Ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends iu{constructor(){super("facebook.com")}static credential(e){return go._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return go._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ri.credential(n,r)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends iu{constructor(){super("github.com")}static credential(e){return go._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends iu{constructor(){super("twitter.com")}static credential(e,n){return go._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(t,e){return ru(t,"POST","/v1/accounts:signUp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ai._fromIdTokenResponse(e,r,i),o=H2(r);return new yo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=H2(r);return new yo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function H2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends Gr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hh(e,n,r,i)}}function ik(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(t,s,e,r):s})}async function yj(t,e,n=!1){const r=await ja(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(t,e,n=!1){const{auth:r}=t;if(gr(r.app))return Promise.reject(hi(r));const i="reauthenticate";try{const s=await ja(t,ik(r,i,e,t),n);_e(s.idToken,r,"internal-error");const o=Uy(s.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),yo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(t,e,n=!1){if(gr(t.app))return Promise.reject(hi(t));const r="signIn",i=await ik(t,r,e),s=await yo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function _j(t,e){return sk(Rs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(t){const e=Rs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wj(t,e,n){if(gr(t.app))return Promise.reject(hi(t));const r=Rs(t),o=await Cg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gj).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ok(t),l}),a=await yo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function xj(t,e,n){return gr(t.app)?Promise.reject(hi(t)):_j(ct(t),Ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ok(t),r})}async function Ej(t,e){const n=ct(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:s}=await uj(n.auth,i);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bj(t,e){return Qr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ct(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ja(r,bj(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function kj(t,e,n,r){return ct(t).onIdTokenChanged(e,n,r)}function Ij(t,e,n){return ct(t).beforeAuthStateChanged(e,n)}function Sj(t,e,n,r){return ct(t).onAuthStateChanged(e,n,r)}function Aj(t){return ct(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=1e3,Nj=10;class lk extends ak{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ek(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);$9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Nj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Cj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lk.type="LOCAL";const Pj=lk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck extends ak{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ck.type="SESSION";const uk=ck;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new If(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Rj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}If.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Hy("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function jj(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function Dj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Lj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Mj(){return dk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="firebaseLocalStorageDb",Vj=1,ph="firebaseLocalStorage",fk="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sf(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function Fj(){const t=indexedDB.deleteDatabase(hk);return new su(t).toPromise()}function Ng(){const t=indexedDB.open(hk,Vj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ph,{keyPath:fk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await Fj(),e(await Ng()))})})}async function q2(t,e,n){const r=Sf(t,!0).put({[fk]:e,value:n});return new su(r).toPromise()}async function Uj(t,e){const n=Sf(t,!1).get(e),r=await new su(n).toPromise();return r===void 0?null:r.value}function K2(t,e){const n=Sf(t,!0).delete(e);return new su(n).toPromise()}const Bj=800,zj=3;class pk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ng(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>zj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=If._getInstance(Mj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Dj(),!this.activeServiceWorker)return;this.sender=new Oj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Lj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ng();return await q2(e,fh,"1"),await K2(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>q2(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Uj(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sf(i,!1).getAll();return new su(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pk.type="LOCAL";const $j=pk;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t,e){return e?li(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy extends zy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ha(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ha(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ha(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Wj(t){return sk(t.auth,new qy(t),t.bypassAuthState)}function Hj(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),vj(n,new qy(t),t.bypassAuthState)}async function qj(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),yj(n,new qy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wj;case"linkViaPopup":case"linkViaRedirect":return qj;case"reauthViaPopup":case"reauthViaRedirect":return Hj;default:ar(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=new nu(2e3,1e4);async function Gj(t,e,n){if(gr(t.app))return Promise.reject(wr(t,"operation-not-supported-in-this-environment"));const r=Rs(t);T9(t,e,Wy);const i=mk(r,n);return new Ks(r,"signInViaPopup",e,i).executeNotNull()}class Ks extends gk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=Hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(wr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kj.get())};e()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj="pendingRedirect",gd=new Map;class Yj extends gk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=gd.get(this.auth._key());if(!e){try{const r=await Zj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}gd.set(this.auth._key(),e)}return this.bypassAuthState||gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zj(t,e){const n=eD(e),r=Jj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Xj(t,e){gd.set(t._key(),e)}function Jj(t){return li(t._redirectPersistence)}function eD(t){return md(Qj,t.config.apiKey,t.name)}async function tD(t,e,n=!1){if(gr(t.app))return Promise.reject(hi(t));const r=Rs(t),i=mk(r,e),o=await new Yj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=10*60*1e3;class rD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(wr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nD&&this.cachedEventUids.clear(),this.cachedEventUids.has(G2(e))}saveEventToCache(e){this.cachedEventUids.add(G2(e)),this.lastProcessedEventTime=Date.now()}}function G2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function iD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(t,e={}){return Qr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aD=/^https?/;async function lD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await sD(t);for(const n of e)try{if(cD(n))return}catch{}ar(t,"unauthorized-domain")}function cD(t){const e=Sg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aD.test(n))return!1;if(oD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=new nu(3e4,6e4);function Q2(){const t=zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dD(t){return new Promise((e,n)=>{var r,i,s;function o(){Q2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Q2(),n(wr(t,"network-request-failed"))},timeout:uD.get()})}if(!((i=(r=zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zr().gapi)===null||s===void 0)&&s.load)o();else{const a=X9("iframefcb");return zr()[a]=()=>{gapi.load?o():n(wr(t,"network-request-failed"))},nk(`${Z9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yd=null,e})}let yd=null;function hD(t){return yd=yd||dD(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=new nu(5e3,15e3),pD="__/auth/iframe",mD="emulator/auth/iframe",gD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vD(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fy(e,mD):`https://${t.config.authDomain}/${pD}`,r={apiKey:e.apiKey,appName:t.name,v:bo},i=yD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gc(r).slice(1)}`}async function _D(t){const e=await hD(t),n=zr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:vD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=wr(t,"network-request-failed"),a=zr().setTimeout(()=>{s(o)},fD.get());function l(){zr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xD=500,ED=600,bD="_blank",TD="http://localhost";class Y2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kD(t,e,n,r=xD,i=ED){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wD),{width:r.toString(),height:i.toString(),top:s,left:o}),u=cn().toLowerCase();n&&(a=Q4(u)?bD:n),K4(u)&&(e=e||TD,l.scrollbars="yes");const d=Object.entries(l).reduce((p,[y,w])=>`${p}${y}=${w},`,"");if(z9(u)&&a!=="_self")return ID(e||"",a),new Y2(null);const f=window.open(e||"",a,d);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new Y2(f)}function ID(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD="__/auth/handler",AD="emulator/auth/handler",CD=encodeURIComponent("fac");async function Z2(t,e,n,r,i,s){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(e instanceof Wy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",KP(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))o[d]=f}if(e instanceof iu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${CD}=${encodeURIComponent(l)}`:"";return`${ND(t)}?${Gc(a).slice(1)}${u}`}function ND({config:t}){return t.emulator?Fy(t,AD):`https://${t.authDomain}/${SD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="webStorageSupport";class PD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uk,this._completeRedirectFn=tD,this._overrideRedirectResult=Xj}async _openPopup(e,n,r,i){var s;Ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Z2(e,n,r,Sg(),i);return kD(e,o,Hy())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Z2(e,n,r,Sg(),i);return jj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ei(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _D(e),r=new rD(e);return n.register("authEvent",i=>(_e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mp,{type:Mp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Mp];o!==void 0&&n(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ek()||G4()||By()}}const RD=PD;var X2="@firebase/auth",J2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function DD(t){uo(new ys("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tk(t)},u=new G9(r,i,s,l);return rj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uo(new ys("auth-internal",e=>{const n=Rs(e.getProvider("auth").getImmediate());return(r=>new OD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(X2,J2,jD(t)),Fr(X2,J2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=5*60,MD=$b("authIdTokenMaxAge")||LD;let ew=null;const VD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>MD)return;const i=n==null?void 0:n.token;ew!==i&&(ew=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function FD(t=K0()){const e=of(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nj(t,{popupRedirectResolver:RD,persistence:[$j,Pj,uk]}),r=$b("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=VD(s.toString());Ij(n,o,()=>o(n.currentUser)),kj(n,a=>o(a))}}const i=Ub("auth");return i&&ij(n,`http://${i}`),n}function UD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Q9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=wr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",UD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});DD("Browser");const BD={apiKey:"AIzaSyDeSyRuRKPARoYvyGccWJBMPKixPAgz3TA",authDomain:"kitab-kunj.firebaseapp.com",projectId:"kitab-kunj",storageBucket:"kitab-kunj.appspot.com",messagingSenderId:"269233793162",appId:"1:269233793162:web:471d7122f7826c51762573",measurementId:"G-F0PPP4MMKD"},Ky=Kb(BD),zD=g6(Ky),Me=s9(Ky),Ut=FD(Ky),$D=new ri,vk=W.createContext(void 0),WD=({children:t})=>{const[e,n]=W.useState(null),r=i=>n(i);return h.jsx(vk.Provider,{value:{user:e,updatedUser:r},children:t})},Af=()=>W.useContext(vk),HD=async t=>{try{const e=await wj(Ut,t.email,t.password);if(e.user.uid){await Tj(Ut.currentUser,{displayName:t.name});const n=Lt(Me,"users");delete t.confirmPassword,delete t.password,await ca(Tt(n,e.user.uid),{...t,credit:1e3,createdAt:new Date,updatedAt:new Date,ordered:0,purchased:0,sold:0,rented:0,donated:0,wishlist:[]})}}catch(e){console.log("Sign-up error:",e)}},qD=async(t,e)=>{try{const n=await xj(Ut,t.email,t.password),r=n.user;if(console.log(r),r&&await Ej(r),n.user.uid){const i=await jn(Tt(Lt(Me,"users"),n.user.uid));if(i.exists()){const s=i.data();console.log(s),e(s)}}return r}catch(n){console.log("Sign-in error:",n)}},KD=async t=>{try{await Aj(Ut),t(null)}catch(e){console.error("Logout error:",e)}},GD=()=>{const t=Ut.currentUser,[e,n]=W.useState(!1),[r,i]=W.useState(!1),s=Cs(),{updatedUser:o}=Af(),a=async()=>{try{await KD(o),s("/")}catch(l){console.error(l)}};return h.jsxs(IP,{onClick:()=>n(!1),className:"relative",children:[h.jsxs(Js,{onClick:()=>n(!e),className:"flex items-center gap-4",to:"#",children:[h.jsx("span",{className:"hidden text-right lg:block",children:h.jsx("span",{className:"block text-sm font-medium text-black uppercase",children:t==null?void 0:t.displayName})}),h.jsxs("div",{className:"flex items-center gap-3 justify-center",children:[h.jsx(ke,{icon:mc,size:"lg",className:"text-DarkColor cursor-pointer ml-3"}),h.jsx("svg",{className:"hidden fill-current sm:block",width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{transform:e?"rotate(180deg)":"rotate(0deg)"},transition:{duration:.3},children:h.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.410765 0.910734C0.736202 0.585297 1.26384 0.585297 1.58928 0.910734L6.00002 5.32148L10.4108 0.910734C10.7362 0.585297 11.2638 0.585297 11.5893 0.910734C11.9147 1.23617 11.9147 1.76381 11.5893 2.08924L6.58928 7.08924C6.26384 7.41468 5.7362 7.41468 5.41077 7.08924L0.410765 2.08924C0.0853277 1.76381 0.0853277 1.23617 0.410765 0.910734Z",fill:""})})]})]}),e&&h.jsxs("div",{className:"absolute right-0 mt-4 flex w-64 flex-col rounded-xl border border-stroke bg-white shadow-lg z-10",children:[h.jsxs("ul",{className:"flex flex-col gap-5 border-b border-stroke px-6 py-4",children:[h.jsx("li",{children:h.jsxs(Js,{to:"/profile",className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",onClick:()=>n(!1),children:[h.jsx(ke,{icon:mc,size:"lg"}),"My Profile"]})}),h.jsx("li",{children:h.jsxs(Js,{to:"/myapproved",className:"flex items-center gap-3.5 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",onClick:()=>n(!1),children:[h.jsx(ke,{icon:uN,size:"lg"}),"My Books"]})})]}),h.jsxs("button",{className:"flex items-center gap-3.5 px-6 py-4 text-sm font-medium duration-300 ease-in-out hover:text-primary lg:text-base",onClick:a,children:[h.jsx(ke,{icon:iN,size:"lg"}),"Logout"]})]}),r&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50",children:h.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:h.jsx("p",{className:"text-lg font-medium",children:"You have been logged out successfully."})})})]})},QD=()=>{const t=Ut.currentUser,[e,n]=W.useState(!1),[r,i]=W.useState(!1),[s,o]=W.useState(0);W.useEffect(()=>{const l=()=>{o(window.scrollY),window.scrollY>60?i(!0):i(!1)};return window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)},[]),W.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]);const a=`
    w-full 
    top-0 
    left-0 
    right-0 
    bg-white 
    z-50 
    transition-all 
    duration-300 
    ease-in-out
    ${r?"fixed shadow-md transform-none":"relative shadow-none"}
    ${s>60?"py-2":"py-3"}
  `;return h.jsxs(h.Fragment,{children:[r&&h.jsx("div",{style:{height:"72px"}}),h.jsxs("nav",{className:a,children:[h.jsxs("div",{className:"container mx-auto px-4 flex items-center justify-between h-16",children:[h.jsx("div",{children:h.jsx("img",{src:"/image/logo.png",alt:"KitabKunj",className:"w-28 object-contain transition-all duration-300"})}),h.jsx("div",{className:"hidden md:block",children:h.jsxs("ul",{className:"flex gap-8 lg:gap-12 xl:gap-24 text-lg",children:[h.jsx("li",{className:"cursor-pointer hover:text-primary transition-colors",children:h.jsx(Jn,{to:"/",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"Home"})}),h.jsx("li",{className:"cursor-pointer hover:text-primary transition-colors",children:h.jsx(Jn,{to:"/allbooks",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"All Books"})}),h.jsx("li",{className:"cursor-pointer hover:text-primary transition-colors",children:h.jsx(Jn,{to:"/sellbooks",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"Buy"})}),h.jsx("li",{className:"cursor-pointer hover:text-primary transition-colors",children:h.jsx(Jn,{to:"/rentbook",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"Rent"})}),h.jsx("li",{className:"cursor-pointer hover:text-primary transition-colors",children:"Events"})]})}),h.jsxs("div",{className:"flex items-center gap-4",children:[t!=null&&t.uid?h.jsx(GD,{}):h.jsx(h.Fragment,{children:h.jsx(Jn,{to:"/auth",children:h.jsx(ke,{icon:mc,size:"lg",className:"text-DarkColor cursor-pointer ml-3"})})}),h.jsx("button",{className:"md:hidden z-50",onClick:()=>n(!e),"aria-label":e?"Close menu":"Open menu",children:e?h.jsx(ke,{icon:os,className:"w-6 h-6 transition-all duration-300"}):h.jsx(ke,{icon:sN,className:"w-6 h-6 transition-all duration-300"})})]})]}),h.jsx("div",{className:`fixed inset-0 bg-white z-40 transition-transform duration-300 ease-in-out md:hidden ${e?"translate-x-0":"translate-x-full"}`,children:h.jsx("div",{className:"container mx-auto px-4 pt-24 pb-8 h-full flex flex-col",children:h.jsxs("ul",{className:"flex flex-col gap-8 text-2xl font-medium",children:[h.jsx("li",{className:"transform hover:translate-x-2 transition-transform cursor-pointer hover:text-primary",children:h.jsx(Jn,{to:"/",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"Home"})}),h.jsx("li",{className:"transform hover:translate-x-2 transition-transform cursor-pointer hover:text-primary",children:h.jsx(Jn,{to:"/allbooks",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"All Books"})}),h.jsx("li",{className:"transform hover:translate-x-2 transition-transform cursor-pointer hover:text-primary",children:h.jsx(Jn,{to:"/sellbooks",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"Buy"})}),h.jsx("li",{className:"transform hover:translate-x-2 transition-transform cursor-pointer hover:text-primary",children:h.jsx(Jn,{to:"/rentbook",className:({isActive:l})=>l?"text-primaryColor":"text-defaultColor",children:"Rent"})}),h.jsx("li",{className:"transform hover:translate-x-2 transition-transform cursor-pointer hover:text-primary",children:"Events"})]})})})]})]})};function YD(){return h.jsx("div",{className:"container mx-auto px-4 py-8 sm:py-12 md:py-16 lg:py-20",children:h.jsxs("div",{className:"flex flex-col items-center lg:flex-row lg:justify-between gap-8 lg:gap-12",children:[h.jsxs("div",{className:"text-center lg:text-left max-w-2xl lg:max-w-[670px]",children:[h.jsx("h1",{className:"font-meditative text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl leading-tight",children:"Empower Minds, Ignite Change"}),h.jsx("p",{className:"font-sfpro text-threeColor text-lg sm:text-xl md:text-2xl lg:text-3xl font-bold mt-4 sm:mt-6",children:"Unleashing the Power of Books Through Generosity"})]}),h.jsx("div",{className:"w-full max-w-md lg:max-w-lg xl:max-w-xl",children:h.jsx("img",{src:"/image/heroImg.png",alt:"reading book",className:"w-full h-auto object-contain"})})]})})}function Gl({onClick:t,name:e,style:n}){return h.jsx("button",{onClick:t,className:`px-6 h-10 py-6 max-w-[250px] flex items-center justify-center w-full bg-gradient-to-t from-primaryColor to-secondaryColor rounded-3xl text-white text-xl font-bold shadow-lg transition-transform duration-300 ease-in-out hover:scale-105 ${n}`,children:e})}const mh=t=>t?t.charAt(0).toUpperCase()+t.slice(1):"",ZD=async t=>{const{title:e,author:n,year:r}=t;if(console.log(t),!e&&!n&&!r)return[];const i=Lt(Me,"approvedBooks"),s=[],o=mh(e.trim()),a=mh(n.trim()),l=yn(i,qe("title",">=",o),qe("title","<=",o+""),qe("author",">=",a),qe("author","<=",a+""),qe("publishYear",">=",r),qe("availability","!=","donation"));s.push(lr(l));try{const u=await Promise.all(s),d=[];return u.forEach(f=>{f.forEach(p=>{d.push({id:p.id,...p.data()})})}),d}catch(u){return console.error("Error searching books:",u),[]}},_k=({book:t})=>{const e=Cs(),{id:n,condition:r,title:i,author:s,publishYear:o,images:a,availability:l,sellingPrice:u,originalPrice:d}=t,f=l==="rent"?(d/4).toFixed(2):null,p=(y,w)=>y.length<=w?y:y.slice(0,w)+"...";return h.jsxs("div",{className:"relative group overflow-hidden rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 bg-white cursor-pointer",onClick:()=>e(`/book/${n}`),children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/40 to-transparent z-10"}),h.jsx("img",{src:a[0],alt:i,className:"w-full h-64 object-cover transition-transform duration-300 scale-110"}),h.jsx("div",{className:"absolute top-4 left-4 bg-white py-1 px-3 rounded-full text-xs font-semibold text-gray-700 shadow-md",children:r}),h.jsx("div",{className:`absolute top-4 right-4 p-2 px-3 text-xs font-bold rounded-full shadow-md ${l==="sell"?"bg-blue-500 text-white":"bg-yellow-400 text-gray-800"}`,children:l==="sell"?"BUY":"RENT"}),h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-0 transition-transform duration-300 z-20",children:[h.jsx("h2",{className:"font-bold text-lg text-white mb-1",children:p(i,30)}),h.jsx("p",{className:"text-gray-300 text-sm mb-2",children:s}),h.jsxs("div",{className:"flex justify-between items-center text-white text-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(ke,{icon:Tb,className:"mr-1"}),h.jsx("span",{children:o})]}),l==="sell"?h.jsxs("div",{className:"font-bold",children:["",u]}):h.jsxs("div",{className:"flex items-center",children:[h.jsx(ke,{icon:xb,className:"mr-1"}),h.jsxs("span",{children:["",f,"/week"]})]})]})]})]})};function XD(){const[t,e]=W.useState({title:"",author:"",year:""}),[n,r]=W.useState([]),[i,s]=W.useState(!1),[o,a]=W.useState(!1),[l,u]=W.useState(!1),d=Cs(),f=w=>{const{name:P,value:C}=w.target;e(_=>({..._,[P]:C}))},p=async w=>{if(w.preventDefault(),!(!t.title&&!t.author&&!t.year)){s(!0),a(!0),u(!0);try{const P=await ZD(t);r(P.slice(0,8))}catch(P){console.error("Search error:",P)}finally{s(!1)}}},y=()=>{u(!1),e({title:"",author:"",year:""})};return h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("form",{onSubmit:p,className:"flex flex-col md:flex-row gap-4 m-auto justify-center mt-20 w-full",children:[h.jsx("input",{type:"text",name:"title",value:t.title,onChange:f,placeholder:"What's the title of the book?",className:"border-[1px] px-4 h-10 py-2 text-lg rounded-3xl border-primaryColor w-full md:w-1/3 lg:w-1/4 xl:w-1/5"}),h.jsx("input",{type:"text",name:"author",value:t.author,onChange:f,placeholder:"Who wrote the book?",className:"border-[1px] px-4 h-10 py-2 text-lg rounded-3xl border-primaryColor w-full md:w-1/3 lg:w-1/4 xl:w-1/5"}),h.jsx("input",{type:"number",name:"year",min:"1900",max:new Date().getFullYear(),value:t.year,onChange:f,placeholder:"When was the book published?",className:"border-[1px] px-4 h-10 py-2 text-lg rounded-3xl border-primaryColor w-full md:w-1/3 lg:w-1/4 xl:w-1/5"}),h.jsx(Gl,{name:i?"Searching...":"Search",disabled:i||!t.title&&!t.author&&!t.year})]}),o&&l&&h.jsxs("div",{className:"mt-8 w-full container relative mb-8 bg-red-50 h-auto px-8 py-10 rounded-3xl",children:[h.jsx("button",{onClick:y,className:"absolute top-1 right-8 p-2",children:h.jsx(ke,{icon:os,className:"text-gray-600 text-xl"})}),h.jsx("div",{className:"",children:i?h.jsx("div",{className:"text-center",children:h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primaryColor mx-auto"})}):n.length>0?h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n.map(w=>h.jsx(_k,{book:w},w.id))}):h.jsxs("div",{className:"text-center text-xl text-gray-600",children:[h.jsx("p",{children:"No books found matching your exact criteria. Try adjusting your search terms or using fewer filters."}),h.jsx("button",{onClick:()=>d("/search"),className:"mt-4 text-primaryColor",children:"Go to Deep Search"})]})})]})]})}function JD({name:t="Best Seller",img:e="https://via.placeholder.com/200",onClick:n}){return h.jsx("div",{className:`max-w-[400px] w-full h-[180px] sm:h-[200px] lg:h-[250px] relative overflow-hidden transition-transform 
      transform hover:scale-105 shadow-lg rounded-tl-lg rounded-bl-lg`,style:{backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center"},children:h.jsx("div",{className:`absolute right-0 h-full w-[65%] bg-gradient-to-t from-primaryColor 
        to-secondaryColor opacity-95 flex items-center rounded-tl-[30px]`,children:h.jsxs("div",{className:"text-white font-bold p-3 sm:p-4",children:[h.jsx("div",{className:"text-base sm:text-lg lg:text-xl leading-tight",children:t}),h.jsxs("div",{className:"text-xs mt-1 cursor-pointer",onClick:n,children:["More"," >>>"]})]})})})}function eL(){const t=()=>{console.log("More information clicked!")},e=[{name:"Best Seller",img:"/image/book6.webp",onClick:t},{name:"Top Picks",img:"/image/book5.webp",onClick:t},{name:"Reader Picks",img:"/image/book4.webp",onClick:t},{name:"Trending Books",img:"/image/book3.jpg",onClick:t},{name:"Recent Books",img:"/image/book2.png",onClick:t},{name:"Books for Rent",img:"/image/book1.jpg",onClick:t}];return h.jsx("div",{className:"container mx-auto max-w-[1500px] mt-14 p-4",children:h.jsx("div",{className:"grid grid-cols-2 sm:md:lg:grid-cols-3 xl:grid-cols-6 gap-6",children:e.map((n,r)=>h.jsx(JD,{name:n.name,img:n.img,onClick:n.onClick},r))})})}const ds=({fullName:t="Featured Books",bgName:e="FEATURED"})=>h.jsxs("div",{className:"relative flex items-center justify-center min-h-[100px] sm:min-h-[120px] md:min-h-[140px] lg:min-h-[160px] mt-6 sm:mt-8 md:mt-10 overflow-hidden",children:[h.jsx("div",{className:"absolute max-w-full text-4xl sm:text-6xl md:text-8xl lg:text-[11rem] text-gray-300 opacity-40 font-suntage font-bold uppercase tracking-wider whitespace-nowrap",children:e}),h.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-bold relative z-10 text-center font-sfpro uppercase px-4",children:t})]}),Cf=({id:t=69,img:e="/api/placeholder/200/200",name:n="University Physics and its Applications in Modern Technology",author:r="Rohit Raj",publishYear:i="2015",sellingPrice:s=120,condition:o="like new",availability:a,perWeekPrice:l,showAva:u=!0})=>{const d=Cs();return h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:gap-6 p-4 sm:p-5 w-full bg-white rounded-xl shadow-none hover:shadow-md transition-shadow duration-300",children:[h.jsxs("div",{className:"relative w-full sm:w-48 h-48 sm:h-64 flex-shrink-0",children:[h.jsx("img",{src:e,alt:n,loading:"lazy",className:"w-full h-full object-cover rounded-lg"}),u&&h.jsx("div",{className:"absolute top-0 right-0 py-1.5 px-2 text-sm text-white font-bold rounded-bl-xl opacity-90 bg-gradient-to-r from-primaryColor to-secondaryColor uppercase",children:a})]}),h.jsxs("div",{className:"flex flex-col justify-between flex-grow",children:[h.jsxs("div",{children:[h.jsx("span",{className:"inline-block uppercase text-sm font-bold text-green-500 mb-1",children:o}),h.jsx("div",{className:"text-xl sm:text-2xl font-bold text-gray-800 leading-tight",children:h.jsx("div",{className:"overflow-hidden overflow-ellipsis line-clamp-2",children:n})}),h.jsx("p",{className:"text-gray-600 text-sm mt-1",children:r}),h.jsx("p",{className:"text-gray-600 text-sm mt-1",children:i})]}),h.jsxs("div",{className:"flex flex-col mt-4",children:[h.jsx("div",{className:"font-semibold text-primary text-slate-700 text-xl mb-2 ml-2",children:a!=="donation"?a==="rent"?h.jsxs(h.Fragment,{children:[" ",Number(l).toFixed(2)," / week"]}):h.jsxs(h.Fragment,{children:[" ",Number(s).toFixed(2)]}):h.jsx(h.Fragment,{children:" 0.00"})}),h.jsx(Gl,{name:a!=="donation"?"Buy Now":"View Book",style:"max-w-[165px]",onClick:()=>d(`/book/${t}`)})]})]})]})},tL=()=>{const t=Ut.currentUser;W.useEffect(()=>{r()},[]);const[e,n]=W.useState([]),r=async()=>{try{const i=Lt(Me,"approvedBooks"),s=yn(i,qe("availability","==","sell"),qe("sellerId","!=",(t==null?void 0:t.uid)||""),Dy(9)),a=(await lr(s)).docs.map(l=>({id:l.id,...l.data()}));return n(a),console.log("Latest Books:",a),a}catch(i){console.error("Error fetching latest books:",i)}};return h.jsx("div",{className:"container mx-auto px-4 mt-14",children:h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0&&e.map(i=>h.jsx(Cf,{id:i.id,img:i.images[0],name:i.title,author:i.author,publishYear:i.publishYear,perWeekPrice:i.perWeekPrice,condition:i.condition,sellingPrice:i.sellingPrice,showAva:!1},i.id))})})},nL=({id:t,img:e="https://via.placeholder.com/200",title:n="Sample Title",author:r="Sample Author",availability:i="sell"})=>{const s=Cs();return h.jsxs("div",{className:"max-w-[200px] w-full group transition-transform transform hover:scale-105 cursor-pointer",onClick:()=>s(`/book/${t}`),children:[h.jsxs("div",{className:"relative",children:[h.jsx("img",{src:e,alt:n,loading:"lazy",className:"object-cover rounded-lg h-52 w-full shadow-[8px_10px_8px_rgba(0,0,0,0.15)]"}),h.jsx("div",{className:"absolute bottom-0 right-0 p-2 px-3 text-sm text-white font-bold rounded-tl-xl opacity-90 bg-gradient-to-r from-primaryColor to-secondaryColor uppercase",children:i})]}),h.jsxs("div",{className:"flex flex-col mt-3",children:[h.jsx("strong",{className:"text-lg font-semibold text-gray-800 overflow-hidden text-ellipsis whitespace-nowrap",children:n}),h.jsx("span",{className:"text-sm text-gray-600",children:r})]})]})},rL=()=>{Ut.currentUser,W.useEffect(()=>{n()},[]);const[t,e]=W.useState([]),n=async()=>{try{const r=Lt(Me,"approvedBooks"),i=yn(r,qe("availability","!=","donation"),j4("postedAt","desc"),Dy(6)),o=(await lr(i)).docs.map(a=>({id:a.id,...a.data()}));e(o),console.log("Latest Books:",o)}catch(r){console.error("Error fetching latest books:",r)}};return h.jsx("div",{className:"m-auto max-w-[1500px] mt-14 p-4",children:h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6",children:t.length>0&&t.map((r,i)=>h.jsx(nL,{id:r.id,img:r.images[0],title:r.title,author:r.author,availability:r.availability},i))})})},iL=async()=>{try{const t=Lt(Me,"approvedBooks"),e=yn(t,qe("availability","==","donation"),j4("postedAt","desc"),Dy(10)),n=await lr(e);if(n.empty)return[];const r=[],i=new Set;for(const s of n.docs){const o=s.data();if(!i.has(o.sellerId)){i.add(o.sellerId);const a=Tt(Me,"users",o.sellerId),l=await jn(a);if(l.exists()){const u=l.data();r.push({book:{id:Tt.id,...o},seller:u})}if(r.length===3)break}}return r}catch(t){return console.error("Error fetching latest donated books:",t),[]}},sL=({book:t,seller:e})=>h.jsxs("div",{className:"bg-white rounded-xl shadow-lg flex max-w-md w-full max-h-52 mx-auto",children:[h.jsx("div",{className:"w-1/2 bg-blue-100 rounded-l-xl flex items-center justify-center",children:e.image?h.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover rounded-l-xl"}):h.jsx("div",{className:"w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center",children:h.jsx(ke,{icon:mc,className:"text-blue-500 text-4xl"})})}),h.jsxs("div",{className:"w-1/2 p-6 flex flex-col justify-center",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),h.jsxs("p",{className:"text-gray-600",children:["Total Contribution: ",e.donated]}),h.jsxs("p",{className:"text-sm text-gray-500 mt-2 line-clamp-2 font-semibold",children:["Recent: ",t.title]})]})]});function oL(){const[t,e]=W.useState([]);return W.useEffect(()=>{(async()=>{const r=await iL();e(r)})()},[]),h.jsx("div",{className:"mt-10 container mx-auto mb-16",children:t.length>0?h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8",children:t.map((n,r)=>h.jsx(sL,{book:n.book,seller:n.seller},r))}):h.jsx("p",{className:"text-center mt-4",children:"No recent donations found."})})}function aL(){return h.jsxs(h.Fragment,{children:[h.jsx(YD,{}),h.jsx(XD,{}),h.jsx(eL,{}),h.jsx(ds,{fullName:"Featured Books",bgName:"FEATURED"}),h.jsx(tL,{}),h.jsx(ds,{fullName:"New Arrival",bgName:"New Arrival"}),h.jsx(rL,{}),h.jsx(ds,{fullName:"Recent Donors",bgName:"Donors"}),h.jsx(oL,{})]})}const lL=()=>{const t=Ut.currentUser,[e,n]=W.useState(!1),[r,i]=W.useState({name:t.displayName,phone:"123-456-7890",image:"https://via.placeholder.com/150"}),s=()=>{n(!0)},o=()=>{n(!1)},a=f=>{const{name:p,value:y}=f.target;i(w=>({...w,[p]:y}))},l=f=>{if(f.target.files&&f.target.files[0]){const p=f.target.files[0],y=URL.createObjectURL(p);i(w=>({...w,image:y}))}},u=()=>{o()},d=Cs();return h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"m-auto flex flex-col items-center gap-4 relative mt-10 px-4 ",children:[h.jsx("img",{src:(t==null?void 0:t.photoURL)||r.image,alt:"profile",className:"w-32 h-32 sm:w-48 sm:h-48 md:w-60 md:h-60 rounded-full object-cover"}),h.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[h.jsx("h1",{className:"text-3xl sm:text-4xl font-bold font-sfpro text-center",children:r.name}),h.jsxs("div",{className:"flex items-center gap-5",children:[h.jsx(Gl,{name:"Edit Profile",style:"max-w-[180px]",onClick:s}),h.jsx("div",{className:"w-[190px] sm:absolute sm:top-4 sm:right-20 sm:w-auto",children:h.jsx(Gl,{name:"Add Book +",style:"max-w-[180px]",onClick:()=>d("/addbook")})})]})]})]}),e&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50",children:h.jsxs("div",{className:"bg-white p-8 rounded-lg max-w-lg w-full shadow-lg mx-6",children:[h.jsx("h2",{className:"text-3xl font-semibold mb-6 text-gray-900",children:"Edit Profile"}),h.jsxs("div",{className:"flex flex-col gap-6",children:[h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-lg font-medium",children:"Name"}),h.jsx("input",{type:"text",name:"name",value:r.name,onChange:a,className:"mt-2 block w-full border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-lg font-medium",children:"Phone Number"}),h.jsx("input",{type:"text",name:"phone",value:r.phone,onChange:a,className:"mt-2 block w-full border border-gray-300 rounded-lg px-4 py-2 text-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),h.jsxs("label",{className:"block",children:[h.jsx("span",{className:"text-lg font-medium",children:"Profile Image"}),h.jsx("input",{type:"file",accept:"image/*",onChange:l,className:"mt-2 block w-full border border-gray-300 rounded-lg px-4 py-2 text-lg"})]}),h.jsxs("div",{className:"flex justify-end gap-4 mt-8",children:[h.jsx("button",{onClick:o,className:"text-lg bg-gray-500 text-white px-6 py-3 rounded-lg hover:bg-gray-600 transition duration-150",children:"Cancel"}),h.jsx(Gl,{name:"Save",style:"max-w-[150px]",onClick:u})]})]})]})})]})},cL=()=>{const[t,e]=W.useState("bought"),{user:n}=Af(),r=[{name:"Bought",value:"bought",count:(n==null?void 0:n.purchased)||0},{name:"Sold",value:"sold",count:(n==null?void 0:n.sold)||0},{name:"Rented",value:"rented",count:(n==null?void 0:n.rented)||0},{name:"Donated",value:"donated",count:(n==null?void 0:n.donated)||0}],i=()=>{switch(t){case"bought":return h.jsx("div",{children:"Your bought books will be listed here."});case"sold":return h.jsx("div",{children:"Your sold books will be listed here."});case"rented":return h.jsx("div",{children:"Your rented books will be listed here."});case"donated":return h.jsx("div",{children:"Your donated books will be listed here."});default:return null}};return h.jsxs("div",{className:"m-auto max-w-[1500px] mt-14",children:[h.jsx("ul",{className:"flex m-auto max-w-[1300px] justify-between items-center gap-20",children:r.map(s=>h.jsxs("li",{className:`flex flex-col justify-between items-center border-b-[6px] pb-3 ${t===s.value?"border-b-primaryColor":"border-b-gray-200"} rounded-t-lg w-1/4 cursor-pointer`,onClick:()=>e(s.value),children:[h.jsx("span",{className:"font-inter font-bold text-xl",children:s.name}),h.jsx("span",{children:s.count})]},s.value))}),h.jsx("div",{className:"mt-5",children:i()})]})},uL=()=>h.jsxs(h.Fragment,{children:[h.jsx(lL,{}),h.jsx(cL,{})]});var ou=t=>t.type==="checkbox",Xo=t=>t instanceof Date,gn=t=>t==null;const wk=t=>typeof t=="object";var Rt=t=>!gn(t)&&!Array.isArray(t)&&wk(t)&&!Xo(t),dL=t=>Rt(t)&&t.target?ou(t.target)?t.target.checked:t.target.value:t,hL=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,fL=(t,e)=>t.has(hL(e)),pL=t=>{const e=t.constructor&&t.constructor.prototype;return Rt(e)&&e.hasOwnProperty("isPrototypeOf")},Gy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Gy&&(t instanceof Blob||t instanceof FileList))&&(n||Rt(t)))if(e=n?[]:{},!n&&!pL(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Xn(t[r]));else return t;return e}var Nf=t=>Array.isArray(t)?t.filter(Boolean):[],xt=t=>t===void 0,de=(t,e,n)=>{if(!e||!Rt(t))return n;const r=Nf(e.split(/[,[\].]+?/)).reduce((i,s)=>gn(i)?i:i[s],t);return xt(r)||r===t?xt(t[e])?n:t[e]:r},Cr=t=>typeof t=="boolean",Qy=t=>/^\w*$/.test(t),xk=t=>Nf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Qe=(t,e,n)=>{let r=-1;const i=Qy(e)?[e]:xk(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Rt(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;t[a]=l,t=t[a]}return t};const tw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},mr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Je.createContext(null);var mL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==mr.all&&(e._proxyFormState[o]=!r||mr.all),t[o]}});return i},In=t=>Rt(t)&&!Object.keys(t).length,gL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return In(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===mr.all)},vd=t=>Array.isArray(t)?t:[t];function yL(t){const e=Je.useRef(t);e.current=t,Je.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Lr=t=>typeof t=="string",vL=(t,e,n,r,i)=>Lr(t)?(r&&e.watch.add(t),de(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),de(n,s))):(r&&(e.watchAll=!0),n),Ek=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},nw=t=>({isOnSubmit:!t||t===mr.onSubmit,isOnBlur:t===mr.onBlur,isOnChange:t===mr.onChange,isOnAll:t===mr.all,isOnTouch:t===mr.onTouched}),rw=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ql=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=de(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Ql(a,e))break}else if(Rt(a)&&Ql(a,e))break}}};var _L=(t,e,n)=>{const r=vd(de(t,n));return Qe(r,"root",e[n]),Qe(t,n,r),t},Yy=t=>t.type==="file",ci=t=>typeof t=="function",gh=t=>{if(!Gy)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_d=t=>Lr(t),Zy=t=>t.type==="radio",yh=t=>t instanceof RegExp;const iw={value:!1,isValid:!1},sw={value:!0,isValid:!0};var bk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!xt(t[0].attributes.value)?xt(t[0].value)||t[0].value===""?sw:{value:t[0].value,isValid:!0}:sw:iw}return iw};const ow={isValid:!1,value:null};var Tk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,ow):ow;function aw(t,e,n="validate"){if(_d(t)||Array.isArray(t)&&t.every(_d)||Cr(t)&&!t)return{type:n,message:_d(t)?t:"",ref:e}}var Oo=t=>Rt(t)&&!yh(t)?t:{value:t,message:""},lw=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:d,max:f,pattern:p,validate:y,name:w,valueAsNumber:P,mount:C,disabled:_}=t._f,x=de(e,w);if(!C||_)return{};const k=o?o[0]:s,N=I=>{r&&k.reportValidity&&(k.setCustomValidity(Cr(I)?"":I||""),k.reportValidity())},D={},R=Zy(s),S=ou(s),g=R||S,v=(P||Yy(s))&&xt(s.value)&&xt(x)||gh(s)&&s.value===""||x===""||Array.isArray(x)&&!x.length,b=Ek.bind(null,w,n,D),A=(I,T,M,U=Xr.maxLength,L=Xr.minLength)=>{const j=I?T:M;D[w]={type:I?U:L,message:j,ref:s,...b(I?U:L,j)}};if(i?!Array.isArray(x)||!x.length:a&&(!g&&(v||gn(x))||Cr(x)&&!x||S&&!bk(o).isValid||R&&!Tk(o).isValid)){const{value:I,message:T}=_d(a)?{value:!!a,message:a}:Oo(a);if(I&&(D[w]={type:Xr.required,message:T,ref:k,...b(Xr.required,T)},!n))return N(T),D}if(!v&&(!gn(d)||!gn(f))){let I,T;const M=Oo(f),U=Oo(d);if(!gn(x)&&!isNaN(x)){const L=s.valueAsNumber||x&&+x;gn(M.value)||(I=L>M.value),gn(U.value)||(T=L<U.value)}else{const L=s.valueAsDate||new Date(x),j=H=>new Date(new Date().toDateString()+" "+H),B=s.type=="time",F=s.type=="week";Lr(M.value)&&x&&(I=B?j(x)>j(M.value):F?x>M.value:L>new Date(M.value)),Lr(U.value)&&x&&(T=B?j(x)<j(U.value):F?x<U.value:L<new Date(U.value))}if((I||T)&&(A(!!I,M.message,U.message,Xr.max,Xr.min),!n))return N(D[w].message),D}if((l||u)&&!v&&(Lr(x)||i&&Array.isArray(x))){const I=Oo(l),T=Oo(u),M=!gn(I.value)&&x.length>+I.value,U=!gn(T.value)&&x.length<+T.value;if((M||U)&&(A(M,I.message,T.message),!n))return N(D[w].message),D}if(p&&!v&&Lr(x)){const{value:I,message:T}=Oo(p);if(yh(I)&&!x.match(I)&&(D[w]={type:Xr.pattern,message:T,ref:s,...b(Xr.pattern,T)},!n))return N(T),D}if(y){if(ci(y)){const I=await y(x,e),T=aw(I,k);if(T&&(D[w]={...T,...b(Xr.validate,T.message)},!n))return N(T.message),D}else if(Rt(y)){let I={};for(const T in y){if(!In(I)&&!n)break;const M=aw(await y[T](x,e),k,T);M&&(I={...M,...b(T,M.message)},N(M.message),n&&(D[w]=I))}if(!In(I)&&(D[w]={ref:k,...I},!n))return D}}return N(!0),D};function wL(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=xt(t)?r++:t[e[r++]];return t}function xL(t){for(const e in t)if(t.hasOwnProperty(e)&&!xt(t[e]))return!1;return!0}function Ot(t,e){const n=Array.isArray(e)?e:Qy(e)?[e]:xk(e),r=n.length===1?t:wL(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Rt(r)&&In(r)||Array.isArray(r)&&xL(r))&&Ot(t,n.slice(0,-1)),t}var Vp=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},vh=t=>gn(t)||!wk(t);function Wi(t,e){if(vh(t)||vh(e))return t===e;if(Xo(t)&&Xo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Xo(s)&&Xo(o)||Rt(s)&&Rt(o)||Array.isArray(s)&&Array.isArray(o)?!Wi(s,o):s!==o)return!1}}return!0}var kk=t=>t.type==="select-multiple",EL=t=>Zy(t)||ou(t),Fp=t=>gh(t)&&t.isConnected,Ik=t=>{for(const e in t)if(ci(t[e]))return!0;return!1};function _h(t,e={}){const n=Array.isArray(t);if(Rt(t)||n)for(const r in t)Array.isArray(t[r])||Rt(t[r])&&!Ik(t[r])?(e[r]=Array.isArray(t[r])?[]:{},_h(t[r],e[r])):gn(t[r])||(e[r]=!0);return e}function Sk(t,e,n){const r=Array.isArray(t);if(Rt(t)||r)for(const i in t)Array.isArray(t[i])||Rt(t[i])&&!Ik(t[i])?xt(e)||vh(n[i])?n[i]=Array.isArray(t[i])?_h(t[i],[]):{..._h(t[i])}:Sk(t[i],gn(e)?{}:e[i],n[i]):n[i]=!Wi(t[i],e[i]);return n}var Gu=(t,e)=>Sk(t,e,_h(e)),Ak=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>xt(t)?t:e?t===""?NaN:t&&+t:n&&Lr(t)?new Date(t):r?r(t):t;function Up(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return Yy(e)?e.files:Zy(e)?Tk(t.refs).value:kk(e)?[...e.selectedOptions].map(({value:n})=>n):ou(e)?bk(t.refs).value:Ak(xt(e.value)?t.ref.value:e.value,t)}var bL=(t,e,n,r)=>{const i={};for(const s of t){const o=de(e,s);o&&Qe(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},gl=t=>xt(t)?t:yh(t)?t.source:Rt(t)?yh(t.value)?t.value.source:t.value:t;const cw="AsyncFunction";var TL=t=>(!t||!t.validate)&&!!(ci(t.validate)&&t.validate.constructor.name===cw||Rt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===cw)),kL=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function uw(t,e,n){const r=de(t,n);if(r||Qy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=de(e,s),a=de(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var IL=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,SL=(t,e)=>!Nf(de(t,e)).length&&Ot(t,e);const AL={mode:mr.onSubmit,reValidateMode:mr.onChange,shouldFocusError:!0};function CL(t={}){let e={...AL,...t},n={submitCount:0,isDirty:!1,isLoading:ci(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Rt(e.defaultValues)||Rt(e.values)?Xn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Xn(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Vp(),array:Vp(),state:Vp()},p=nw(e.mode),y=nw(e.reValidateMode),w=e.criteriaMode===mr.all,P=V=>z=>{clearTimeout(u),u=setTimeout(V,z)},C=async V=>{if(d.isValid||V){const z=e.resolver?In((await g()).errors):await b(r,!0);z!==n.isValid&&f.state.next({isValid:z})}},_=(V,z)=>{(d.isValidating||d.validatingFields)&&((V||Array.from(a.mount)).forEach(q=>{q&&(z?Qe(n.validatingFields,q,z):Ot(n.validatingFields,q))}),f.state.next({validatingFields:n.validatingFields,isValidating:!In(n.validatingFields)}))},x=(V,z=[],q,ee,te=!0,Z=!0)=>{if(ee&&q){if(o.action=!0,Z&&Array.isArray(de(r,V))){const se=q(de(r,V),ee.argA,ee.argB);te&&Qe(r,V,se)}if(Z&&Array.isArray(de(n.errors,V))){const se=q(de(n.errors,V),ee.argA,ee.argB);te&&Qe(n.errors,V,se),SL(n.errors,V)}if(d.touchedFields&&Z&&Array.isArray(de(n.touchedFields,V))){const se=q(de(n.touchedFields,V),ee.argA,ee.argB);te&&Qe(n.touchedFields,V,se)}d.dirtyFields&&(n.dirtyFields=Gu(i,s)),f.state.next({name:V,isDirty:I(V,z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Qe(s,V,z)},k=(V,z)=>{Qe(n.errors,V,z),f.state.next({errors:n.errors})},N=V=>{n.errors=V,f.state.next({errors:n.errors,isValid:!1})},D=(V,z,q,ee)=>{const te=de(r,V);if(te){const Z=de(s,V,xt(q)?de(i,V):q);xt(Z)||ee&&ee.defaultChecked||z?Qe(s,V,z?Z:Up(te._f)):U(V,Z),o.mount&&C()}},R=(V,z,q,ee,te)=>{let Z=!1,se=!1;const xe={name:V},be=!!(de(r,V)&&de(r,V)._f&&de(r,V)._f.disabled);if(!q||ee){d.isDirty&&(se=n.isDirty,n.isDirty=xe.isDirty=I(),Z=se!==xe.isDirty);const Ce=be||Wi(de(i,V),z);se=!!(!be&&de(n.dirtyFields,V)),Ce||be?Ot(n.dirtyFields,V):Qe(n.dirtyFields,V,!0),xe.dirtyFields=n.dirtyFields,Z=Z||d.dirtyFields&&se!==!Ce}if(q){const Ce=de(n.touchedFields,V);Ce||(Qe(n.touchedFields,V,q),xe.touchedFields=n.touchedFields,Z=Z||d.touchedFields&&Ce!==q)}return Z&&te&&f.state.next(xe),Z?xe:{}},S=(V,z,q,ee)=>{const te=de(n.errors,V),Z=d.isValid&&Cr(z)&&n.isValid!==z;if(t.delayError&&q?(l=P(()=>k(V,q)),l(t.delayError)):(clearTimeout(u),l=null,q?Qe(n.errors,V,q):Ot(n.errors,V)),(q?!Wi(te,q):te)||!In(ee)||Z){const se={...ee,...Z&&Cr(z)?{isValid:z}:{},errors:n.errors,name:V};n={...n,...se},f.state.next(se)}},g=async V=>{_(V,!0);const z=await e.resolver(s,e.context,bL(V||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return _(V),z},v=async V=>{const{errors:z}=await g(V);if(V)for(const q of V){const ee=de(z,q);ee?Qe(n.errors,q,ee):Ot(n.errors,q)}else n.errors=z;return z},b=async(V,z,q={valid:!0})=>{for(const ee in V){const te=V[ee];if(te){const{_f:Z,...se}=te;if(Z){const xe=a.array.has(Z.name),be=te._f&&TL(te._f);be&&d.validatingFields&&_([ee],!0);const Ce=await lw(te,s,w,e.shouldUseNativeValidation&&!z,xe);if(be&&d.validatingFields&&_([ee]),Ce[Z.name]&&(q.valid=!1,z))break;!z&&(de(Ce,Z.name)?xe?_L(n.errors,Ce,Z.name):Qe(n.errors,Z.name,Ce[Z.name]):Ot(n.errors,Z.name))}!In(se)&&await b(se,z,q)}}return q.valid},A=()=>{for(const V of a.unMount){const z=de(r,V);z&&(z._f.refs?z._f.refs.every(q=>!Fp(q)):!Fp(z._f.ref))&&me(V)}a.unMount=new Set},I=(V,z)=>(V&&z&&Qe(s,V,z),!Wi(oe(),i)),T=(V,z,q)=>vL(V,a,{...o.mount?s:xt(z)?i:Lr(V)?{[V]:z}:z},q,z),M=V=>Nf(de(o.mount?s:i,V,t.shouldUnregister?de(i,V,[]):[])),U=(V,z,q={})=>{const ee=de(r,V);let te=z;if(ee){const Z=ee._f;Z&&(!Z.disabled&&Qe(s,V,Ak(z,Z)),te=gh(Z.ref)&&gn(z)?"":z,kk(Z.ref)?[...Z.ref.options].forEach(se=>se.selected=te.includes(se.value)):Z.refs?ou(Z.ref)?Z.refs.length>1?Z.refs.forEach(se=>(!se.defaultChecked||!se.disabled)&&(se.checked=Array.isArray(te)?!!te.find(xe=>xe===se.value):te===se.value)):Z.refs[0]&&(Z.refs[0].checked=!!te):Z.refs.forEach(se=>se.checked=se.value===te):Yy(Z.ref)?Z.ref.value="":(Z.ref.value=te,Z.ref.type||f.values.next({name:V,values:{...s}})))}(q.shouldDirty||q.shouldTouch)&&R(V,te,q.shouldTouch,q.shouldDirty,!0),q.shouldValidate&&H(V)},L=(V,z,q)=>{for(const ee in z){const te=z[ee],Z=`${V}.${ee}`,se=de(r,Z);(a.array.has(V)||!vh(te)||se&&!se._f)&&!Xo(te)?L(Z,te,q):U(Z,te,q)}},j=(V,z,q={})=>{const ee=de(r,V),te=a.array.has(V),Z=Xn(z);Qe(s,V,Z),te?(f.array.next({name:V,values:{...s}}),(d.isDirty||d.dirtyFields)&&q.shouldDirty&&f.state.next({name:V,dirtyFields:Gu(i,s),isDirty:I(V,Z)})):ee&&!ee._f&&!gn(Z)?L(V,Z,q):U(V,Z,q),rw(V,a)&&f.state.next({...n}),f.values.next({name:o.mount?V:void 0,values:{...s}})},B=async V=>{o.mount=!0;const z=V.target;let q=z.name,ee=!0;const te=de(r,q),Z=()=>z.type?Up(te._f):dL(V),se=xe=>{ee=Number.isNaN(xe)||Wi(xe,de(s,q,xe))};if(te){let xe,be;const Ce=Z(),He=V.type===tw.BLUR||V.type===tw.FOCUS_OUT,Qn=!kL(te._f)&&!e.resolver&&!de(n.errors,q)&&!te._f.deps||IL(He,de(n.touchedFields,q),n.isSubmitted,y,p),mt=rw(q,a,He);Qe(s,q,Ce),He?(te._f.onBlur&&te._f.onBlur(V),l&&l(0)):te._f.onChange&&te._f.onChange(V);const zt=R(q,Ce,He,!1),It=!In(zt)||mt;if(!He&&f.values.next({name:q,type:V.type,values:{...s}}),Qn)return d.isValid&&(t.mode==="onBlur"?He&&C():C()),It&&f.state.next({name:q,...mt?{}:zt});if(!He&&mt&&f.state.next({...n}),e.resolver){const{errors:dn}=await g([q]);if(se(Ce),ee){const hn=uw(n.errors,r,q),Tn=uw(dn,r,hn.name||q);xe=Tn.error,q=Tn.name,be=In(dn)}}else _([q],!0),xe=(await lw(te,s,w,e.shouldUseNativeValidation))[q],_([q]),se(Ce),ee&&(xe?be=!1:d.isValid&&(be=await b(r,!0)));ee&&(te._f.deps&&H(te._f.deps),S(q,be,xe,zt))}},F=(V,z)=>{if(de(n.errors,z)&&V.focus)return V.focus(),1},H=async(V,z={})=>{let q,ee;const te=vd(V);if(e.resolver){const Z=await v(xt(V)?V:te);q=In(Z),ee=V?!te.some(se=>de(Z,se)):q}else V?(ee=(await Promise.all(te.map(async Z=>{const se=de(r,Z);return await b(se&&se._f?{[Z]:se}:se)}))).every(Boolean),!(!ee&&!n.isValid)&&C()):ee=q=await b(r);return f.state.next({...!Lr(V)||d.isValid&&q!==n.isValid?{}:{name:V},...e.resolver||!V?{isValid:q}:{},errors:n.errors}),z.shouldFocus&&!ee&&Ql(r,F,V?te:a.mount),ee},oe=V=>{const z={...o.mount?s:i};return xt(V)?z:Lr(V)?de(z,V):V.map(q=>de(z,q))},Y=(V,z)=>({invalid:!!de((z||n).errors,V),isDirty:!!de((z||n).dirtyFields,V),error:de((z||n).errors,V),isValidating:!!de(n.validatingFields,V),isTouched:!!de((z||n).touchedFields,V)}),ie=V=>{V&&vd(V).forEach(z=>Ot(n.errors,z)),f.state.next({errors:V?n.errors:{}})},X=(V,z,q)=>{const ee=(de(r,V,{_f:{}})._f||{}).ref,te=de(n.errors,V)||{},{ref:Z,message:se,type:xe,...be}=te;Qe(n.errors,V,{...be,...z,ref:ee}),f.state.next({name:V,errors:n.errors,isValid:!1}),q&&q.shouldFocus&&ee&&ee.focus&&ee.focus()},G=(V,z)=>ci(V)?f.values.subscribe({next:q=>V(T(void 0,z),q)}):T(V,z,!0),me=(V,z={})=>{for(const q of V?vd(V):a.mount)a.mount.delete(q),a.array.delete(q),z.keepValue||(Ot(r,q),Ot(s,q)),!z.keepError&&Ot(n.errors,q),!z.keepDirty&&Ot(n.dirtyFields,q),!z.keepTouched&&Ot(n.touchedFields,q),!z.keepIsValidating&&Ot(n.validatingFields,q),!e.shouldUnregister&&!z.keepDefaultValue&&Ot(i,q);f.values.next({values:{...s}}),f.state.next({...n,...z.keepDirty?{isDirty:I()}:{}}),!z.keepIsValid&&C()},Ne=({disabled:V,name:z,field:q,fields:ee,value:te})=>{if(Cr(V)&&o.mount||V){const Z=V?void 0:xt(te)?Up(q?q._f:de(ee,z)._f):te;Qe(s,z,Z),R(z,Z,!1,!1,!0)}},Fe=(V,z={})=>{let q=de(r,V);const ee=Cr(z.disabled)||Cr(t.disabled);return Qe(r,V,{...q||{},_f:{...q&&q._f?q._f:{ref:{name:V}},name:V,mount:!0,...z}}),a.mount.add(V),q?Ne({field:q,disabled:Cr(z.disabled)?z.disabled:t.disabled,name:V,value:z.value}):D(V,!0,z.value),{...ee?{disabled:z.disabled||t.disabled}:{},...e.progressive?{required:!!z.required,min:gl(z.min),max:gl(z.max),minLength:gl(z.minLength),maxLength:gl(z.maxLength),pattern:gl(z.pattern)}:{},name:V,onChange:B,onBlur:B,ref:te=>{if(te){Fe(V,z),q=de(r,V);const Z=xt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,se=EL(Z),xe=q._f.refs||[];if(se?xe.find(be=>be===Z):Z===q._f.ref)return;Qe(r,V,{_f:{...q._f,...se?{refs:[...xe.filter(Fp),Z,...Array.isArray(de(i,V))?[{}]:[]],ref:{type:Z.type,name:V}}:{ref:Z}}}),D(V,!1,void 0,Z)}else q=de(r,V,{}),q._f&&(q._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!(fL(a.array,V)&&o.action)&&a.unMount.add(V)}}},je=()=>e.shouldFocusError&&Ql(r,F,a.mount),Be=V=>{Cr(V)&&(f.state.next({disabled:V}),Ql(r,(z,q)=>{const ee=de(r,q);ee&&(z.disabled=ee._f.disabled||V,Array.isArray(ee._f.refs)&&ee._f.refs.forEach(te=>{te.disabled=ee._f.disabled||V}))},0,!1))},We=(V,z)=>async q=>{let ee;q&&(q.preventDefault&&q.preventDefault(),q.persist&&q.persist());let te=Xn(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:Z,values:se}=await g();n.errors=Z,te=se}else await b(r);if(Ot(n.errors,"root"),In(n.errors)){f.state.next({errors:{}});try{await V(te,q)}catch(Z){ee=Z}}else z&&await z({...n.errors},q),je(),setTimeout(je);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:In(n.errors)&&!ee,submitCount:n.submitCount+1,errors:n.errors}),ee)throw ee},tt=(V,z={})=>{de(r,V)&&(xt(z.defaultValue)?j(V,Xn(de(i,V))):(j(V,z.defaultValue),Qe(i,V,Xn(z.defaultValue))),z.keepTouched||Ot(n.touchedFields,V),z.keepDirty||(Ot(n.dirtyFields,V),n.isDirty=z.defaultValue?I(V,Xn(de(i,V))):I()),z.keepError||(Ot(n.errors,V),d.isValid&&C()),f.state.next({...n}))},bn=(V,z={})=>{const q=V?Xn(V):i,ee=Xn(q),te=In(V),Z=te?i:ee;if(z.keepDefaultValues||(i=q),!z.keepValues){if(z.keepDirtyValues)for(const se of a.mount)de(n.dirtyFields,se)?Qe(Z,se,de(s,se)):j(se,de(Z,se));else{if(Gy&&xt(V))for(const se of a.mount){const xe=de(r,se);if(xe&&xe._f){const be=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;if(gh(be)){const Ce=be.closest("form");if(Ce){Ce.reset();break}}}}r={}}s=t.shouldUnregister?z.keepDefaultValues?Xn(i):{}:Xn(Z),f.array.next({values:{...Z}}),f.values.next({values:{...Z}})}a={mount:z.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!z.keepIsValid||!!z.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:z.keepSubmitCount?n.submitCount:0,isDirty:te?!1:z.keepDirty?n.isDirty:!!(z.keepDefaultValues&&!Wi(V,i)),isSubmitted:z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:te?{}:z.keepDirtyValues?z.keepDefaultValues&&s?Gu(i,s):n.dirtyFields:z.keepDefaultValues&&V?Gu(i,V):z.keepDirty?n.dirtyFields:{},touchedFields:z.keepTouched?n.touchedFields:{},errors:z.keepErrors?n.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Bt=(V,z)=>bn(ci(V)?V(s):V,z);return{control:{register:Fe,unregister:me,getFieldState:Y,handleSubmit:We,setError:X,_executeSchema:g,_getWatch:T,_getDirty:I,_updateValid:C,_removeUnmounted:A,_updateFieldArray:x,_updateDisabledField:Ne,_getFieldArray:M,_reset:bn,_resetDefaultValues:()=>ci(e.defaultValues)&&e.defaultValues().then(V=>{Bt(V,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:V=>{n={...n,...V}},_disableForm:Be,_subjects:f,_proxyFormState:d,_setErrors:N,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(V){o=V},get _defaultValues(){return i},get _names(){return a},set _names(V){a=V},get _formState(){return n},set _formState(V){n=V},get _options(){return e},set _options(V){e={...e,...V}}},trigger:H,register:Fe,handleSubmit:We,watch:G,setValue:j,getValues:oe,reset:Bt,resetField:tt,clearErrors:ie,unregister:me,setError:X,setFocus:(V,z={})=>{const q=de(r,V),ee=q&&q._f;if(ee){const te=ee.refs?ee.refs[0]:ee.ref;te.focus&&(te.focus(),z.shouldSelect&&te.select())}},getFieldState:Y}}function Pg(t={}){const e=Je.useRef(),n=Je.useRef(),[r,i]=Je.useState({isDirty:!1,isValidating:!1,isLoading:ci(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:ci(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...CL(t),formState:r});const s=e.current.control;return s._options=t,yL({subject:s._subjects.state,next:o=>{gL(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),Je.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Je.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Je.useEffect(()=>{t.values&&!Wi(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Je.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Je.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Je.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=mL(r,s),e.current}const dw=(t,e,n)=>{if(t&&"reportValidity"in t){const r=de(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},Ck=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?dw(r.ref,n,t):r.refs&&r.refs.forEach(i=>dw(i,n,t))}},NL=(t,e)=>{e.shouldUseNativeValidation&&Ck(t,e);const n={};for(const r in t){const i=de(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(PL(e.names||Object.keys(t),r)){const o=Object.assign({},de(n,r));Qe(o,"root",s),Qe(n,r,o)}else Qe(n,r,s)}return n},PL=(t,e)=>t.some(n=>n.startsWith(e+"."));var RL=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,u=l&&l[r.code];n[o]=Ek(o,e,n,i,u?[].concat(u,r.message):r.message)}t.shift()}return n},Rg=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(u){return s.shouldUseNativeValidation&&Ck({},s),{errors:{},values:n.raw?r:u}})}catch(u){return a(u)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:NL(RL(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ve;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ve||(Ve={}));var Og;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Og||(Og={}));const ce=Ve.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hi=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},re=Ve.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),OL=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Wn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const u=o.path[l];l===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(e){if(!(e instanceof Wn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ve.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Wn.create=t=>new Wn(t);const Da=(t,e)=>{let n;switch(t.code){case re.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ve.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ve.joinValues(t.keys,", ")}`;break;case re.invalid_union:n="Invalid input";break;case re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ve.joinValues(t.options)}`;break;case re.invalid_enum_value:n=`Invalid enum value. Expected ${Ve.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:n="Invalid function arguments";break;case re.invalid_return_type:n="Invalid function return type";break;case re.invalid_date:n="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ve.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case re.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case re.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case re.custom:n="Invalid input";break;case re.invalid_intersection_types:n="Intersection results could not be merged";break;case re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ve.assertNever(t)}return{message:n}};let Nk=Da;function jL(t){Nk=t}function wh(){return Nk}const xh=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},DL=[];function le(t,e){const n=wh(),r=xh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Da?void 0:Da].filter(i=>!!i)});t.common.issues.push(r)}class un{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return we;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return un.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return we;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const we=Object.freeze({status:"aborted"}),Jo=t=>({status:"dirty",value:t}),wn=t=>({status:"valid",value:t}),jg=t=>t.status==="aborted",Dg=t=>t.status==="dirty",kc=t=>t.status==="valid",Ic=t=>typeof Promise<"u"&&t instanceof Promise;function Eh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Pk(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var ge;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ge||(ge={}));var Cl,Nl;class qr{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hw=(t,e)=>{if(kc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Wn(t.common.issues);return this._error=n,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var l,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(u=d??n)!==null&&u!==void 0?u:a.defaultError}},description:i}}class Ae{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Hi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Hi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new un,ctx:{common:e.parent.common,data:e.data,parsedType:Hi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ic(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hi(e)},s=this._parseSync({data:e,path:i.path,parent:i});return hw(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hi(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Ic(i)?i:Promise.resolve(i));return hw(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:re.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new kr({schema:this,typeName:ve.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return $r.create(this,this._def)}nullable(){return Ts.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xr.create(this,this._def)}promise(){return Ma.create(this,this._def)}or(e){return Nc.create([this,e],this._def)}and(e){return Pc.create(this,e,this._def)}transform(e){return new kr({...Se(this._def),schema:this,typeName:ve.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Lc({...Se(this._def),innerType:this,defaultValue:n,typeName:ve.ZodDefault})}brand(){return new Xy({typeName:ve.ZodBranded,type:this,...Se(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Mc({...Se(this._def),innerType:this,catchValue:n,typeName:ve.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return au.create(this,e)}readonly(){return Vc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const LL=/^c[^\s-]{8,}$/i,ML=/^[0-9a-z]+$/,VL=/^[0-9A-HJKMNP-TV-Z]{26}$/,FL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,UL=/^[a-z0-9_-]{21}$/i,BL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$L="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Bp;const WL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,HL=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,qL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Rk="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",KL=new RegExp(`^${Rk}$`);function Ok(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function GL(t){return new RegExp(`^${Ok(t)}$`)}function jk(t){let e=`${Rk}T${Ok(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function QL(t,e){return!!((e==="v4"||!e)&&WL.test(t)||(e==="v6"||!e)&&HL.test(t))}class yr extends Ae{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const s=this._getOrReturnCtx(e);return le(s,{code:re.invalid_type,expected:ce.string,received:s.parsedType}),we}const r=new un;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?le(i,{code:re.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&le(i,{code:re.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")zL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"email",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Bp||(Bp=new RegExp($L,"u")),Bp.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"emoji",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")FL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"uuid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")UL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"nanoid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")LL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"cuid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")ML.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"cuid2",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")VL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"ulid",code:re.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),le(i,{validation:"url",code:re.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"regex",code:re.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?jk(s).test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?KL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?GL(s).test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{code:re.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?BL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"duration",code:re.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?QL(e.data,s.version)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"ip",code:re.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?qL.test(e.data)||(i=this._getOrReturnCtx(e,i),le(i,{validation:"base64",code:re.invalid_string,message:s.message}),r.dirty()):Ve.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:re.invalid_string,...ge.errToObj(r)})}_addCheck(e){return new yr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ge.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ge.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ge.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ge.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ge.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ge.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ge.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ge.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ge.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ge.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...ge.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ge.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ge.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ge.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ge.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ge.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ge.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ge.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ge.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ge.errToObj(n)})}nonempty(e){return this.min(1,ge.errToObj(e))}trim(){return new yr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}yr.create=t=>{var e;return new yr({checks:[],typeName:ve.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};function YL(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class xs extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const s=this._getOrReturnCtx(e);return le(s,{code:re.invalid_type,expected:ce.number,received:s.parsedType}),we}let r;const i=new un;for(const s of this._def.checks)s.kind==="int"?Ve.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:re.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:re.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:re.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?YL(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),le(r,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),le(r,{code:re.not_finite,message:s.message}),i.dirty()):Ve.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,i){return new xs({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(i)}]})}_addCheck(e){return new xs({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ge.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ge.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ge.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ge.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ve.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}xs.create=t=>new xs({checks:[],typeName:ve.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Es extends Ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==ce.bigint){const s=this._getOrReturnCtx(e);return le(s,{code:re.invalid_type,expected:ce.bigint,received:s.parsedType}),we}let r;const i=new un;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:re.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),le(r,{code:re.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),le(r,{code:re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ve.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ge.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ge.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ge.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ge.toString(n))}setLimit(e,n,r,i){return new Es({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ge.toString(i)}]})}_addCheck(e){return new Es({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ge.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ge.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ge.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Es.create=t=>{var e;return new Es({checks:[],typeName:ve.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Se(t)})};class Sc extends Ae{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const r=this._getOrReturnCtx(e);return le(r,{code:re.invalid_type,expected:ce.boolean,received:r.parsedType}),we}return wn(e.data)}}Sc.create=t=>new Sc({typeName:ve.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class vo extends Ae{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const s=this._getOrReturnCtx(e);return le(s,{code:re.invalid_type,expected:ce.date,received:s.parsedType}),we}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return le(s,{code:re.invalid_date}),we}const r=new un;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),le(i,{code:re.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Ve.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new vo({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ge.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ge.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}vo.create=t=>new vo({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ve.ZodDate,...Se(t)});class bh extends Ae{_parse(e){if(this._getType(e)!==ce.symbol){const r=this._getOrReturnCtx(e);return le(r,{code:re.invalid_type,expected:ce.symbol,received:r.parsedType}),we}return wn(e.data)}}bh.create=t=>new bh({typeName:ve.ZodSymbol,...Se(t)});class Ac extends Ae{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:re.invalid_type,expected:ce.undefined,received:r.parsedType}),we}return wn(e.data)}}Ac.create=t=>new Ac({typeName:ve.ZodUndefined,...Se(t)});class Cc extends Ae{_parse(e){if(this._getType(e)!==ce.null){const r=this._getOrReturnCtx(e);return le(r,{code:re.invalid_type,expected:ce.null,received:r.parsedType}),we}return wn(e.data)}}Cc.create=t=>new Cc({typeName:ve.ZodNull,...Se(t)});class La extends Ae{constructor(){super(...arguments),this._any=!0}_parse(e){return wn(e.data)}}La.create=t=>new La({typeName:ve.ZodAny,...Se(t)});class no extends Ae{constructor(){super(...arguments),this._unknown=!0}_parse(e){return wn(e.data)}}no.create=t=>new no({typeName:ve.ZodUnknown,...Se(t)});class bi extends Ae{_parse(e){const n=this._getOrReturnCtx(e);return le(n,{code:re.invalid_type,expected:ce.never,received:n.parsedType}),we}}bi.create=t=>new bi({typeName:ve.ZodNever,...Se(t)});class Th extends Ae{_parse(e){if(this._getType(e)!==ce.undefined){const r=this._getOrReturnCtx(e);return le(r,{code:re.invalid_type,expected:ce.void,received:r.parsedType}),we}return wn(e.data)}}Th.create=t=>new Th({typeName:ve.ZodVoid,...Se(t)});class xr extends Ae{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==ce.array)return le(n,{code:re.invalid_type,expected:ce.array,received:n.parsedType}),we;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(le(n,{code:o?re.too_big:re.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(le(n,{code:re.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(le(n,{code:re.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new qr(n,o,n.path,a)))).then(o=>un.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new qr(n,o,n.path,a)));return un.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new xr({...this._def,minLength:{value:e,message:ge.toString(n)}})}max(e,n){return new xr({...this._def,maxLength:{value:e,message:ge.toString(n)}})}length(e,n){return new xr({...this._def,exactLength:{value:e,message:ge.toString(n)}})}nonempty(e){return this.min(1,e)}}xr.create=(t,e)=>new xr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ve.ZodArray,...Se(e)});function Mo(t){if(t instanceof ut){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=$r.create(Mo(r))}return new ut({...t._def,shape:()=>e})}else return t instanceof xr?new xr({...t._def,type:Mo(t.element)}):t instanceof $r?$r.create(Mo(t.unwrap())):t instanceof Ts?Ts.create(Mo(t.unwrap())):t instanceof Kr?Kr.create(t.items.map(e=>Mo(e))):t}class ut extends Ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ve.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==ce.object){const u=this._getOrReturnCtx(e);return le(u,{code:re.invalid_type,expected:ce.object,received:u.parsedType}),we}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof bi&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||a.push(u);const l=[];for(const u of o){const d=s[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new qr(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof bi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(le(i,{code:re.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new qr(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,p=await d.value;u.push({key:f,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>un.mergeObjectSync(r,u)):un.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ge.errToObj,new ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const l=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=ge.errToObj(e).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ut({...this._def,unknownKeys:"strip"})}passthrough(){return new ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ve.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ut({...this._def,catchall:e})}pick(e){const n={};return Ve.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ut({...this._def,shape:()=>n})}omit(e){const n={};return Ve.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ut({...this._def,shape:()=>n})}deepPartial(){return Mo(this)}partial(e){const n={};return Ve.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new ut({...this._def,shape:()=>n})}required(e){const n={};return Ve.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof $r;)s=s._def.innerType;n[r]=s}}),new ut({...this._def,shape:()=>n})}keyof(){return Dk(Ve.objectKeys(this.shape))}}ut.create=(t,e)=>new ut({shape:()=>t,unknownKeys:"strip",catchall:bi.create(),typeName:ve.ZodObject,...Se(e)});ut.strictCreate=(t,e)=>new ut({shape:()=>t,unknownKeys:"strict",catchall:bi.create(),typeName:ve.ZodObject,...Se(e)});ut.lazycreate=(t,e)=>new ut({shape:t,unknownKeys:"strip",catchall:bi.create(),typeName:ve.ZodObject,...Se(e)});class Nc extends Ae{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Wn(a.ctx.common.issues));return le(n,{code:re.invalid_union,unionErrors:o}),we}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Wn(l));return le(n,{code:re.invalid_union,unionErrors:a}),we}}get options(){return this._def.options}}Nc.create=(t,e)=>new Nc({options:t,typeName:ve.ZodUnion,...Se(e)});const ei=t=>t instanceof Oc?ei(t.schema):t instanceof kr?ei(t.innerType()):t instanceof jc?[t.value]:t instanceof bs?t.options:t instanceof Dc?Ve.objectValues(t.enum):t instanceof Lc?ei(t._def.innerType):t instanceof Ac?[void 0]:t instanceof Cc?[null]:t instanceof $r?[void 0,...ei(t.unwrap())]:t instanceof Ts?[null,...ei(t.unwrap())]:t instanceof Xy||t instanceof Vc?ei(t.unwrap()):t instanceof Mc?ei(t._def.innerType):[];class Pf extends Ae{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.object)return le(n,{code:re.invalid_type,expected:ce.object,received:n.parsedType}),we;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(le(n,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),we)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=ei(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Pf({typeName:ve.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Se(r)})}}function Lg(t,e){const n=Hi(t),r=Hi(e);if(t===e)return{valid:!0,data:t};if(n===ce.object&&r===ce.object){const i=Ve.objectKeys(e),s=Ve.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Lg(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===ce.array&&r===ce.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Lg(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ce.date&&r===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pc extends Ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(jg(s)||jg(o))return we;const a=Lg(s.value,o.value);return a.valid?((Dg(s)||Dg(o))&&n.dirty(),{status:n.value,value:a.data}):(le(r,{code:re.invalid_intersection_types}),we)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pc.create=(t,e,n)=>new Pc({left:t,right:e,typeName:ve.ZodIntersection,...Se(n)});class Kr extends Ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.array)return le(r,{code:re.invalid_type,expected:ce.array,received:r.parsedType}),we;if(r.data.length<this._def.items.length)return le(r,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&r.data.length>this._def.items.length&&(le(r,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new qr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>un.mergeArray(n,o)):un.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Kr({...this._def,rest:e})}}Kr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kr({items:t,typeName:ve.ZodTuple,rest:null,...Se(e)})};class Rc extends Ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.object)return le(r,{code:re.invalid_type,expected:ce.object,received:r.parsedType}),we;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new qr(r,a,r.path,a)),value:o._parse(new qr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?un.mergeObjectAsync(n,i):un.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ae?new Rc({keyType:e,valueType:n,typeName:ve.ZodRecord,...Se(r)}):new Rc({keyType:yr.create(),valueType:e,typeName:ve.ZodRecord,...Se(n)})}}class kh extends Ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.map)return le(r,{code:re.invalid_type,expected:ce.map,received:r.parsedType}),we;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new qr(r,a,r.path,[u,"key"])),value:s._parse(new qr(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return we;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return we;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}}kh.create=(t,e,n)=>new kh({valueType:e,keyType:t,typeName:ve.ZodMap,...Se(n)});class _o extends Ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ce.set)return le(r,{code:re.invalid_type,expected:ce.set,received:r.parsedType}),we;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(le(r,{code:re.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(le(r,{code:re.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const u=new Set;for(const d of l){if(d.status==="aborted")return we;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>s._parse(new qr(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new _o({...this._def,minSize:{value:e,message:ge.toString(n)}})}max(e,n){return new _o({...this._def,maxSize:{value:e,message:ge.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}_o.create=(t,e)=>new _o({valueType:t,minSize:null,maxSize:null,typeName:ve.ZodSet,...Se(e)});class fa extends Ae{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.function)return le(n,{code:re.invalid_type,expected:ce.function,received:n.parsedType}),we;function r(a,l){return xh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wh(),Da].filter(u=>!!u),issueData:{code:re.invalid_arguments,argumentsError:l}})}function i(a,l){return xh({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,wh(),Da].filter(u=>!!u),issueData:{code:re.invalid_return_type,returnTypeError:l}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ma){const a=this;return wn(async function(...l){const u=new Wn([]),d=await a._def.args.parseAsync(l,s).catch(y=>{throw u.addIssue(r(l,y)),u}),f=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(f,s).catch(y=>{throw u.addIssue(i(f,y)),u})})}else{const a=this;return wn(function(...l){const u=a._def.args.safeParse(l,s);if(!u.success)throw new Wn([r(l,u.error)]);const d=Reflect.apply(o,this,u.data),f=a._def.returns.safeParse(d,s);if(!f.success)throw new Wn([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fa({...this._def,args:Kr.create(e).rest(no.create())})}returns(e){return new fa({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new fa({args:e||Kr.create([]).rest(no.create()),returns:n||no.create(),typeName:ve.ZodFunction,...Se(r)})}}class Oc extends Ae{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Oc.create=(t,e)=>new Oc({getter:t,typeName:ve.ZodLazy,...Se(e)});class jc extends Ae{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return le(n,{received:n.data,code:re.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}jc.create=(t,e)=>new jc({value:t,typeName:ve.ZodLiteral,...Se(e)});function Dk(t,e){return new bs({values:t,typeName:ve.ZodEnum,...Se(e)})}class bs extends Ae{constructor(){super(...arguments),Cl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{expected:Ve.joinValues(r),received:n.parsedType,code:re.invalid_type}),we}if(Eh(this,Cl)||Pk(this,Cl,new Set(this._def.values)),!Eh(this,Cl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return le(n,{received:n.data,code:re.invalid_enum_value,options:r}),we}return wn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return bs.create(e,{...this._def,...n})}exclude(e,n=this._def){return bs.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cl=new WeakMap;bs.create=Dk;class Dc extends Ae{constructor(){super(...arguments),Nl.set(this,void 0)}_parse(e){const n=Ve.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ce.string&&r.parsedType!==ce.number){const i=Ve.objectValues(n);return le(r,{expected:Ve.joinValues(i),received:r.parsedType,code:re.invalid_type}),we}if(Eh(this,Nl)||Pk(this,Nl,new Set(Ve.getValidEnumValues(this._def.values))),!Eh(this,Nl).has(e.data)){const i=Ve.objectValues(n);return le(r,{received:r.data,code:re.invalid_enum_value,options:i}),we}return wn(e.data)}get enum(){return this._def.values}}Nl=new WeakMap;Dc.create=(t,e)=>new Dc({values:t,typeName:ve.ZodNativeEnum,...Se(e)});class Ma extends Ae{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ce.promise&&n.common.async===!1)return le(n,{code:re.invalid_type,expected:ce.promise,received:n.parsedType}),we;const r=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return wn(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ma.create=(t,e)=>new Ma({type:t,typeName:ve.ZodPromise,...Se(e)});class kr extends Ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ve.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{le(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return we;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?we:l.status==="dirty"||n.value==="dirty"?Jo(l.value):l});{if(n.value==="aborted")return we;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?we:a.status==="dirty"||n.value==="dirty"?Jo(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?we:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!kc(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>kc(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);Ve.assertNever(i)}}kr.create=(t,e,n)=>new kr({schema:t,typeName:ve.ZodEffects,effect:e,...Se(n)});kr.createWithPreprocess=(t,e,n)=>new kr({schema:e,effect:{type:"preprocess",transform:t},typeName:ve.ZodEffects,...Se(n)});class $r extends Ae{_parse(e){return this._getType(e)===ce.undefined?wn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}$r.create=(t,e)=>new $r({innerType:t,typeName:ve.ZodOptional,...Se(e)});class Ts extends Ae{_parse(e){return this._getType(e)===ce.null?wn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ts.create=(t,e)=>new Ts({innerType:t,typeName:ve.ZodNullable,...Se(e)});class Lc extends Ae{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ce.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Lc.create=(t,e)=>new Lc({innerType:t,typeName:ve.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class Mc extends Ae{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Ic(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Mc.create=(t,e)=>new Mc({innerType:t,typeName:ve.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class Ih extends Ae{_parse(e){if(this._getType(e)!==ce.nan){const r=this._getOrReturnCtx(e);return le(r,{code:re.invalid_type,expected:ce.nan,received:r.parsedType}),we}return{status:"valid",value:e.data}}}Ih.create=t=>new Ih({typeName:ve.ZodNaN,...Se(t)});const ZL=Symbol("zod_brand");class Xy extends Ae{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class au extends Ae{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?we:s.status==="dirty"?(n.dirty(),Jo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?we:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new au({in:e,out:n,typeName:ve.ZodPipeline})}}class Vc extends Ae{_parse(e){const n=this._def.innerType._parse(e),r=i=>(kc(i)&&(i.value=Object.freeze(i.value)),i);return Ic(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Vc.create=(t,e)=>new Vc({innerType:t,typeName:ve.ZodReadonly,...Se(e)});function Lk(t,e={},n){return t?La.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,l=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,u=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...u,fatal:l})}}):La.create()}const XL={object:ut.lazycreate};var ve;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ve||(ve={}));const JL=(t,e={message:`Input not instance of ${t.name}`})=>Lk(n=>n instanceof t,e),Mk=yr.create,Vk=xs.create,e7=Ih.create,t7=Es.create,Fk=Sc.create,n7=vo.create,r7=bh.create,i7=Ac.create,s7=Cc.create,o7=La.create,a7=no.create,l7=bi.create,c7=Th.create,u7=xr.create,d7=ut.create,h7=ut.strictCreate,f7=Nc.create,p7=Pf.create,m7=Pc.create,g7=Kr.create,y7=Rc.create,v7=kh.create,_7=_o.create,w7=fa.create,x7=Oc.create,E7=jc.create,b7=bs.create,T7=Dc.create,k7=Ma.create,fw=kr.create,I7=$r.create,S7=Ts.create,A7=kr.createWithPreprocess,C7=au.create,N7=()=>Mk().optional(),P7=()=>Vk().optional(),R7=()=>Fk().optional(),O7={string:t=>yr.create({...t,coerce:!0}),number:t=>xs.create({...t,coerce:!0}),boolean:t=>Sc.create({...t,coerce:!0}),bigint:t=>Es.create({...t,coerce:!0}),date:t=>vo.create({...t,coerce:!0})},j7=we;var At=Object.freeze({__proto__:null,defaultErrorMap:Da,setErrorMap:jL,getErrorMap:wh,makeIssue:xh,EMPTY_PATH:DL,addIssueToContext:le,ParseStatus:un,INVALID:we,DIRTY:Jo,OK:wn,isAborted:jg,isDirty:Dg,isValid:kc,isAsync:Ic,get util(){return Ve},get objectUtil(){return Og},ZodParsedType:ce,getParsedType:Hi,ZodType:Ae,datetimeRegex:jk,ZodString:yr,ZodNumber:xs,ZodBigInt:Es,ZodBoolean:Sc,ZodDate:vo,ZodSymbol:bh,ZodUndefined:Ac,ZodNull:Cc,ZodAny:La,ZodUnknown:no,ZodNever:bi,ZodVoid:Th,ZodArray:xr,ZodObject:ut,ZodUnion:Nc,ZodDiscriminatedUnion:Pf,ZodIntersection:Pc,ZodTuple:Kr,ZodRecord:Rc,ZodMap:kh,ZodSet:_o,ZodFunction:fa,ZodLazy:Oc,ZodLiteral:jc,ZodEnum:bs,ZodNativeEnum:Dc,ZodPromise:Ma,ZodEffects:kr,ZodTransformer:kr,ZodOptional:$r,ZodNullable:Ts,ZodDefault:Lc,ZodCatch:Mc,ZodNaN:Ih,BRAND:ZL,ZodBranded:Xy,ZodPipeline:au,ZodReadonly:Vc,custom:Lk,Schema:Ae,ZodSchema:Ae,late:XL,get ZodFirstPartyTypeKind(){return ve},coerce:O7,any:o7,array:u7,bigint:t7,boolean:Fk,date:n7,discriminatedUnion:p7,effect:fw,enum:b7,function:w7,instanceof:JL,intersection:m7,lazy:x7,literal:E7,map:v7,nan:e7,nativeEnum:T7,never:l7,null:s7,nullable:S7,number:Vk,object:d7,oboolean:R7,onumber:P7,optional:I7,ostring:N7,pipeline:C7,preprocess:A7,promise:k7,record:y7,set:_7,strictObject:h7,string:Mk,symbol:r7,transformer:fw,tuple:g7,undefined:i7,union:f7,unknown:a7,void:c7,NEVER:j7,ZodIssueCode:re,quotelessJson:OL,ZodError:Wn});const pw={prefix:"fab",iconName:"google",icon:[488,512,[],"f1a0","M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"]},D7=At.object({email:At.string().min(1,"Email is required").email("Invalid email address"),password:At.string().min(6,"Password must be at least 6 characters")}),L7=At.object({name:At.string().min(2,"Name must be at least 2 characters"),email:At.string().min(1,"Email is required").email("Invalid email address"),password:At.string().min(6,"Password must be at least 6 characters"),confirmPassword:At.string().min(1,"Please confirm your password")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),M7=()=>{const[t,e]=W.useState("login"),[n,r]=W.useState(!1),[i,s]=W.useState(!1),[o,a]=W.useState(!1),{updatedUser:l}=Af(),u=Cs(),{register:d,handleSubmit:f,formState:{errors:p}}=Pg({resolver:Rg(D7),mode:"onChange"}),{register:y,handleSubmit:w,reset:P,formState:{errors:C}}=Pg({resolver:Rg(L7),mode:"onChange"}),_=async()=>{try{const A=await Gj(Ut,$D),{user:I}=A;if(I.uid){const T=Tt(Lt(Me,"users"),I.uid),M=await jn(T);if(M.exists()){const U=M.data();console.log("Existing user data:",U),l(U)}else{const U={uid:I.uid,email:I.email,name:I.displayName,image:I.photoURL,credit:1e3,createdAt:new Date,updatedAt:new Date,ordered:0,purchased:0,sold:0,rented:0,donated:0,wishlist:[]};await ca(T,U),l(U),console.log("New user created and stored:",U)}}u("/")}catch(A){console.error("Google sign-in error:",A)}},x="w-full border-[1px] border-gray-300 px-4 py-3 rounded-3xl focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none bg-white",k="block text-gray-700 font-medium mb-2",N="text-red-500 text-sm mt-1 ml-2",D="w-full px-8 py-3 rounded-3xl bg-gradient-to-t from-primaryColor to-secondaryColor rounded-3xl text-white text-xl font-bold shadow-lg transition-transform duration-300 ease-in-out hover:scale-105",R=async A=>{try{const I=await qD(A,l,u);if(console.log(I),!I.emailVerified){alert("Please verify your email before logging in, Check Inbox of provided Email"),await Ut.signOut();return}u(-1)}catch(I){console.error(I)}},S=async A=>{try{await HD(A),alert("Account created successfully! Please check your email for verification."),e("login"),P()}catch(I){console.error(I)}},g=(A,I,T,M,U)=>h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{id:A,type:M?"text":"password",...I,className:`${x} ${T?"border-red-500":""}`}),h.jsx("button",{type:"button",onClick:()=>U(!M),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none",children:h.jsx(ke,{icon:M?aN:wb})})]}),T&&h.jsx("p",{className:N,children:T.message})]}),v=()=>h.jsxs("form",{onSubmit:f(R),className:"flex flex-col gap-6 mt-6 bg-white p-8 rounded-2xl border-2 shadow-xl mb-10",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"loginEmail",className:k,children:"Email Address"}),h.jsx("input",{id:"loginEmail",...d("email"),className:`${x} ${p.email?"border-red-500":""}`,placeholder:"Enter your email"}),p.email&&h.jsx("p",{className:N,children:p.email.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"loginPassword",className:k,children:"Password"}),g("loginPassword",d("password"),p.password,n,r)]}),h.jsx("div",{className:"text-sm text-purple-600 cursor-pointer hover:underline font-medium text-right",children:"Forgot password?"}),h.jsx("button",{type:"submit",className:D,children:"Login"}),h.jsxs("div",{className:"text-sm mt-2 text-center text-gray-600",children:["Don't have an account?"," ",h.jsx("span",{className:"text-purple-600 cursor-pointer hover:underline font-medium",onClick:()=>e("signup"),children:"Sign up"})]}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-3 bg-white text-gray-700 p-3 rounded-3xl hover:bg-gray-50 transition-all duration-300 shadow-md border-2 border-gray-300 font-bold",onClick:_,children:[h.jsx(ke,{icon:pw,className:"text-xl"}),"Login with Google"]})]}),b=()=>h.jsxs("form",{onSubmit:w(S),className:"flex flex-col gap-6 mt-6 bg-white p-8 rounded-2xl border-2 shadow-xl mb-10",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"signupName",className:k,children:"Full Name"}),h.jsx("input",{id:"signupName",...y("name"),className:`${x} ${C.name?"border-red-500":""}`,placeholder:"Enter your full name"}),C.name&&h.jsx("p",{className:N,children:C.name.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"signupEmail",className:k,children:"Email Address"}),h.jsx("input",{id:"signupEmail",...y("email"),className:`${x} ${C.email?"border-red-500":""}`,placeholder:"Enter your email"}),C.email&&h.jsx("p",{className:N,children:C.email.message})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"signupPassword",className:k,children:"Password"}),g("signupPassword",y("password"),C.password,i,s)]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"signupConfirmPassword",className:k,children:"Confirm Password"}),g("signupConfirmPassword",y("confirmPassword"),C.confirmPassword,o,a)]}),h.jsx("button",{type:"submit",className:D,children:"Create Account"}),h.jsxs("div",{className:"text-sm mt-2 text-center text-gray-600",children:["Already have an account?"," ",h.jsx("span",{className:"text-purple-600 cursor-pointer hover:underline font-medium",onClick:()=>e("login"),children:"Login"})]}),h.jsxs("div",{className:"relative my-4",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-gray-300"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),h.jsxs("button",{type:"button",className:"flex items-center justify-center gap-3 bg-white text-gray-700 p-3 rounded-3xl hover:bg-gray-50 transition-all duration-300 shadow-md border-2 border-gray-300 font-bold",onClick:_,children:[h.jsx(ke,{icon:pw,className:"text-xl"}),"Sign up with Google"]})]});return h.jsxs("div",{className:"w-full max-w-[600px] m-auto mt-10",children:[h.jsxs("div",{className:"flex justify-around mb-8",children:[h.jsx("div",{className:`p-2 cursor-pointer text-xl font-bold transition-all duration-300 ${t==="login"?"text-purple-600 border-b-4 border-purple-600":"text-gray-400 hover:text-purple-400"}`,onClick:()=>e("login"),children:"Login"}),h.jsx("div",{className:`p-2 cursor-pointer text-xl font-bold transition-all duration-300 ${t==="signup"?"text-purple-600 border-b-4 border-purple-600":"text-gray-400 hover:text-purple-400"}`,onClick:()=>e("signup"),children:"Sign Up"})]}),t==="login"?v():b()]})},V7=()=>h.jsx("div",{className:"loader",children:h.jsxs("div",{className:"book",children:[h.jsx("div",{className:"book__pg-shadow"}),h.jsx("div",{className:"book__pg"}),h.jsx("div",{className:"book__pg book__pg--2"}),h.jsx("div",{className:"book__pg book__pg--3"}),h.jsx("div",{className:"book__pg book__pg--4"}),h.jsx("div",{className:"book__pg book__pg--5"})]})});function F7(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Uk(t,e){return new Promise(function(n,r){let i;return U7(t).then(function(s){try{return i=s,n(new Blob([e.slice(0,2),i,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const U7=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:i}})=>{const s=new DataView(i);let o=0;if(s.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const a=s.getUint16(o);if(a===65498)break;const l=s.getUint16(o+2);if(a===65505&&s.getUint32(o+4)===1165519206){const u=o+10;let d;switch(s.getUint16(u)){case 18761:d=!0;break;case 19789:d=!1;break;default:return n("TIFF header contains invalid endian")}if(s.getUint16(u+2,d)!==42)return n("TIFF header contains invalid version");const f=s.getUint32(u+4,d),p=u+f+2+12*s.getUint16(u+f,d);for(let y=u+f+2;y<p;y+=12)if(s.getUint16(y,d)==274){if(s.getUint16(y+2,d)!==3)return n("Orientation data type is invalid");if(s.getUint32(y+4,d)!==1)return n("Orientation data count is invalid");s.setUint16(y+8,1,d);break}return e(i.slice(o,o+2+l))}o+=2+l}return e(new Blob)}),r.readAsArrayBuffer(t)});var Sh={},B7={get exports(){return Sh},set exports(t){Sh=t}};(function(t){var e,n,r={};B7.exports=r,r.parse=function(i,s){for(var o=r.bin.readUshort,a=r.bin.readUint,l=0,u={},d=new Uint8Array(i),f=d.length-4;a(d,f)!=101010256;)f--;l=f,l+=4;var p=o(d,l+=4);o(d,l+=2);var y=a(d,l+=2),w=a(d,l+=4);l+=4,l=w;for(var P=0;P<p;P++){a(d,l),l+=4,l+=4,l+=4,a(d,l+=4),y=a(d,l+=4);var C=a(d,l+=4),_=o(d,l+=4),x=o(d,l+2),k=o(d,l+4);l+=6;var N=a(d,l+=8);l+=4,l+=_+x+k,r._readLocal(d,N,u,y,C,s)}return u},r._readLocal=function(i,s,o,a,l,u){var d=r.bin.readUshort,f=r.bin.readUint;f(i,s),d(i,s+=4),d(i,s+=2);var p=d(i,s+=2);f(i,s+=2),f(i,s+=4),s+=4;var y=d(i,s+=8),w=d(i,s+=2);s+=2;var P=r.bin.readUTF8(i,s,y);if(s+=y,s+=w,u)o[P]={size:l,csize:a};else{var C=new Uint8Array(i.buffer,s);if(p==0)o[P]=new Uint8Array(C.buffer.slice(s,s+a));else{if(p!=8)throw"unknown compression method: "+p;var _=new Uint8Array(l);r.inflateRaw(C,_),o[P]=_}}},r.inflateRaw=function(i,s){return r.F.inflate(i,s)},r.inflate=function(i,s){return i[0],i[1],r.inflateRaw(new Uint8Array(i.buffer,i.byteOffset+2,i.length-6),s)},r.deflate=function(i,s){s==null&&(s={level:6});var o=0,a=new Uint8Array(50+Math.floor(1.1*i.length));a[o]=120,a[o+1]=156,o+=2,o=r.F.deflateRaw(i,a,o,s.level);var l=r.adler(i,0,i.length);return a[o+0]=l>>>24&255,a[o+1]=l>>>16&255,a[o+2]=l>>>8&255,a[o+3]=l>>>0&255,new Uint8Array(a.buffer,0,o+4)},r.deflateRaw=function(i,s){s==null&&(s={level:6});var o=new Uint8Array(50+Math.floor(1.1*i.length)),a=r.F.deflateRaw(i,o,a,s.level);return new Uint8Array(o.buffer,0,a)},r.encode=function(i,s){s==null&&(s=!1);var o=0,a=r.bin.writeUint,l=r.bin.writeUshort,u={};for(var d in i){var f=!r._noNeed(d)&&!s,p=i[d],y=r.crc.crc(p,0,p.length);u[d]={cpr:f,usize:p.length,crc:y,file:f?r.deflateRaw(p):p}}for(var d in u)o+=u[d].file.length+30+46+2*r.bin.sizeUTF8(d);o+=22;var w=new Uint8Array(o),P=0,C=[];for(var d in u){var _=u[d];C.push(P),P=r._writeHeader(w,P,d,_,0)}var x=0,k=P;for(var d in u)_=u[d],C.push(P),P=r._writeHeader(w,P,d,_,1,C[x++]);var N=P-k;return a(w,P,101010256),P+=4,l(w,P+=4,x),l(w,P+=2,x),a(w,P+=2,N),a(w,P+=4,k),P+=4,P+=2,w.buffer},r._noNeed=function(i){var s=i.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(s)!=-1},r._writeHeader=function(i,s,o,a,l,u){var d=r.bin.writeUint,f=r.bin.writeUshort,p=a.file;return d(i,s,l==0?67324752:33639248),s+=4,l==1&&(s+=2),f(i,s,20),f(i,s+=2,0),f(i,s+=2,a.cpr?8:0),d(i,s+=2,0),d(i,s+=4,a.crc),d(i,s+=4,p.length),d(i,s+=4,a.usize),f(i,s+=4,r.bin.sizeUTF8(o)),f(i,s+=2,0),s+=2,l==1&&(s+=2,s+=2,d(i,s+=6,u),s+=4),s+=r.bin.writeUTF8(i,s,o),l==0&&(i.set(p,s),s+=p.length),s},r.crc={table:function(){for(var i=new Uint32Array(256),s=0;s<256;s++){for(var o=s,a=0;a<8;a++)1&o?o=3988292384^o>>>1:o>>>=1;i[s]=o}return i}(),update:function(i,s,o,a){for(var l=0;l<a;l++)i=r.crc.table[255&(i^s[o+l])]^i>>>8;return i},crc:function(i,s,o){return 4294967295^r.crc.update(4294967295,i,s,o)}},r.adler=function(i,s,o){for(var a=1,l=0,u=s,d=s+o;u<d;){for(var f=Math.min(u+5552,d);u<f;)l+=a+=i[u++];a%=65521,l%=65521}return l<<16|a},r.bin={readUshort:function(i,s){return i[s]|i[s+1]<<8},writeUshort:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255},readUint:function(i,s){return 16777216*i[s+3]+(i[s+2]<<16|i[s+1]<<8|i[s])},writeUint:function(i,s,o){i[s]=255&o,i[s+1]=o>>8&255,i[s+2]=o>>16&255,i[s+3]=o>>24&255},readASCII:function(i,s,o){for(var a="",l=0;l<o;l++)a+=String.fromCharCode(i[s+l]);return a},writeASCII:function(i,s,o){for(var a=0;a<o.length;a++)i[s+a]=o.charCodeAt(a)},pad:function(i){return i.length<2?"0"+i:i},readUTF8:function(i,s,o){for(var a,l="",u=0;u<o;u++)l+="%"+r.bin.pad(i[s+u].toString(16));try{a=decodeURIComponent(l)}catch{return r.bin.readASCII(i,s,o)}return a},writeUTF8:function(i,s,o){for(var a=o.length,l=0,u=0;u<a;u++){var d=o.charCodeAt(u);if(!(4294967168&d))i[s+l]=d,l++;else if(!(4294965248&d))i[s+l]=192|d>>6,i[s+l+1]=128|d>>0&63,l+=2;else if(!(4294901760&d))i[s+l]=224|d>>12,i[s+l+1]=128|d>>6&63,i[s+l+2]=128|d>>0&63,l+=3;else{if(4292870144&d)throw"e";i[s+l]=240|d>>18,i[s+l+1]=128|d>>12&63,i[s+l+2]=128|d>>6&63,i[s+l+3]=128|d>>0&63,l+=4}}return l},sizeUTF8:function(i){for(var s=i.length,o=0,a=0;a<s;a++){var l=i.charCodeAt(a);if(!(4294967168&l))o++;else if(!(4294965248&l))o+=2;else if(!(4294901760&l))o+=3;else{if(4292870144&l)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(i,s,o,a){var l=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][a],u=r.F.U,d=r.F._goodIndex;r.F._hash;var f=r.F._putsE,p=0,y=o<<3,w=0,P=i.length;if(a==0){for(;p<P;)f(s,y,p+(A=Math.min(65535,P-p))==P?1:0),y=r.F._copyExact(i,p,A,s,y+8),p+=A;return y>>>3}var C=u.lits,_=u.strt,x=u.prev,k=0,N=0,D=0,R=0,S=0,g=0;for(P>2&&(_[g=r.F._hash(i,0)]=0),p=0;p<P;p++){if(S=g,p+1<P-2){g=r.F._hash(i,p+1);var v=p+1&32767;x[v]=_[g],_[g]=v}if(w<=p){(k>14e3||N>26697)&&P-p>100&&(w<p&&(C[k]=p-w,k+=2,w=p),y=r.F._writeBlock(p==P-1||w==P?1:0,C,k,R,i,D,p-D,s,y),k=N=R=0,D=p);var b=0;p<P-2&&(b=r.F._bestMatch(i,p,x,S,Math.min(l[2],P-p),l[3]));var A=b>>>16,I=65535&b;if(b!=0){I=65535&b;var T=d(A=b>>>16,u.of0);u.lhst[257+T]++;var M=d(I,u.df0);u.dhst[M]++,R+=u.exb[T]+u.dxb[M],C[k]=A<<23|p-w,C[k+1]=I<<16|T<<8|M,k+=2,w=p+A}else u.lhst[i[p]]++;N++}}for(D==p&&i.length!=0||(w<p&&(C[k]=p-w,k+=2,w=p),y=r.F._writeBlock(1,C,k,R,i,D,p-D,s,y),k=0,N=0,k=N=R=0,D=p);7&y;)y++;return y>>>3},r.F._bestMatch=function(i,s,o,a,l,u){var d=32767&s,f=o[d],p=d-f+32768&32767;if(f==d||a!=r.F._hash(i,s-p))return 0;for(var y=0,w=0,P=Math.min(32767,s);p<=P&&--u!=0&&f!=d;){if(y==0||i[s+y]==i[s+y-p]){var C=r.F._howLong(i,s,p);if(C>y){if(w=p,(y=C)>=l)break;p+2<C&&(C=p+2);for(var _=0,x=0;x<C-2;x++){var k=s-p+x+32768&32767,N=k-o[k]+32768&32767;N>_&&(_=N,f=k)}}}p+=(d=f)-(f=o[d])+32768&32767}return y<<16|w},r.F._howLong=function(i,s,o){if(i[s]!=i[s-o]||i[s+1]!=i[s+1-o]||i[s+2]!=i[s+2-o])return 0;var a=s,l=Math.min(i.length,s+258);for(s+=3;s<l&&i[s]==i[s-o];)s++;return s-a},r.F._hash=function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(i,s,o,a,l,u,d,f,p){var y,w,P,C,_,x,k,N,D,R=r.F.U,S=r.F._putsF,g=r.F._putsE;R.lhst[256]++,w=(y=r.F.getTrees())[0],P=y[1],C=y[2],_=y[3],x=y[4],k=y[5],N=y[6],D=y[7];var v=32+(p+3&7?8-(p+3&7):0)+(d<<3),b=a+r.F.contSize(R.fltree,R.lhst)+r.F.contSize(R.fdtree,R.dhst),A=a+r.F.contSize(R.ltree,R.lhst)+r.F.contSize(R.dtree,R.dhst);A+=14+3*k+r.F.contSize(R.itree,R.ihst)+(2*R.ihst[16]+3*R.ihst[17]+7*R.ihst[18]);for(var I=0;I<286;I++)R.lhst[I]=0;for(I=0;I<30;I++)R.dhst[I]=0;for(I=0;I<19;I++)R.ihst[I]=0;var T=v<b&&v<A?0:b<A?1:2;if(S(f,p,i),S(f,p+1,T),p+=3,T==0){for(;7&p;)p++;p=r.F._copyExact(l,u,d,f,p)}else{var M,U;if(T==1&&(M=R.fltree,U=R.fdtree),T==2){r.F.makeCodes(R.ltree,w),r.F.revCodes(R.ltree,w),r.F.makeCodes(R.dtree,P),r.F.revCodes(R.dtree,P),r.F.makeCodes(R.itree,C),r.F.revCodes(R.itree,C),M=R.ltree,U=R.dtree,g(f,p,_-257),g(f,p+=5,x-1),g(f,p+=5,k-4),p+=4;for(var L=0;L<k;L++)g(f,p+3*L,R.itree[1+(R.ordr[L]<<1)]);p+=3*k,p=r.F._codeTiny(N,R.itree,f,p),p=r.F._codeTiny(D,R.itree,f,p)}for(var j=u,B=0;B<o;B+=2){for(var F=s[B],H=F>>>23,oe=j+(8388607&F);j<oe;)p=r.F._writeLit(l[j++],M,f,p);if(H!=0){var Y=s[B+1],ie=Y>>16,X=Y>>8&255,G=255&Y;g(f,p=r.F._writeLit(257+X,M,f,p),H-R.of0[X]),p+=R.exb[X],S(f,p=r.F._writeLit(G,U,f,p),ie-R.df0[G]),p+=R.dxb[G],j+=H}}p=r.F._writeLit(256,M,f,p)}return p},r.F._copyExact=function(i,s,o,a,l){var u=l>>>3;return a[u]=o,a[u+1]=o>>>8,a[u+2]=255-a[u],a[u+3]=255-a[u+1],u+=4,a.set(new Uint8Array(i.buffer,s,o),u),l+(o+4<<3)},r.F.getTrees=function(){for(var i=r.F.U,s=r.F._hufTree(i.lhst,i.ltree,15),o=r.F._hufTree(i.dhst,i.dtree,15),a=[],l=r.F._lenCodes(i.ltree,a),u=[],d=r.F._lenCodes(i.dtree,u),f=0;f<a.length;f+=2)i.ihst[a[f]]++;for(f=0;f<u.length;f+=2)i.ihst[u[f]]++;for(var p=r.F._hufTree(i.ihst,i.itree,7),y=19;y>4&&i.itree[1+(i.ordr[y-1]<<1)]==0;)y--;return[s,o,p,l,d,y,a,u]},r.F.getSecond=function(i){for(var s=[],o=0;o<i.length;o+=2)s.push(i[o+1]);return s},r.F.nonZero=function(i){for(var s="",o=0;o<i.length;o+=2)i[o+1]!=0&&(s+=(o>>1)+",");return s},r.F.contSize=function(i,s){for(var o=0,a=0;a<s.length;a++)o+=s[a]*i[1+(a<<1)];return o},r.F._codeTiny=function(i,s,o,a){for(var l=0;l<i.length;l+=2){var u=i[l],d=i[l+1];a=r.F._writeLit(u,s,o,a);var f=u==16?2:u==17?3:7;u>15&&(r.F._putsE(o,a,d,f),a+=f)}return a},r.F._lenCodes=function(i,s){for(var o=i.length;o!=2&&i[o-1]==0;)o-=2;for(var a=0;a<o;a+=2){var l=i[a+1],u=a+3<o?i[a+3]:-1,d=a+5<o?i[a+5]:-1,f=a==0?-1:i[a-1];if(l==0&&u==l&&d==l){for(var p=a+5;p+2<o&&i[p+2]==l;)p+=2;(y=Math.min(p+1-a>>>1,138))<11?s.push(17,y-3):s.push(18,y-11),a+=2*y-2}else if(l==f&&u==l&&d==l){for(p=a+5;p+2<o&&i[p+2]==l;)p+=2;var y=Math.min(p+1-a>>>1,6);s.push(16,y-3),a+=2*y-2}else s.push(l,0)}return o>>>1},r.F._hufTree=function(i,s,o){var a=[],l=i.length,u=s.length,d=0;for(d=0;d<u;d+=2)s[d]=0,s[d+1]=0;for(d=0;d<l;d++)i[d]!=0&&a.push({lit:d,f:i[d]});var f=a.length,p=a.slice(0);if(f==0)return 0;if(f==1){var y=a[0].lit;return p=y==0?1:0,s[1+(y<<1)]=1,s[1+(p<<1)]=1,1}a.sort(function(N,D){return N.f-D.f});var w=a[0],P=a[1],C=0,_=1,x=2;for(a[0]={lit:-1,f:w.f+P.f,l:w,r:P,d:0};_!=f-1;)w=C!=_&&(x==f||a[C].f<a[x].f)?a[C++]:a[x++],P=C!=_&&(x==f||a[C].f<a[x].f)?a[C++]:a[x++],a[_++]={lit:-1,f:w.f+P.f,l:w,r:P};var k=r.F.setDepth(a[_-1],0);for(k>o&&(r.F.restrictDepth(p,o,k),k=o),d=0;d<f;d++)s[1+(p[d].lit<<1)]=p[d].d;return k},r.F.setDepth=function(i,s){return i.lit!=-1?(i.d=s,s):Math.max(r.F.setDepth(i.l,s+1),r.F.setDepth(i.r,s+1))},r.F.restrictDepth=function(i,s,o){var a=0,l=1<<o-s,u=0;for(i.sort(function(f,p){return p.d==f.d?f.f-p.f:p.d-f.d}),a=0;a<i.length&&i[a].d>s;a++){var d=i[a].d;i[a].d=s,u+=l-(1<<o-d)}for(u>>>=o-s;u>0;)(d=i[a].d)<s?(i[a].d++,u-=1<<s-d-1):a++;for(;a>=0;a--)i[a].d==s&&u<0&&(i[a].d--,u++);u!=0&&console.log("debt left")},r.F._goodIndex=function(i,s){var o=0;return s[16|o]<=i&&(o|=16),s[8|o]<=i&&(o|=8),s[4|o]<=i&&(o|=4),s[2|o]<=i&&(o|=2),s[1|o]<=i&&(o|=1),o},r.F._writeLit=function(i,s,o,a){return r.F._putsF(o,a,s[i<<1]),a+s[1+(i<<1)]},r.F.inflate=function(i,s){var o=Uint8Array;if(i[0]==3&&i[1]==0)return s||new o(0);var a=r.F,l=a._bitsF,u=a._bitsE,d=a._decodeTiny,f=a.makeCodes,p=a.codes2map,y=a._get17,w=a.U,P=s==null;P&&(s=new o(i.length>>>2<<3));for(var C,_,x=0,k=0,N=0,D=0,R=0,S=0,g=0,v=0,b=0;x==0;)if(x=l(i,b,1),k=l(i,b+1,2),b+=3,k!=0){if(P&&(s=r.F._check(s,v+(1<<17))),k==1&&(C=w.flmap,_=w.fdmap,S=511,g=31),k==2){N=u(i,b,5)+257,D=u(i,b+5,5)+1,R=u(i,b+10,4)+4,b+=14;for(var A=0;A<38;A+=2)w.itree[A]=0,w.itree[A+1]=0;var I=1;for(A=0;A<R;A++){var T=u(i,b+3*A,3);w.itree[1+(w.ordr[A]<<1)]=T,T>I&&(I=T)}b+=3*R,f(w.itree,I),p(w.itree,I,w.imap),C=w.lmap,_=w.dmap,b=d(w.imap,(1<<I)-1,N+D,i,b,w.ttree);var M=a._copyOut(w.ttree,0,N,w.ltree);S=(1<<M)-1;var U=a._copyOut(w.ttree,N,D,w.dtree);g=(1<<U)-1,f(w.ltree,M),p(w.ltree,M,C),f(w.dtree,U),p(w.dtree,U,_)}for(;;){var L=C[y(i,b)&S];b+=15&L;var j=L>>>4;if(!(j>>>8))s[v++]=j;else{if(j==256)break;var B=v+j-254;if(j>264){var F=w.ldef[j-257];B=v+(F>>>3)+u(i,b,7&F),b+=7&F}var H=_[y(i,b)&g];b+=15&H;var oe=H>>>4,Y=w.ddef[oe],ie=(Y>>>4)+l(i,b,15&Y);for(b+=15&Y,P&&(s=r.F._check(s,v+(1<<17)));v<B;)s[v]=s[v++-ie],s[v]=s[v++-ie],s[v]=s[v++-ie],s[v]=s[v++-ie];v=B}}}else{7&b&&(b+=8-(7&b));var X=4+(b>>>3),G=i[X-4]|i[X-3]<<8;P&&(s=r.F._check(s,v+G)),s.set(new o(i.buffer,i.byteOffset+X,G),v),b=X+G<<3,v+=G}return s.length==v?s:s.slice(0,v)},r.F._check=function(i,s){var o=i.length;if(s<=o)return i;var a=new Uint8Array(Math.max(o<<1,s));return a.set(i,0),a},r.F._decodeTiny=function(i,s,o,a,l,u){for(var d=r.F._bitsE,f=r.F._get17,p=0;p<o;){var y=i[f(a,l)&s];l+=15&y;var w=y>>>4;if(w<=15)u[p]=w,p++;else{var P=0,C=0;w==16?(C=3+d(a,l,2),l+=2,P=u[p-1]):w==17?(C=3+d(a,l,3),l+=3):w==18&&(C=11+d(a,l,7),l+=7);for(var _=p+C;p<_;)u[p]=P,p++}}return l},r.F._copyOut=function(i,s,o,a){for(var l=0,u=0,d=a.length>>>1;u<o;){var f=i[u+s];a[u<<1]=0,a[1+(u<<1)]=f,f>l&&(l=f),u++}for(;u<d;)a[u<<1]=0,a[1+(u<<1)]=0,u++;return l},r.F.makeCodes=function(i,s){for(var o,a,l,u,d=r.F.U,f=i.length,p=d.bl_count,y=0;y<=s;y++)p[y]=0;for(y=1;y<f;y+=2)p[i[y]]++;var w=d.next_code;for(o=0,p[0]=0,a=1;a<=s;a++)o=o+p[a-1]<<1,w[a]=o;for(l=0;l<f;l+=2)(u=i[l+1])!=0&&(i[l]=w[u],w[u]++)},r.F.codes2map=function(i,s,o){for(var a=i.length,l=r.F.U.rev15,u=0;u<a;u+=2)if(i[u+1]!=0)for(var d=u>>1,f=i[u+1],p=d<<4|f,y=s-f,w=i[u]<<y,P=w+(1<<y);w!=P;)o[l[w]>>>15-s]=p,w++},r.F.revCodes=function(i,s){for(var o=r.F.U.rev15,a=15-s,l=0;l<i.length;l+=2){var u=i[l]<<s-i[l+1];i[l]=o[u]>>>a}},r.F._putsE=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8},r.F._putsF=function(i,s,o){o<<=7&s;var a=s>>>3;i[a]|=o,i[a+1]|=o>>>8,i[a+2]|=o>>>16},r.F._bitsE=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8)>>>(7&s)&(1<<o)-1},r.F._bitsF=function(i,s,o){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)&(1<<o)-1},r.F._get17=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16)>>>(7&s)},r.F._get25=function(i,s){return(i[s>>>3]|i[1+(s>>>3)]<<8|i[2+(s>>>3)]<<16|i[3+(s>>>3)]<<24)>>>(7&s)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var i=r.F.U,s=0;s<32768;s++){var o=s;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,i.rev15[s]=(o>>>16|o<<16)>>>17}function a(l,u,d){for(;u--!=0;)l.push(0,d)}for(s=0;s<32;s++)i.ldef[s]=i.of0[s]<<3|i.exb[s],i.ddef[s]=i.df0[s]<<4|i.dxb[s];a(i.fltree,144,8),a(i.fltree,112,9),a(i.fltree,24,7),a(i.fltree,8,8),r.F.makeCodes(i.fltree,9),r.F.codes2map(i.fltree,9,i.flmap),r.F.revCodes(i.fltree,9),a(i.fdtree,32,5),r.F.makeCodes(i.fdtree,5),r.F.codes2map(i.fdtree,5,i.fdmap),r.F.revCodes(i.fdtree,5),a(i.itree,19,0),a(i.ltree,286,0),a(i.dtree,30,0),a(i.ttree,320,0)}()})();var z7=F7({__proto__:null,default:Sh},[Sh]);const dr=function(){var t={nextZero(d,f){for(;d[f]!=0;)f++;return f},readUshort:(d,f)=>d[f]<<8|d[f+1],writeUshort(d,f,p){d[f]=p>>8&255,d[f+1]=255&p},readUint:(d,f)=>16777216*d[f]+(d[f+1]<<16|d[f+2]<<8|d[f+3]),writeUint(d,f,p){d[f]=p>>24&255,d[f+1]=p>>16&255,d[f+2]=p>>8&255,d[f+3]=255&p},readASCII(d,f,p){let y="";for(let w=0;w<p;w++)y+=String.fromCharCode(d[f+w]);return y},writeASCII(d,f,p){for(let y=0;y<p.length;y++)d[f+y]=p.charCodeAt(y)},readBytes(d,f,p){const y=[];for(let w=0;w<p;w++)y.push(d[f+w]);return y},pad:d=>d.length<2?`0${d}`:d,readUTF8(d,f,p){let y,w="";for(let P=0;P<p;P++)w+=`%${t.pad(d[f+P].toString(16))}`;try{y=decodeURIComponent(w)}catch{return t.readASCII(d,f,p)}return y}};function e(d,f,p,y){const w=f*p,P=s(y),C=Math.ceil(f*P/8),_=new Uint8Array(4*w),x=new Uint32Array(_.buffer),{ctype:k}=y,{depth:N}=y,D=t.readUshort;if(k==6){const F=w<<2;if(N==8)for(var R=0;R<F;R+=4)_[R]=d[R],_[R+1]=d[R+1],_[R+2]=d[R+2],_[R+3]=d[R+3];if(N==16)for(R=0;R<F;R++)_[R]=d[R<<1]}else if(k==2){const F=y.tabs.tRNS;if(F==null){if(N==8)for(R=0;R<w;R++){var S=3*R;x[R]=255<<24|d[S+2]<<16|d[S+1]<<8|d[S]}if(N==16)for(R=0;R<w;R++)S=6*R,x[R]=255<<24|d[S+4]<<16|d[S+2]<<8|d[S]}else{var g=F[0];const H=F[1],oe=F[2];if(N==8)for(R=0;R<w;R++){var v=R<<2;S=3*R,x[R]=255<<24|d[S+2]<<16|d[S+1]<<8|d[S],d[S]==g&&d[S+1]==H&&d[S+2]==oe&&(_[v+3]=0)}if(N==16)for(R=0;R<w;R++)v=R<<2,S=6*R,x[R]=255<<24|d[S+4]<<16|d[S+2]<<8|d[S],D(d,S)==g&&D(d,S+2)==H&&D(d,S+4)==oe&&(_[v+3]=0)}}else if(k==3){const F=y.tabs.PLTE,H=y.tabs.tRNS,oe=H?H.length:0;if(N==1)for(var b=0;b<p;b++){var A=b*C,I=b*f;for(R=0;R<f;R++){v=I+R<<2;var T=3*(M=d[A+(R>>3)]>>7-((7&R)<<0)&1);_[v]=F[T],_[v+1]=F[T+1],_[v+2]=F[T+2],_[v+3]=M<oe?H[M]:255}}if(N==2)for(b=0;b<p;b++)for(A=b*C,I=b*f,R=0;R<f;R++)v=I+R<<2,T=3*(M=d[A+(R>>2)]>>6-((3&R)<<1)&3),_[v]=F[T],_[v+1]=F[T+1],_[v+2]=F[T+2],_[v+3]=M<oe?H[M]:255;if(N==4)for(b=0;b<p;b++)for(A=b*C,I=b*f,R=0;R<f;R++)v=I+R<<2,T=3*(M=d[A+(R>>1)]>>4-((1&R)<<2)&15),_[v]=F[T],_[v+1]=F[T+1],_[v+2]=F[T+2],_[v+3]=M<oe?H[M]:255;if(N==8)for(R=0;R<w;R++){var M;v=R<<2,T=3*(M=d[R]),_[v]=F[T],_[v+1]=F[T+1],_[v+2]=F[T+2],_[v+3]=M<oe?H[M]:255}}else if(k==4){if(N==8)for(R=0;R<w;R++){v=R<<2;var U=d[L=R<<1];_[v]=U,_[v+1]=U,_[v+2]=U,_[v+3]=d[L+1]}if(N==16)for(R=0;R<w;R++){var L;v=R<<2,U=d[L=R<<2],_[v]=U,_[v+1]=U,_[v+2]=U,_[v+3]=d[L+2]}}else if(k==0)for(g=y.tabs.tRNS?y.tabs.tRNS:-1,b=0;b<p;b++){const F=b*C,H=b*f;if(N==1)for(var j=0;j<f;j++){var B=(U=255*(d[F+(j>>>3)]>>>7-(7&j)&1))==255*g?0:255;x[H+j]=B<<24|U<<16|U<<8|U}else if(N==2)for(j=0;j<f;j++)B=(U=85*(d[F+(j>>>2)]>>>6-((3&j)<<1)&3))==85*g?0:255,x[H+j]=B<<24|U<<16|U<<8|U;else if(N==4)for(j=0;j<f;j++)B=(U=17*(d[F+(j>>>1)]>>>4-((1&j)<<2)&15))==17*g?0:255,x[H+j]=B<<24|U<<16|U<<8|U;else if(N==8)for(j=0;j<f;j++)B=(U=d[F+j])==g?0:255,x[H+j]=B<<24|U<<16|U<<8|U;else if(N==16)for(j=0;j<f;j++)U=d[F+(j<<1)],B=D(d,F+(j<<1))==g?0:255,x[H+j]=B<<24|U<<16|U<<8|U}return _}function n(d,f,p,y){const w=s(d),P=Math.ceil(p*w/8),C=new Uint8Array((P+1+d.interlace)*y);return f=d.tabs.CgBI?i(f,C):r(f,C),d.interlace==0?f=o(f,d,0,p,y):d.interlace==1&&(f=function(x,k){const N=k.width,D=k.height,R=s(k),S=R>>3,g=Math.ceil(N*R/8),v=new Uint8Array(D*g);let b=0;const A=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],T=[8,8,8,4,4,2,2],M=[8,8,4,4,2,2,1];let U=0;for(;U<7;){const j=T[U],B=M[U];let F=0,H=0,oe=A[U];for(;oe<D;)oe+=j,H++;let Y=I[U];for(;Y<N;)Y+=B,F++;const ie=Math.ceil(F*R/8);o(x,k,b,F,H);let X=0,G=A[U];for(;G<D;){let me=I[U],Ne=b+X*ie<<3;for(;me<N;){var L;if(R==1&&(L=(L=x[Ne>>3])>>7-(7&Ne)&1,v[G*g+(me>>3)]|=L<<7-((7&me)<<0)),R==2&&(L=(L=x[Ne>>3])>>6-(7&Ne)&3,v[G*g+(me>>2)]|=L<<6-((3&me)<<1)),R==4&&(L=(L=x[Ne>>3])>>4-(7&Ne)&15,v[G*g+(me>>1)]|=L<<4-((1&me)<<2)),R>=8){const Fe=G*g+me*S;for(let je=0;je<S;je++)v[Fe+je]=x[(Ne>>3)+je]}Ne+=R,me+=B}X++,G+=j}F*H!=0&&(b+=H*(1+ie)),U+=1}return v}(f,d)),f}function r(d,f){return i(new Uint8Array(d.buffer,2,d.length-6),f)}var i=function(){const d={H:{}};return d.H.N=function(f,p){const y=Uint8Array;let w,P,C=0,_=0,x=0,k=0,N=0,D=0,R=0,S=0,g=0;if(f[0]==3&&f[1]==0)return p||new y(0);const v=d.H,b=v.b,A=v.e,I=v.R,T=v.n,M=v.A,U=v.Z,L=v.m,j=p==null;for(j&&(p=new y(f.length>>>2<<5));C==0;)if(C=b(f,g,1),_=b(f,g+1,2),g+=3,_!=0){if(j&&(p=d.H.W(p,S+(1<<17))),_==1&&(w=L.J,P=L.h,D=511,R=31),_==2){x=A(f,g,5)+257,k=A(f,g+5,5)+1,N=A(f,g+10,4)+4,g+=14;let F=1;for(var B=0;B<38;B+=2)L.Q[B]=0,L.Q[B+1]=0;for(B=0;B<N;B++){const Y=A(f,g+3*B,3);L.Q[1+(L.X[B]<<1)]=Y,Y>F&&(F=Y)}g+=3*N,T(L.Q,F),M(L.Q,F,L.u),w=L.w,P=L.d,g=I(L.u,(1<<F)-1,x+k,f,g,L.v);const H=v.V(L.v,0,x,L.C);D=(1<<H)-1;const oe=v.V(L.v,x,k,L.D);R=(1<<oe)-1,T(L.C,H),M(L.C,H,w),T(L.D,oe),M(L.D,oe,P)}for(;;){const F=w[U(f,g)&D];g+=15&F;const H=F>>>4;if(!(H>>>8))p[S++]=H;else{if(H==256)break;{let oe=S+H-254;if(H>264){const me=L.q[H-257];oe=S+(me>>>3)+A(f,g,7&me),g+=7&me}const Y=P[U(f,g)&R];g+=15&Y;const ie=Y>>>4,X=L.c[ie],G=(X>>>4)+b(f,g,15&X);for(g+=15&X;S<oe;)p[S]=p[S++-G],p[S]=p[S++-G],p[S]=p[S++-G],p[S]=p[S++-G];S=oe}}}}else{7&g&&(g+=8-(7&g));const F=4+(g>>>3),H=f[F-4]|f[F-3]<<8;j&&(p=d.H.W(p,S+H)),p.set(new y(f.buffer,f.byteOffset+F,H),S),g=F+H<<3,S+=H}return p.length==S?p:p.slice(0,S)},d.H.W=function(f,p){const y=f.length;if(p<=y)return f;const w=new Uint8Array(y<<1);return w.set(f,0),w},d.H.R=function(f,p,y,w,P,C){const _=d.H.e,x=d.H.Z;let k=0;for(;k<y;){const N=f[x(w,P)&p];P+=15&N;const D=N>>>4;if(D<=15)C[k]=D,k++;else{let R=0,S=0;D==16?(S=3+_(w,P,2),P+=2,R=C[k-1]):D==17?(S=3+_(w,P,3),P+=3):D==18&&(S=11+_(w,P,7),P+=7);const g=k+S;for(;k<g;)C[k]=R,k++}}return P},d.H.V=function(f,p,y,w){let P=0,C=0;const _=w.length>>>1;for(;C<y;){const x=f[C+p];w[C<<1]=0,w[1+(C<<1)]=x,x>P&&(P=x),C++}for(;C<_;)w[C<<1]=0,w[1+(C<<1)]=0,C++;return P},d.H.n=function(f,p){const y=d.H.m,w=f.length;let P,C,_,x;const k=y.j;for(var N=0;N<=p;N++)k[N]=0;for(N=1;N<w;N+=2)k[f[N]]++;const D=y.K;for(P=0,k[0]=0,C=1;C<=p;C++)P=P+k[C-1]<<1,D[C]=P;for(_=0;_<w;_+=2)x=f[_+1],x!=0&&(f[_]=D[x],D[x]++)},d.H.A=function(f,p,y){const w=f.length,P=d.H.m.r;for(let C=0;C<w;C+=2)if(f[C+1]!=0){const _=C>>1,x=f[C+1],k=_<<4|x,N=p-x;let D=f[C]<<N;const R=D+(1<<N);for(;D!=R;)y[P[D]>>>15-p]=k,D++}},d.H.l=function(f,p){const y=d.H.m.r,w=15-p;for(let P=0;P<f.length;P+=2){const C=f[P]<<p-f[P+1];f[P]=y[C]>>>w}},d.H.M=function(f,p,y){y<<=7&p;const w=p>>>3;f[w]|=y,f[w+1]|=y>>>8},d.H.I=function(f,p,y){y<<=7&p;const w=p>>>3;f[w]|=y,f[w+1]|=y>>>8,f[w+2]|=y>>>16},d.H.e=function(f,p,y){return(f[p>>>3]|f[1+(p>>>3)]<<8)>>>(7&p)&(1<<y)-1},d.H.b=function(f,p,y){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)&(1<<y)-1},d.H.Z=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16)>>>(7&p)},d.H.i=function(f,p){return(f[p>>>3]|f[1+(p>>>3)]<<8|f[2+(p>>>3)]<<16|f[3+(p>>>3)]<<24)>>>(7&p)},d.H.m=function(){const f=Uint16Array,p=Uint32Array;return{K:new f(16),j:new f(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new f(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new p(32),J:new f(512),_:[],h:new f(32),$:[],w:new f(32768),C:[],v:[],d:new f(32768),D:[],u:new f(512),Q:[],r:new f(32768),s:new p(286),Y:new p(30),a:new p(19),t:new p(15e3),k:new f(65536),g:new f(32768)}}(),function(){const f=d.H.m;for(var p=0;p<32768;p++){let w=p;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,f.r[p]=(w>>>16|w<<16)>>>17}function y(w,P,C){for(;P--!=0;)w.push(0,C)}for(p=0;p<32;p++)f.q[p]=f.S[p]<<3|f.T[p],f.c[p]=f.p[p]<<4|f.z[p];y(f._,144,8),y(f._,112,9),y(f._,24,7),y(f._,8,8),d.H.n(f._,9),d.H.A(f._,9,f.J),d.H.l(f._,9),y(f.$,32,5),d.H.n(f.$,5),d.H.A(f.$,5,f.h),d.H.l(f.$,5),y(f.Q,19,0),y(f.C,286,0),y(f.D,30,0),y(f.v,320,0)}(),d.H.N}();function s(d){return[1,null,3,1,2,null,4][d.ctype]*d.depth}function o(d,f,p,y,w){let P=s(f);const C=Math.ceil(y*P/8);let _,x;P=Math.ceil(P/8);let k=d[p],N=0;if(k>1&&(d[p]=[0,0,1][k-2]),k==3)for(N=P;N<C;N++)d[N+1]=d[N+1]+(d[N+1-P]>>>1)&255;for(let D=0;D<w;D++)if(_=p+D*C,x=_+D+1,k=d[x-1],N=0,k==0)for(;N<C;N++)d[_+N]=d[x+N];else if(k==1){for(;N<P;N++)d[_+N]=d[x+N];for(;N<C;N++)d[_+N]=d[x+N]+d[_+N-P]}else if(k==2)for(;N<C;N++)d[_+N]=d[x+N]+d[_+N-C];else if(k==3){for(;N<P;N++)d[_+N]=d[x+N]+(d[_+N-C]>>>1);for(;N<C;N++)d[_+N]=d[x+N]+(d[_+N-C]+d[_+N-P]>>>1)}else{for(;N<P;N++)d[_+N]=d[x+N]+a(0,d[_+N-C],0);for(;N<C;N++)d[_+N]=d[x+N]+a(d[_+N-P],d[_+N-C],d[_+N-P-C])}return d}function a(d,f,p){const y=d+f-p,w=y-d,P=y-f,C=y-p;return w*w<=P*P&&w*w<=C*C?d:P*P<=C*C?f:p}function l(d,f,p){p.width=t.readUint(d,f),f+=4,p.height=t.readUint(d,f),f+=4,p.depth=d[f],f++,p.ctype=d[f],f++,p.compress=d[f],f++,p.filter=d[f],f++,p.interlace=d[f],f++}function u(d,f,p,y,w,P,C,_,x){const k=Math.min(f,w),N=Math.min(p,P);let D=0,R=0;for(let U=0;U<N;U++)for(let L=0;L<k;L++)if(C>=0&&_>=0?(D=U*f+L<<2,R=(_+U)*w+C+L<<2):(D=(-_+U)*f-C+L<<2,R=U*w+L<<2),x==0)y[R]=d[D],y[R+1]=d[D+1],y[R+2]=d[D+2],y[R+3]=d[D+3];else if(x==1){var S=d[D+3]*.00392156862745098,g=d[D]*S,v=d[D+1]*S,b=d[D+2]*S,A=y[R+3]*(1/255),I=y[R]*A,T=y[R+1]*A,M=y[R+2]*A;const j=1-S,B=S+A*j,F=B==0?0:1/B;y[R+3]=255*B,y[R+0]=(g+I*j)*F,y[R+1]=(v+T*j)*F,y[R+2]=(b+M*j)*F}else if(x==2)S=d[D+3],g=d[D],v=d[D+1],b=d[D+2],A=y[R+3],I=y[R],T=y[R+1],M=y[R+2],S==A&&g==I&&v==T&&b==M?(y[R]=0,y[R+1]=0,y[R+2]=0,y[R+3]=0):(y[R]=g,y[R+1]=v,y[R+2]=b,y[R+3]=S);else if(x==3){if(S=d[D+3],g=d[D],v=d[D+1],b=d[D+2],A=y[R+3],I=y[R],T=y[R+1],M=y[R+2],S==A&&g==I&&v==T&&b==M)continue;if(S<220&&A>20)return!1}return!0}return{decode:function(f){const p=new Uint8Array(f);let y=8;const w=t,P=w.readUshort,C=w.readUint,_={tabs:{},frames:[]},x=new Uint8Array(p.length);let k,N=0,D=0;const R=[137,80,78,71,13,10,26,10];for(var S=0;S<8;S++)if(p[S]!=R[S])throw"The input is not a PNG file!";for(;y<p.length;){const U=w.readUint(p,y);y+=4;const L=w.readASCII(p,y,4);if(y+=4,L=="IHDR")l(p,y,_);else if(L=="iCCP"){for(var g=y;p[g]!=0;)g++;w.readASCII(p,y,g-y),p[g+1];const j=p.slice(g+2,y+U);let B=null;try{B=r(j)}catch{B=i(j)}_.tabs[L]=B}else if(L=="CgBI")_.tabs[L]=p.slice(y,y+4);else if(L=="IDAT"){for(S=0;S<U;S++)x[N+S]=p[y+S];N+=U}else if(L=="acTL")_.tabs[L]={num_frames:C(p,y),num_plays:C(p,y+4)},k=new Uint8Array(p.length);else if(L=="fcTL"){D!=0&&((M=_.frames[_.frames.length-1]).data=n(_,k.slice(0,D),M.rect.width,M.rect.height),D=0);const j={x:C(p,y+12),y:C(p,y+16),width:C(p,y+4),height:C(p,y+8)};let B=P(p,y+22);B=P(p,y+20)/(B==0?100:B);const F={rect:j,delay:Math.round(1e3*B),dispose:p[y+24],blend:p[y+25]};_.frames.push(F)}else if(L=="fdAT"){for(S=0;S<U-4;S++)k[D+S]=p[y+S+4];D+=U-4}else if(L=="pHYs")_.tabs[L]=[w.readUint(p,y),w.readUint(p,y+4),p[y+8]];else if(L=="cHRM")for(_.tabs[L]=[],S=0;S<8;S++)_.tabs[L].push(w.readUint(p,y+4*S));else if(L=="tEXt"||L=="zTXt"){_.tabs[L]==null&&(_.tabs[L]={});var v=w.nextZero(p,y),b=w.readASCII(p,y,v-y),A=y+U-v-1;if(L=="tEXt")T=w.readASCII(p,v+1,A);else{var I=r(p.slice(v+2,v+2+A));T=w.readUTF8(I,0,I.length)}_.tabs[L][b]=T}else if(L=="iTXt"){_.tabs[L]==null&&(_.tabs[L]={}),v=0,g=y,v=w.nextZero(p,g),b=w.readASCII(p,g,v-g);const j=p[g=v+1];var T;p[g+1],g+=2,v=w.nextZero(p,g),w.readASCII(p,g,v-g),g=v+1,v=w.nextZero(p,g),w.readUTF8(p,g,v-g),A=U-((g=v+1)-y),j==0?T=w.readUTF8(p,g,A):(I=r(p.slice(g,g+A)),T=w.readUTF8(I,0,I.length)),_.tabs[L][b]=T}else if(L=="PLTE")_.tabs[L]=w.readBytes(p,y,U);else if(L=="hIST"){const j=_.tabs.PLTE.length/3;for(_.tabs[L]=[],S=0;S<j;S++)_.tabs[L].push(P(p,y+2*S))}else if(L=="tRNS")_.ctype==3?_.tabs[L]=w.readBytes(p,y,U):_.ctype==0?_.tabs[L]=P(p,y):_.ctype==2&&(_.tabs[L]=[P(p,y),P(p,y+2),P(p,y+4)]);else if(L=="gAMA")_.tabs[L]=w.readUint(p,y)/1e5;else if(L=="sRGB")_.tabs[L]=p[y];else if(L=="bKGD")_.ctype==0||_.ctype==4?_.tabs[L]=[P(p,y)]:_.ctype==2||_.ctype==6?_.tabs[L]=[P(p,y),P(p,y+2),P(p,y+4)]:_.ctype==3&&(_.tabs[L]=p[y]);else if(L=="IEND")break;y+=U,w.readUint(p,y),y+=4}var M;return D!=0&&((M=_.frames[_.frames.length-1]).data=n(_,k.slice(0,D),M.rect.width,M.rect.height)),_.data=n(_,x,_.width,_.height),delete _.compress,delete _.interlace,delete _.filter,_},toRGBA8:function(f){const p=f.width,y=f.height;if(f.tabs.acTL==null)return[e(f.data,p,y,f).buffer];const w=[];f.frames[0].data==null&&(f.frames[0].data=f.data);const P=p*y*4,C=new Uint8Array(P),_=new Uint8Array(P),x=new Uint8Array(P);for(let N=0;N<f.frames.length;N++){const D=f.frames[N],R=D.rect.x,S=D.rect.y,g=D.rect.width,v=D.rect.height,b=e(D.data,g,v,f);if(N!=0)for(var k=0;k<P;k++)x[k]=C[k];if(D.blend==0?u(b,g,v,C,p,y,R,S,0):D.blend==1&&u(b,g,v,C,p,y,R,S,1),w.push(C.buffer.slice(0)),D.dispose!=0){if(D.dispose==1)u(_,g,v,C,p,y,R,S,0);else if(D.dispose==2)for(k=0;k<P;k++)C[k]=x[k]}}return w},_paeth:a,_copyTile:u,_bin:t}}();(function(){const{_copyTile:t}=dr,{_bin:e}=dr,n=dr._paeth;var r={table:function(){const g=new Uint32Array(256);for(let v=0;v<256;v++){let b=v;for(let A=0;A<8;A++)1&b?b=3988292384^b>>>1:b>>>=1;g[v]=b}return g}(),update(g,v,b,A){for(let I=0;I<A;I++)g=r.table[255&(g^v[b+I])]^g>>>8;return g},crc:(g,v,b)=>4294967295^r.update(4294967295,g,v,b)};function i(g,v,b,A){v[b]+=g[0]*A>>4,v[b+1]+=g[1]*A>>4,v[b+2]+=g[2]*A>>4,v[b+3]+=g[3]*A>>4}function s(g){return Math.max(0,Math.min(255,g))}function o(g,v){const b=g[0]-v[0],A=g[1]-v[1],I=g[2]-v[2],T=g[3]-v[3];return b*b+A*A+I*I+T*T}function a(g,v,b,A,I,T,M){M==null&&(M=1);const U=A.length,L=[];for(var j=0;j<U;j++){const G=A[j];L.push([G>>>0&255,G>>>8&255,G>>>16&255,G>>>24&255])}for(j=0;j<U;j++){let G=4294967295;for(var B=0,F=0;F<U;F++){var H=o(L[j],L[F]);F!=j&&H<G&&(G=H,B=F)}}const oe=new Uint32Array(I.buffer),Y=new Int16Array(v*b*4),ie=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(j=0;j<ie.length;j++)ie[j]=255*((ie[j]+.5)/16-.5);for(let G=0;G<b;G++)for(let me=0;me<v;me++){var X;j=4*(G*v+me),M!=2?X=[s(g[j]+Y[j]),s(g[j+1]+Y[j+1]),s(g[j+2]+Y[j+2]),s(g[j+3]+Y[j+3])]:(H=ie[4*(3&G)+(3&me)],X=[s(g[j]+H),s(g[j+1]+H),s(g[j+2]+H),s(g[j+3]+H)]),B=0;let Ne=16777215;for(F=0;F<U;F++){const Be=o(X,L[F]);Be<Ne&&(Ne=Be,B=F)}const Fe=L[B],je=[X[0]-Fe[0],X[1]-Fe[1],X[2]-Fe[2],X[3]-Fe[3]];M==1&&(me!=v-1&&i(je,Y,j+4,7),G!=b-1&&(me!=0&&i(je,Y,j+4*v-4,3),i(je,Y,j+4*v,5),me!=v-1&&i(je,Y,j+4*v+4,1))),T[j>>2]=B,oe[j>>2]=A[B]}}function l(g,v,b,A,I){I==null&&(I={});const{crc:T}=r,M=e.writeUint,U=e.writeUshort,L=e.writeASCII;let j=8;const B=g.frames.length>1;let F,H=!1,oe=33+(B?20:0);if(I.sRGB!=null&&(oe+=13),I.pHYs!=null&&(oe+=21),I.iCCP!=null&&(F=pako.deflate(I.iCCP),oe+=21+F.length+4),g.ctype==3){for(var Y=g.plte.length,ie=0;ie<Y;ie++)g.plte[ie]>>>24!=255&&(H=!0);oe+=8+3*Y+4+(H?8+1*Y+4:0)}for(var X=0;X<g.frames.length;X++)B&&(oe+=38),oe+=(Fe=g.frames[X]).cimg.length+12,X!=0&&(oe+=4);oe+=12;const G=new Uint8Array(oe),me=[137,80,78,71,13,10,26,10];for(ie=0;ie<8;ie++)G[ie]=me[ie];if(M(G,j,13),j+=4,L(G,j,"IHDR"),j+=4,M(G,j,v),j+=4,M(G,j,b),j+=4,G[j]=g.depth,j++,G[j]=g.ctype,j++,G[j]=0,j++,G[j]=0,j++,G[j]=0,j++,M(G,j,T(G,j-17,17)),j+=4,I.sRGB!=null&&(M(G,j,1),j+=4,L(G,j,"sRGB"),j+=4,G[j]=I.sRGB,j++,M(G,j,T(G,j-5,5)),j+=4),I.iCCP!=null){const je=13+F.length;M(G,j,je),j+=4,L(G,j,"iCCP"),j+=4,L(G,j,"ICC profile"),j+=11,j+=2,G.set(F,j),j+=F.length,M(G,j,T(G,j-(je+4),je+4)),j+=4}if(I.pHYs!=null&&(M(G,j,9),j+=4,L(G,j,"pHYs"),j+=4,M(G,j,I.pHYs[0]),j+=4,M(G,j,I.pHYs[1]),j+=4,G[j]=I.pHYs[2],j++,M(G,j,T(G,j-13,13)),j+=4),B&&(M(G,j,8),j+=4,L(G,j,"acTL"),j+=4,M(G,j,g.frames.length),j+=4,M(G,j,I.loop!=null?I.loop:0),j+=4,M(G,j,T(G,j-12,12)),j+=4),g.ctype==3){for(M(G,j,3*(Y=g.plte.length)),j+=4,L(G,j,"PLTE"),j+=4,ie=0;ie<Y;ie++){const je=3*ie,Be=g.plte[ie],We=255&Be,tt=Be>>>8&255,bn=Be>>>16&255;G[j+je+0]=We,G[j+je+1]=tt,G[j+je+2]=bn}if(j+=3*Y,M(G,j,T(G,j-3*Y-4,3*Y+4)),j+=4,H){for(M(G,j,Y),j+=4,L(G,j,"tRNS"),j+=4,ie=0;ie<Y;ie++)G[j+ie]=g.plte[ie]>>>24&255;j+=Y,M(G,j,T(G,j-Y-4,Y+4)),j+=4}}let Ne=0;for(X=0;X<g.frames.length;X++){var Fe=g.frames[X];B&&(M(G,j,26),j+=4,L(G,j,"fcTL"),j+=4,M(G,j,Ne++),j+=4,M(G,j,Fe.rect.width),j+=4,M(G,j,Fe.rect.height),j+=4,M(G,j,Fe.rect.x),j+=4,M(G,j,Fe.rect.y),j+=4,U(G,j,A[X]),j+=2,U(G,j,1e3),j+=2,G[j]=Fe.dispose,j++,G[j]=Fe.blend,j++,M(G,j,T(G,j-30,30)),j+=4);const je=Fe.cimg;M(G,j,(Y=je.length)+(X==0?0:4)),j+=4;const Be=j;L(G,j,X==0?"IDAT":"fdAT"),j+=4,X!=0&&(M(G,j,Ne++),j+=4),G.set(je,j),j+=Y,M(G,j,T(G,Be,j-Be)),j+=4}return M(G,j,0),j+=4,L(G,j,"IEND"),j+=4,M(G,j,T(G,j-4,4)),j+=4,G.buffer}function u(g,v,b){for(let A=0;A<g.frames.length;A++){const I=g.frames[A];I.rect.width;const T=I.rect.height,M=new Uint8Array(T*I.bpl+T);I.cimg=y(I.img,T,I.bpp,I.bpl,M,v,b)}}function d(g,v,b,A,I){const T=I[0],M=I[1],U=I[2],L=I[3],j=I[4],B=I[5];let F=6,H=8,oe=255;for(var Y=0;Y<g.length;Y++){const kt=new Uint8Array(g[Y]);for(var ie=kt.length,X=0;X<ie;X+=4)oe&=kt[X+3]}const G=oe!=255,me=function(Ze,V,z,q,ee,te){const Z=[];for(var se=0;se<Ze.length;se++){const mt=new Uint8Array(Ze[se]),zt=new Uint32Array(mt.buffer);var xe;let It=0,dn=0,hn=V,Tn=z,Ga=q?1:0;if(se!=0){const Of=te||q||se==1||Z[se-2].dispose!=0?1:2;let Os=0,Qa=1e9;for(let Ai=0;Ai<Of;Ai++){var be=new Uint8Array(Ze[se-1-Ai]);const js=new Uint32Array(Ze[se-1-Ai]);let Yn=V,Zn=z,kn=-1,Ci=-1;for(let Ir=0;Ir<z;Ir++)for(let Dn=0;Dn<V;Dn++)zt[He=Ir*V+Dn]!=js[He]&&(Dn<Yn&&(Yn=Dn),Dn>kn&&(kn=Dn),Ir<Zn&&(Zn=Ir),Ir>Ci&&(Ci=Ir));kn==-1&&(Yn=Zn=kn=Ci=0),ee&&((1&Yn)==1&&Yn--,(1&Zn)==1&&Zn--);const Ds=(kn-Yn+1)*(Ci-Zn+1);Ds<Qa&&(Qa=Ds,Os=Ai,It=Yn,dn=Zn,hn=kn-Yn+1,Tn=Ci-Zn+1)}be=new Uint8Array(Ze[se-1-Os]),Os==1&&(Z[se-1].dispose=2),xe=new Uint8Array(hn*Tn*4),t(be,V,z,xe,hn,Tn,-It,-dn,0),Ga=t(mt,V,z,xe,hn,Tn,-It,-dn,3)?1:0,Ga==1?p(mt,V,z,xe,{x:It,y:dn,width:hn,height:Tn}):t(mt,V,z,xe,hn,Tn,-It,-dn,0)}else xe=mt.slice(0);Z.push({rect:{x:It,y:dn,width:hn,height:Tn},img:xe,blend:Ga,dispose:0})}if(q)for(se=0;se<Z.length;se++){if((Qn=Z[se]).blend==1)continue;const mt=Qn.rect,zt=Z[se-1].rect,It=Math.min(mt.x,zt.x),dn=Math.min(mt.y,zt.y),hn={x:It,y:dn,width:Math.max(mt.x+mt.width,zt.x+zt.width)-It,height:Math.max(mt.y+mt.height,zt.y+zt.height)-dn};Z[se-1].dispose=1,se-1!=0&&f(Ze,V,z,Z,se-1,hn,ee),f(Ze,V,z,Z,se,hn,ee)}let Ce=0;if(Ze.length!=1)for(var He=0;He<Z.length;He++){var Qn;Ce+=(Qn=Z[He]).rect.width*Qn.rect.height}return Z}(g,v,b,T,M,U),Ne={},Fe=[],je=[];if(A!=0){const kt=[];for(X=0;X<me.length;X++)kt.push(me[X].img.buffer);const Ze=function(ee){let te=0;for(var Z=0;Z<ee.length;Z++)te+=ee[Z].byteLength;const se=new Uint8Array(te);let xe=0;for(Z=0;Z<ee.length;Z++){const be=new Uint8Array(ee[Z]),Ce=be.length;for(let He=0;He<Ce;He+=4){let Qn=be[He],mt=be[He+1],zt=be[He+2];const It=be[He+3];It==0&&(Qn=mt=zt=0),se[xe+He]=Qn,se[xe+He+1]=mt,se[xe+He+2]=zt,se[xe+He+3]=It}xe+=Ce}return se.buffer}(kt),V=P(Ze,A);for(X=0;X<V.plte.length;X++)Fe.push(V.plte[X].est.rgba);let z=0;for(X=0;X<me.length;X++){const q=(We=me[X]).img.length;var Be=new Uint8Array(V.inds.buffer,z>>2,q>>2);je.push(Be);const ee=new Uint8Array(V.abuf,z,q);B&&a(We.img,We.rect.width,We.rect.height,Fe,ee,Be),We.img.set(ee),z+=q}}else for(Y=0;Y<me.length;Y++){var We=me[Y];const kt=new Uint32Array(We.img.buffer);var tt=We.rect.width;for(ie=kt.length,Be=new Uint8Array(ie),je.push(Be),X=0;X<ie;X++){const Ze=kt[X];if(X!=0&&Ze==kt[X-1])Be[X]=Be[X-1];else if(X>tt&&Ze==kt[X-tt])Be[X]=Be[X-tt];else{let V=Ne[Ze];if(V==null&&(Ne[Ze]=V=Fe.length,Fe.push(Ze),Fe.length>=300))break;Be[X]=V}}}const bn=Fe.length;for(bn<=256&&j==0&&(H=bn<=2?1:bn<=4?2:bn<=16?4:8,H=Math.max(H,L)),Y=0;Y<me.length;Y++){(We=me[Y]).rect.x,We.rect.y,tt=We.rect.width;const kt=We.rect.height;let Ze=We.img;new Uint32Array(Ze.buffer);let V=4*tt,z=4;if(bn<=256&&j==0){V=Math.ceil(H*tt/8);var Bt=new Uint8Array(V*kt);const q=je[Y];for(let ee=0;ee<kt;ee++){X=ee*V;const te=ee*tt;if(H==8)for(var Ye=0;Ye<tt;Ye++)Bt[X+Ye]=q[te+Ye];else if(H==4)for(Ye=0;Ye<tt;Ye++)Bt[X+(Ye>>1)]|=q[te+Ye]<<4-4*(1&Ye);else if(H==2)for(Ye=0;Ye<tt;Ye++)Bt[X+(Ye>>2)]|=q[te+Ye]<<6-2*(3&Ye);else if(H==1)for(Ye=0;Ye<tt;Ye++)Bt[X+(Ye>>3)]|=q[te+Ye]<<7-1*(7&Ye)}Ze=Bt,F=3,z=1}else if(G==0&&me.length==1){Bt=new Uint8Array(tt*kt*3);const q=tt*kt;for(X=0;X<q;X++){const ee=3*X,te=4*X;Bt[ee]=Ze[te],Bt[ee+1]=Ze[te+1],Bt[ee+2]=Ze[te+2]}Ze=Bt,F=2,z=3,V=3*tt}We.img=Ze,We.bpl=V,We.bpp=z}return{ctype:F,depth:H,plte:Fe,frames:me}}function f(g,v,b,A,I,T,M){const U=Uint8Array,L=Uint32Array,j=new U(g[I-1]),B=new L(g[I-1]),F=I+1<g.length?new U(g[I+1]):null,H=new U(g[I]),oe=new L(H.buffer);let Y=v,ie=b,X=-1,G=-1;for(let Ne=0;Ne<T.height;Ne++)for(let Fe=0;Fe<T.width;Fe++){const je=T.x+Fe,Be=T.y+Ne,We=Be*v+je,tt=oe[We];tt==0||A[I-1].dispose==0&&B[We]==tt&&(F==null||F[4*We+3]!=0)||(je<Y&&(Y=je),je>X&&(X=je),Be<ie&&(ie=Be),Be>G&&(G=Be))}X==-1&&(Y=ie=X=G=0),M&&((1&Y)==1&&Y--,(1&ie)==1&&ie--),T={x:Y,y:ie,width:X-Y+1,height:G-ie+1};const me=A[I];me.rect=T,me.blend=1,me.img=new Uint8Array(T.width*T.height*4),A[I-1].dispose==0?(t(j,v,b,me.img,T.width,T.height,-T.x,-T.y,0),p(H,v,b,me.img,T)):t(H,v,b,me.img,T.width,T.height,-T.x,-T.y,0)}function p(g,v,b,A,I){t(g,v,b,A,I.width,I.height,-I.x,-I.y,2)}function y(g,v,b,A,I,T,M){const U=[];let L,j=[0,1,2,3,4];T!=-1?j=[T]:(v*A>5e5||b==1)&&(j=[0]),M&&(L={level:0});const B=z7;for(var F=0;F<j.length;F++){for(let Y=0;Y<v;Y++)w(I,g,Y,A,b,j[F]);U.push(B.deflate(I,L))}let H,oe=1e9;for(F=0;F<U.length;F++)U[F].length<oe&&(H=F,oe=U[F].length);return U[H]}function w(g,v,b,A,I,T){const M=b*A;let U=M+b;if(g[U]=T,U++,T==0)if(A<500)for(var L=0;L<A;L++)g[U+L]=v[M+L];else g.set(new Uint8Array(v.buffer,M,A),U);else if(T==1){for(L=0;L<I;L++)g[U+L]=v[M+L];for(L=I;L<A;L++)g[U+L]=v[M+L]-v[M+L-I]+256&255}else if(b==0){for(L=0;L<I;L++)g[U+L]=v[M+L];if(T==2)for(L=I;L<A;L++)g[U+L]=v[M+L];if(T==3)for(L=I;L<A;L++)g[U+L]=v[M+L]-(v[M+L-I]>>1)+256&255;if(T==4)for(L=I;L<A;L++)g[U+L]=v[M+L]-n(v[M+L-I],0,0)+256&255}else{if(T==2)for(L=0;L<A;L++)g[U+L]=v[M+L]+256-v[M+L-A]&255;if(T==3){for(L=0;L<I;L++)g[U+L]=v[M+L]+256-(v[M+L-A]>>1)&255;for(L=I;L<A;L++)g[U+L]=v[M+L]+256-(v[M+L-A]+v[M+L-I]>>1)&255}if(T==4){for(L=0;L<I;L++)g[U+L]=v[M+L]+256-n(0,v[M+L-A],0)&255;for(L=I;L<A;L++)g[U+L]=v[M+L]+256-n(v[M+L-I],v[M+L-A],v[M+L-I-A])&255}}}function P(g,v){const b=new Uint8Array(g),A=b.slice(0),I=new Uint32Array(A.buffer),T=C(A,v),M=T[0],U=T[1],L=b.length,j=new Uint8Array(L>>2);let B;if(b.length<2e7)for(var F=0;F<L;F+=4)B=_(M,H=b[F]*(1/255),oe=b[F+1]*(1/255),Y=b[F+2]*(1/255),ie=b[F+3]*(1/255)),j[F>>2]=B.ind,I[F>>2]=B.est.rgba;else for(F=0;F<L;F+=4){var H=b[F]*.00392156862745098,oe=b[F+1]*(1/255),Y=b[F+2]*(1/255),ie=b[F+3]*(1/255);for(B=M;B.left;)B=x(B.est,H,oe,Y,ie)<=0?B.left:B.right;j[F>>2]=B.ind,I[F>>2]=B.est.rgba}return{abuf:A.buffer,inds:j,plte:U}}function C(g,v,b){b==null&&(b=1e-4);const A=new Uint32Array(g.buffer),I={i0:0,i1:g.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=D(g,I.i0,I.i1),I.est=R(I.bst);const T=[I];for(;T.length<v;){let U=0,L=0;for(var M=0;M<T.length;M++)T[M].est.L>U&&(U=T[M].est.L,L=M);if(U<b)break;const j=T[L],B=k(g,A,j.i0,j.i1,j.est.e,j.est.eMq255);if(j.i0>=B||j.i1<=B){j.est.L=0;continue}const F={i0:j.i0,i1:B,bst:null,est:null,tdst:0,left:null,right:null};F.bst=D(g,F.i0,F.i1),F.est=R(F.bst);const H={i0:B,i1:j.i1,bst:null,est:null,tdst:0,left:null,right:null};for(H.bst={R:[],m:[],N:j.bst.N-F.bst.N},M=0;M<16;M++)H.bst.R[M]=j.bst.R[M]-F.bst.R[M];for(M=0;M<4;M++)H.bst.m[M]=j.bst.m[M]-F.bst.m[M];H.est=R(H.bst),j.left=F,j.right=H,T[L]=F,T.push(H)}for(T.sort((U,L)=>L.bst.N-U.bst.N),M=0;M<T.length;M++)T[M].ind=M;return[I,T]}function _(g,v,b,A,I){if(g.left==null)return g.tdst=function(F,H,oe,Y,ie){const X=H-F[0],G=oe-F[1],me=Y-F[2],Ne=ie-F[3];return X*X+G*G+me*me+Ne*Ne}(g.est.q,v,b,A,I),g;const T=x(g.est,v,b,A,I);let M=g.left,U=g.right;T>0&&(M=g.right,U=g.left);const L=_(M,v,b,A,I);if(L.tdst<=T*T)return L;const j=_(U,v,b,A,I);return j.tdst<L.tdst?j:L}function x(g,v,b,A,I){const{e:T}=g;return T[0]*v+T[1]*b+T[2]*A+T[3]*I-g.eMq}function k(g,v,b,A,I,T){for(A-=4;b<A;){for(;N(g,b,I)<=T;)b+=4;for(;N(g,A,I)>T;)A-=4;if(b>=A)break;const M=v[b>>2];v[b>>2]=v[A>>2],v[A>>2]=M,b+=4,A-=4}for(;N(g,b,I)>T;)b-=4;return b+4}function N(g,v,b){return g[v]*b[0]+g[v+1]*b[1]+g[v+2]*b[2]+g[v+3]*b[3]}function D(g,v,b){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],T=b-v>>2;for(let M=v;M<b;M+=4){const U=g[M]*.00392156862745098,L=g[M+1]*(1/255),j=g[M+2]*(1/255),B=g[M+3]*(1/255);I[0]+=U,I[1]+=L,I[2]+=j,I[3]+=B,A[0]+=U*U,A[1]+=U*L,A[2]+=U*j,A[3]+=U*B,A[5]+=L*L,A[6]+=L*j,A[7]+=L*B,A[10]+=j*j,A[11]+=j*B,A[15]+=B*B}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:I,N:T}}function R(g){const{R:v}=g,{m:b}=g,{N:A}=g,I=b[0],T=b[1],M=b[2],U=b[3],L=A==0?0:1/A,j=[v[0]-I*I*L,v[1]-I*T*L,v[2]-I*M*L,v[3]-I*U*L,v[4]-T*I*L,v[5]-T*T*L,v[6]-T*M*L,v[7]-T*U*L,v[8]-M*I*L,v[9]-M*T*L,v[10]-M*M*L,v[11]-M*U*L,v[12]-U*I*L,v[13]-U*T*L,v[14]-U*M*L,v[15]-U*U*L],B=j,F=S;let H=[Math.random(),Math.random(),Math.random(),Math.random()],oe=0,Y=0;if(A!=0)for(let X=0;X<16&&(H=F.multVec(B,H),Y=Math.sqrt(F.dot(H,H)),H=F.sml(1/Y,H),!(X!=0&&Math.abs(Y-oe)<1e-9));X++)oe=Y;const ie=[I*L,T*L,M*L,U*L];return{Cov:j,q:ie,e:H,L:oe,eMq255:F.dot(F.sml(255,ie),H),eMq:F.dot(H,ie),rgba:(Math.round(255*ie[3])<<24|Math.round(255*ie[2])<<16|Math.round(255*ie[1])<<8|Math.round(255*ie[0])<<0)>>>0}}var S={multVec:(g,v)=>[g[0]*v[0]+g[1]*v[1]+g[2]*v[2]+g[3]*v[3],g[4]*v[0]+g[5]*v[1]+g[6]*v[2]+g[7]*v[3],g[8]*v[0]+g[9]*v[1]+g[10]*v[2]+g[11]*v[3],g[12]*v[0]+g[13]*v[1]+g[14]*v[2]+g[15]*v[3]],dot:(g,v)=>g[0]*v[0]+g[1]*v[1]+g[2]*v[2]+g[3]*v[3],sml:(g,v)=>[g*v[0],g*v[1],g*v[2],g*v[3]]};dr.encode=function(v,b,A,I,T,M,U){I==null&&(I=0),U==null&&(U=!1);const L=d(v,b,A,I,[!1,!1,!1,0,U,!1]);return u(L,-1),l(L,b,A,T,M)},dr.encodeLL=function(v,b,A,I,T,M,U,L){const j={ctype:0+(I==1?0:2)+(T==0?0:4),depth:M,frames:[]},B=(I+T)*M,F=B*b;for(let H=0;H<v.length;H++)j.frames.push({rect:{x:0,y:0,width:b,height:A},img:new Uint8Array(v[H]),blend:0,dispose:1,bpp:Math.ceil(B/8),bpl:Math.ceil(F/8)});return u(j,0,!0),l(j,b,A,U,L)},dr.encode.compress=d,dr.encode.dither=a,dr.quantize=P,dr.quantize.getKDtree=C,dr.quantize.getNearest=_})();const Bk={toArrayBuffer(t,e){const n=t.width,r=t.height,i=n<<2,s=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(s.data.buffer),a=(32*n+31)/32<<2,l=a*r,u=122+l,d=new ArrayBuffer(u),f=new DataView(d),p=1<<20;let y,w,P,C,_=p,x=0,k=0,N=0;function D(g){f.setUint16(k,g,!0),k+=2}function R(g){f.setUint32(k,g,!0),k+=4}function S(g){k+=g}D(19778),R(u),S(4),R(122),R(108),R(n),R(-r>>>0),D(1),D(32),R(3),R(l),R(2835),R(2835),S(8),R(16711680),R(65280),R(255),R(4278190080),R(1466527264),function g(){for(;x<r&&_>0;){for(C=122+x*a,y=0;y<i;)_--,w=o[N++],P=w>>>24,f.setUint32(C+y,w<<8|P),y+=4;x++}N<o.length?(_=p,setTimeout(g,Bk._dly)):e(d)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var An={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},$7={[An.CHROME]:16384,[An.FIREFOX]:11180,[An.DESKTOP_SAFARI]:16384,[An.IE]:8192,[An.IOS]:4096,[An.ETC]:8192};const Jy=typeof window<"u",zk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Ah=Jy&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),W7=(Jy||zk)&&(Ah&&Ah.getOriginalSymbol(window,"File")||typeof File<"u"&&File),$k=(Jy||zk)&&(Ah&&Ah.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ev(t,e,n=Date.now()){return new Promise(r=>{const i=t.split(","),s=i[0].match(/:(.*?);/)[1],o=globalThis.atob(i[1]);let a=o.length;const l=new Uint8Array(a);for(;a--;)l[a]=o.charCodeAt(a);const u=new Blob([l],{type:s});u.name=e,u.lastModified=n,r(u)})}function Wk(t){return new Promise((e,n)=>{const r=new $k;r.onload=()=>e(r.result),r.onerror=i=>n(i),r.readAsDataURL(t)})}function Hk(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=i=>n(i),r.src=t})}function Gs(){if(Gs.cachedResult!==void 0)return Gs.cachedResult;let t=An.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=An.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=An.IOS:/Safari/i.test(e)?t=An.DESKTOP_SAFARI:/Firefox/i.test(e)?t=An.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=An.IE),Gs.cachedResult=t,Gs.cachedResult}function qk(t,e){const n=Gs(),r=$7[n];let i=t,s=e,o=i*s;const a=i>s?s/i:i/s;for(;o>r*r;){const l=(r+i)/2,u=(r+s)/2;l<u?(s=u,i=u*a):(s=l*a,i=l),o=i*s}return{width:i,height:s}}function Rf(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function Kk(t,e){const{width:n,height:r}=qk(t.width,t.height),[i,s]=Rf(n,r);return e&&/jpe?g/.test(e)&&(s.fillStyle="white",s.fillRect(0,0,i.width,i.height)),s.drawImage(t,0,0,i.width,i.height),i}function wd(){return wd.cachedResult!==void 0||(wd.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),wd.cachedResult}function Ch(t,e={}){return new Promise(function(n,r){let i,s;var o=function(){try{return s=Kk(i,e.fileType||t.type),n([i,s])}catch(l){return r(l)}},a=function(l){try{var u=function(d){try{throw d}catch(f){return r(f)}};try{let d;return Wk(t).then(function(f){try{return d=f,Hk(d).then(function(p){try{return i=p,function(){try{return o()}catch(y){return r(y)}}()}catch(y){return u(y)}},u)}catch(p){return u(p)}},u)}catch(d){u(d)}}catch(d){return r(d)}};try{if(wd()||[An.DESKTOP_SAFARI,An.MOBILE_SAFARI].includes(Gs()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(l){try{return i=l,o()}catch{return a()}},a)}catch{a()}})}function Nh(t,e,n,r,i=1){return new Promise(function(s,o){let a;if(e==="image/png"){let f,p,y;return f=t.getContext("2d"),{data:p}=f.getImageData(0,0,t.width,t.height),y=dr.encode([p.buffer],t.width,t.height,4096*i),a=new Blob([y],{type:e}),a.name=n,a.lastModified=r,l.call(this)}{let f=function(){return l.call(this)};var u=f;if(e==="image/bmp")return new Promise(p=>Bk.toBlob(t,p)).then((function(p){try{return a=p,a.name=n,a.lastModified=r,f.call(this)}catch(y){return o(y)}}).bind(this),o);{let p=function(){return f.call(this)};var d=p;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:i}).then((function(y){try{return a=y,a.name=n,a.lastModified=r,p.call(this)}catch(w){return o(w)}}).bind(this),o);{let y;return y=t.toDataURL(e,i),ev(y,n,r).then((function(w){try{return a=w,p.call(this)}catch(P){return o(P)}}).bind(this),o)}}}function l(){return s(a)}})}function Pr(t){t.width=0,t.height=0}function ea(){return new Promise(function(t,e){let n,r,i,s;return ea.cachedResult!==void 0?t(ea.cachedResult):ev("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,Ch(n).then(function(a){try{return r=a[1],Nh(r,n.type,n.name,n.lastModified).then(function(l){try{return i=l,Pr(r),Ch(i).then(function(u){try{return s=u[0],ea.cachedResult=s.width===1&&s.height===2,t(ea.cachedResult)}catch(d){return e(d)}},e)}catch(u){return e(u)}},e)}catch(l){return e(l)}},e)}catch(a){return e(a)}},e)})}function Gk(t){return new Promise((e,n)=>{const r=new $k;r.onload=i=>{const s=new DataView(i.target.result);if(s.getUint16(0,!1)!=65496)return e(-2);const o=s.byteLength;let a=2;for(;a<o;){if(s.getUint16(a+2,!1)<=8)return e(-1);const l=s.getUint16(a,!1);if(a+=2,l==65505){if(s.getUint32(a+=2,!1)!=1165519206)return e(-1);const u=s.getUint16(a+=6,!1)==18761;a+=s.getUint32(a+4,u);const d=s.getUint16(a,u);a+=2;for(let f=0;f<d;f++)if(s.getUint16(a+12*f,u)==274)return e(s.getUint16(a+12*f+8,u))}else{if((65280&l)!=65280)break;a+=s.getUint16(a,!1)}}return e(-1)},r.onerror=i=>n(i),r.readAsArrayBuffer(t)})}function Qk(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:i}=e;let s,o=t;return isFinite(i)&&(n>i||r>i)&&([o,s]=Rf(n,r),n>r?(o.width=i,o.height=r/n*i):(o.width=n/r*i,o.height=i),s.drawImage(t,0,0,o.width,o.height),Pr(t)),o}function Yk(t,e){const{width:n}=t,{height:r}=t,[i,s]=Rf(n,r);switch(e>4&&e<9?(i.width=r,i.height=n):(i.width=n,i.height=r),e){case 2:s.transform(-1,0,0,1,n,0);break;case 3:s.transform(-1,0,0,-1,n,r);break;case 4:s.transform(1,0,0,-1,0,r);break;case 5:s.transform(0,1,1,0,0,0);break;case 6:s.transform(0,1,-1,0,r,0);break;case 7:s.transform(0,-1,-1,0,r,n);break;case 8:s.transform(0,-1,1,0,0,n)}return s.drawImage(t,0,0,n,r),Pr(t),i}function mw(t,e,n=0){return new Promise(function(r,i){let s,o,a,l,u,d,f,p,y,w,P,C,_,x,k,N,D,R,S,g;function v(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;s+=A,e.onProgress(Math.min(s,100))}function b(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;s=Math.min(Math.max(A,s),100),e.onProgress(s)}return s=n,o=e.maxIteration||10,a=1024*e.maxSizeMB*1024,v(),Ch(t,e).then((function(A){try{return[,l]=A,v(),u=Qk(l,e),v(),new Promise(function(I,T){var M;if(!(M=e.exifOrientation))return Gk(t).then((function(L){try{return M=L,U.call(this)}catch(j){return T(j)}}).bind(this),T);function U(){return I(M)}return U.call(this)}).then((function(I){try{return d=I,v(),ea().then((function(T){try{return f=T?u:Yk(u,d),v(),p=e.initialQuality||1,y=e.fileType||t.type,Nh(f,y,t.name,t.lastModified,p).then((function(M){try{{let B=function(){if(o--&&(k>a||k>_)){let H,oe;return H=g?.95*S.width:S.width,oe=g?.95*S.height:S.height,[D,R]=Rf(H,oe),R.drawImage(S,0,0,H,oe),p*=y==="image/png"?.85:.95,Nh(D,y,t.name,t.lastModified,p).then(function(Y){try{return N=Y,Pr(S),S=D,k=N.size,b(Math.min(99,Math.floor((x-k)/(x-a)*100))),B}catch(ie){return i(ie)}},i)}return[1]},F=function(){return Pr(S),Pr(D),Pr(u),Pr(f),Pr(l),b(100),r(N)};var L=B,j=F;if(w=M,v(),P=w.size>a,C=w.size>t.size,!P&&!C)return b(100),r(w);var U;return _=t.size,x=w.size,k=x,S=f,g=!e.alwaysKeepResolution&&P,(U=(function(H){for(;H;){if(H.then)return void H.then(U,i);try{if(H.pop){if(H.length)return H.pop()?F.call(this):H;H=B}else H=H.call(this)}catch(oe){return i(oe)}}}).bind(this))(B)}}catch(B){return i(B)}}).bind(this),i)}catch(M){return i(M)}}).bind(this),i)}catch(T){return i(T)}}).bind(this),i)}catch(I){return i(I)}}).bind(this),i)})}const H7=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let zp;function q7(t,e){return new Promise((n,r)=>{zp||(zp=function(o){const a=[];return a.push(o),URL.createObjectURL(new Blob(a))}(H7));const i=new Worker(zp);i.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)i.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void i.terminate();n(o.data.file),i.terminate()}else e.onProgress(o.data.progress)}),i.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),i.terminate()}),i.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function rn(t,e){return new Promise(function(n,r){let i,s,o,a,l,u;if(i={...e},o=0,{onProgress:a}=i,i.maxSizeMB=i.maxSizeMB||Number.POSITIVE_INFINITY,l=typeof i.useWebWorker!="boolean"||i.useWebWorker,delete i.useWebWorker,i.onProgress=y=>{o=y,typeof a=="function"&&a(o)},!(t instanceof Blob||t instanceof W7))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(u=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!l||typeof Worker!="function"||u)return mw(t,i).then((function(y){try{return s=y,p.call(this)}catch(w){return r(w)}}).bind(this),r);var d=(function(){try{return p.call(this)}catch(y){return r(y)}}).bind(this),f=function(y){try{return mw(t,i).then(function(w){try{return s=w,d()}catch(P){return r(P)}},r)}catch(w){return r(w)}};try{return i.libURL=i.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",q7(t,i).then(function(y){try{return s=y,d()}catch{return f()}},f)}catch{f()}function p(){try{s.name=t.name,s.lastModified=t.lastModified}catch{}try{i.preserveExif&&t.type==="image/jpeg"&&(!i.fileType||i.fileType&&i.fileType===t.type)&&(s=Uk(t,s))}catch{}return n(s)}})}rn.getDataUrlFromFile=Wk,rn.getFilefromDataUrl=ev,rn.loadImage=Hk,rn.drawImageInCanvas=Kk,rn.drawFileInCanvas=Ch,rn.canvasToFile=Nh,rn.getExifOrientation=Gk,rn.handleMaxWidthOrHeight=Qk,rn.followExifOrientation=Yk,rn.cleanupCanvasMemory=Pr,rn.isAutoOrientationInBrowser=ea,rn.approximateBelowMaximumCanvasSizeOfBrowser=qk,rn.copyExifWithoutOrientation=Uk,rn.getBrowserName=Gs,rn.version="2.0.2";const K7=At.object({bookName:At.string().min(1,"Book name is required"),category:At.string().min(1,"Category is required"),bookLanguage:At.string().min(1,"Language is required"),author:At.string().min(1,"Author is required"),edition:At.string().min(1,"Edition is required"),publishYear:At.string().length(4,"Must be a valid year").refine(t=>{const e=parseInt(t),n=new Date().getFullYear();return e>=1800&&e<=n},"Year must be between 1800 and current year"),bookFor:At.enum(["donation","sell","rent"],{required_error:"Please select an option"}),originalPrice:At.number({required_error:"Original price is required",invalid_type_error:"Original price must be a number"}).nonnegative("Price cannot be negative").optional(),sellingPrice:At.number({invalid_type_error:"Selling price must be a number"}).nonnegative("Price cannot be negative").optional(),perWeekPrice:At.number({invalid_type_error:"Per week price must be a number"}).nonnegative("Price cannot be negative").optional(),description:At.string().optional()}).refine(t=>t.bookFor==="sell"?typeof t.originalPrice=="number"&&typeof t.sellingPrice=="number":!0,{message:"Original price and selling price are required for selling books",path:["sellingPrice"]}).refine(t=>t.bookFor==="rent"?typeof t.originalPrice=="number"&&typeof t.perWeekPrice=="number":!0,{message:"Original price and per week price are required for renting books",path:["perWeekPrice"]}).refine(t=>t.bookFor==="sell"&&typeof t.originalPrice=="number"&&typeof t.sellingPrice=="number"?t.sellingPrice<=t.originalPrice*.4:!0,{message:"Selling price must be less than 40% of original price",path:["sellingPrice"]}).refine(t=>t.bookFor==="rent"&&typeof t.originalPrice=="number"&&typeof t.perWeekPrice=="number"?t.perWeekPrice<=t.originalPrice*.06:!0,{message:"Per week price must be less than 6% of original price",path:["perWeekPrice"]}),G7=()=>{const t=Ut.currentUser,[e,n]=W.useState(!1),[r,i]=W.useState("/image/addbook.png"),[s,o]=W.useState(null),{register:a,handleSubmit:l,formState:{errors:u},watch:d,reset:f}=Pg({resolver:Rg(K7),defaultValues:{bookFor:"donation",originalPrice:0,sellingPrice:0,perWeekPrice:0}}),p=d("bookFor"),y=d("originalPrice")||0,w=async C=>{if(!s){alert("Please select a book image");return}try{n(!0);const x=await rn(s,{maxSizeMB:.8,maxWidthOrHeight:1920,useWebWorker:!0});console.log(x,s);const k=m6(zD,`books/${x.lastModified}`);await f6(k,x);const N=await p6(k),D={title:mh(C.bookName),author:C.author,category:C.category,publishYear:C.publishYear,language:C.bookLanguage,originalPrice:C.originalPrice||0,sellingPrice:C.sellingPrice||0,perWeekPrice:C.perWeekPrice||0,edition:C.edition,description:C.description||"",sellerId:t==null?void 0:t.uid,sellerName:(t==null?void 0:t.displayName)||"",updatedAt:new Date().toISOString(),condition:"new",images:[N],availability:C.bookFor,postedAt:Pt.now()};switch(C.bookFor){case"rent":delete D.sellingPrice;break;case"donation":delete D.perWeekPrice,delete D.sellingPrice,delete D.originalPrice;break;case"sell":delete D.perWeekPrice;break}await Ig(Lt(Me,"pendingBooks"),D),i("/image/addbook.png"),o(null),f(),alert("Book added successfully!")}catch(_){console.error("Error adding book:",_),alert("Error adding book. Please try again.")}finally{n(!1)}},P=C=>{const _=C.target.files[0];if(_){if(_.size>5*1024*1024){alert("File size should be less than 5MB");return}o(_);const x=new FileReader;x.onloadend=()=>{i(x.result)},x.readAsDataURL(_)}};return h.jsx("div",{className:"container mx-auto px-4 lg:mt-10 mb-12",children:h.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-start",children:[h.jsx("div",{className:"w-full lg:w-1/2 lg:pr-4 mb-8 lg:mb-0",children:h.jsx("div",{className:"bg-gray-100 p-4 rounded-lg shadow-md h-64 sm:h-80 md:h-[790px] flex items-center justify-center",children:h.jsx("img",{src:r,alt:"Book cover",className:"w-full h-full object-contain rounded-lg"})})}),h.jsxs("form",{onSubmit:l(w),className:"w-full lg:w-1/2 lg:pl-4 bg-white p-6 rounded-lg border-2 shadow-md",children:[h.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Add Book"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Book Name:"}),h.jsx("input",{type:"text",...a("bookName"),className:`border rounded-3xl px-4 py-3 w-full ${u.bookName?"border-red-500":"border-primaryColor"}`}),u.bookName&&h.jsx("p",{className:"text-red-500 text-sm",children:u.bookName.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Book Image:"}),h.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"border rounded-3xl px-4 py-3 w-full border-primaryColor"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Language:"}),h.jsx("input",{type:"text",...a("bookLanguage"),className:`border rounded-3xl px-4 py-3 w-full ${u.bookLanguage?"border-red-500":"border-primaryColor"}`}),u.bookLanguage&&h.jsx("p",{className:"text-red-500 text-sm",children:u.bookLanguage.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Author:"}),h.jsx("input",{type:"text",...a("author"),className:`border rounded-3xl px-4 py-3 w-full ${u.author?"border-red-500":"border-primaryColor"}`}),u.author&&h.jsx("p",{className:"text-red-500 text-sm",children:u.author.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Edition:"}),h.jsx("input",{type:"text",...a("edition"),className:`border rounded-3xl px-4 py-3 w-full ${u.edition?"border-red-500":"border-primaryColor"}`}),u.edition&&h.jsx("p",{className:"text-red-500 text-sm",children:u.edition.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Publish Year:"}),h.jsx("input",{type:"text",...a("publishYear"),className:`border rounded-3xl px-4 py-3 w-full ${u.publishYear?"border-red-500":"border-primaryColor"}`}),u.publishYear&&h.jsx("p",{className:"text-red-500 text-sm",children:u.publishYear.message})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block mb-1",children:"Category:"}),h.jsx("input",{type:"text",...a("category"),className:`border rounded-3xl px-4 py-3 w-full ${u.category?"border-red-500":"border-primaryColor"}`}),u.category&&h.jsx("p",{className:"text-red-500 text-sm",children:u.category.message})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block mb-1",children:"Book for:"}),h.jsx("div",{className:"flex gap-4",children:["donation","sell","rent"].map(C=>h.jsxs("label",{className:"inline-flex items-center",children:[h.jsx("input",{type:"radio",value:C,...a("bookFor"),className:"mr-1"}),h.jsx("span",{className:"capitalize",children:C})]},C))}),u.bookFor&&h.jsx("p",{className:"text-red-500 text-sm",children:u.bookFor.message})]}),p==="sell"&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Original Price:"}),h.jsx("input",{type:"number",...a("originalPrice",{valueAsNumber:!0}),className:`border rounded-3xl px-4 py-3 w-full ${u.originalPrice?"border-red-500":"border-primaryColor"}`}),u.originalPrice&&h.jsx("p",{className:"text-red-500 text-sm",children:u.originalPrice.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block mb-1",children:["Selling Price (must be less than"," ",(y*.4).toFixed(2),"):"]}),h.jsx("input",{type:"number",...a("sellingPrice",{valueAsNumber:!0}),className:`border rounded-3xl px-4 py-3 w-full ${u.sellingPrice?"border-red-500":"border-primaryColor"}`}),u.sellingPrice&&h.jsx("p",{className:"text-red-500 text-sm",children:u.sellingPrice.message})]})]}),p==="rent"&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block mb-1",children:"Original Price:"}),h.jsx("input",{type:"number",...a("originalPrice",{valueAsNumber:!0}),className:`border rounded-3xl px-4 py-3 w-full ${u.originalPrice?"border-red-500":"border-primaryColor"}`}),u.originalPrice&&h.jsx("p",{className:"text-red-500 text-sm",children:u.originalPrice.message})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block mb-1",children:["Per week Price (must be less than"," ",(y*.06).toFixed(2),"):"]}),h.jsx("input",{type:"number",...a("perWeekPrice",{valueAsNumber:!0}),className:`border rounded-3xl px-4 py-3 w-full ${u.perWeekPrice?"border-red-500":"border-primaryColor"}`}),u.perWeekPrice&&h.jsx("p",{className:"text-red-500 text-sm",children:u.perWeekPrice.message})]})]}),h.jsxs("div",{className:"mt-4",children:[h.jsx("label",{className:"block mb-1",children:"Description:"}),h.jsx("textarea",{...a("description"),className:`border rounded-3xl px-4 py-3 w-full ${u.description?"border-red-500":"border-primaryColor"}`,rows:4}),u.description&&h.jsx("p",{className:"text-red-500 text-sm",children:u.description.message})]}),h.jsx("button",{type:"submit",disabled:e,className:"mt-6 w-full bg-blue-500 px-4 py-3 bg-gradient-to-t from-primaryColor to-secondaryColor rounded-3xl text-white font-bold shadow-lg transition-transform duration-300 ease-in-out hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed",children:e?h.jsxs("span",{className:"flex items-center justify-center",children:[h.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding Book..."]}):"Add Book"})]})]})})},Q7=()=>{const t=Ut.currentUser,[e,n]=W.useState([]),[r,i]=W.useState("all"),[s,o]=W.useState("default");W.useEffect(()=>{a()},[r,s]);const a=async()=>{try{const l=Lt(Me,"approvedBooks"),u=yn(l,qe("sellerId","!=",(t==null?void 0:t.uid)||"")),f=(await lr(u)).docs.map(y=>({id:y.id,...y.data()})),p=f.filter(y=>y.availability!="donation");return n(p),console.log("Latest Books:",f),f}catch(l){console.error("Error fetching latest books:",l)}};return h.jsxs(h.Fragment,{children:[h.jsx(ds,{fullName:"All Books",bgName:"ALL BOOKS"}),h.jsx("div",{className:"container mx-auto px-4 mt-14",children:h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0&&e.map(l=>h.jsx(Cf,{id:l.id,img:l.images[0],name:l.title,author:l.author,publishYear:l.publishYear,sellingPrice:l.sellingPrice,perWeekPrice:l.perWeekPrice,condition:l.condition,availability:l.availability},l.id))})})]})},Y7=()=>{const[t,e]=W.useState(!1),n=()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},r=()=>{(document.body.scrollTop||document.documentElement.scrollTop)>80?e(!0):e(!1)};return W.useEffect(()=>{window.addEventListener("scroll",r)},[]),h.jsx(h.Fragment,{children:t&&h.jsxs("button",{className:"top-btn ",onClick:n,children:[h.jsx("svg",{height:"1.2em",className:"arrow",viewBox:"0 0 512 512",children:h.jsx("path",{d:"M233.4 105.4c12.5-12.5 32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L256 173.3 86.6 342.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l192-192z"})}),h.jsx("p",{className:"text",children:"Back to Top"})]})})},Z7=()=>{const t=Ut.currentUser;W.useEffect(()=>{r()},[]);const[e,n]=W.useState([]),r=async()=>{try{const i=Lt(Me,"approvedBooks"),s=yn(i,qe("availability","==","sell"),qe("sellerId","!=",(t==null?void 0:t.uid)||"")),a=(await lr(s)).docs.map(l=>({id:l.id,...l.data()}));n(a),console.log("Latest Books:",a)}catch(i){console.error("Error fetching latest books:",i)}};return h.jsxs(h.Fragment,{children:[h.jsx(ds,{fullName:"Buy Books",bgName:"Book For Sell"}),h.jsx("div",{className:"container mx-auto px-4 mt-14",children:h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0&&e.map(i=>h.jsx(Cf,{id:i.id,img:i.images[0],name:i.title,author:i.author,publishYear:i.publishYear,condition:i.condition,availability:i.availability},i.id))})})]})},X7=()=>{const t=Ut.currentUser;W.useEffect(()=>{r()},[]);const[e,n]=W.useState([]),r=async()=>{try{const i=Lt(Me,"approvedBooks"),s=yn(i,qe("availability","==","rent"),qe("sellerId","!=",(t==null?void 0:t.uid)||"")),a=(await lr(s)).docs.map(l=>({id:l.id,...l.data()}));n(a),console.log("Latest Books:",a)}catch(i){console.error("Error fetching latest books:",i)}};return h.jsxs(h.Fragment,{children:[h.jsx(ds,{fullName:"Rent a Book",bgName:"Book For Rent"}),h.jsx("div",{className:"container mx-auto px-4 mt-14",children:h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.length>0&&e.map(i=>h.jsx(Cf,{id:i.id,img:i.images[0],name:i.title,author:i.author,publishYear:i.publishYear,perWeekPrice:i.perWeekPrice,condition:i.condition,availability:i.availability},i.id))})})]})},J7=()=>h.jsxs("div",{className:"w-80 h-full bg-purple-900 text-white p-4",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Admin Sidebar"}),h.jsxs("ul",{children:[h.jsx("li",{className:"mb-2",children:h.jsx(Jn,{to:"/admin/home",className:({isActive:t})=>`block p-2 rounded hover:bg-purple-700 ${t?"bg-purple-600":""}`,children:"Dashboard"})}),h.jsx("li",{className:"mb-2",children:h.jsx(Jn,{to:"/admin/toapprove",className:({isActive:t})=>`block p-2 rounded hover:bg-purple-700 ${t?"bg-purple-600":""}`,children:"Pending Approval"})}),h.jsx("li",{className:"mb-2",children:h.jsx(Jn,{to:"/admin/approvedbooks",className:({isActive:t})=>`block p-2 rounded hover:bg-purple-700 ${t?"bg-purple-600":""}`,children:"Approved Books"})})]})]}),eM=()=>h.jsxs("div",{className:"flex h-screen",children:[h.jsx(J7,{}),h.jsx("div",{className:"w-full overflow-y-auto p-6",children:h.jsx(uP,{})})]}),tM=()=>h.jsx("div",{className:"",children:"This is dasboard"}),tv=({book:t,onApprove:e,onDecline:n,onViewDetails:r,onRemove:i,showApproval:s=!0,showDecline:o=!0,onDelete:a})=>{const l=p=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(p),u=()=>{const p={rent:xb,donation:I_,sale:xN};return p[t.availability]||p.sale},d=()=>{const p={rent:"bg-violet-100 text-violet-700 border-violet-200",donation:"bg-pink-100 text-pink-700 border-pink-200",sale:"bg-emerald-100 text-emerald-700 border-emerald-200"};return p[t.availability]||p.sale},f=()=>{if(t.availability==="donation")return h.jsxs("div",{className:"inline-flex items-center px-3 py-1 rounded-full bg-pink-100 text-pink-700",children:[h.jsx(ke,{icon:I_,className:"h-4 w-4 mr-1"}),h.jsx("span",{className:"font-medium",children:"Donated"})]});const p=t.availability==="rent"?t.perWeekPrice:t.sellingPrice,y=l(p),w=t.originalPrice>0?l(t.originalPrice):null;return h.jsxs("div",{className:"flex items-end gap-2",children:[h.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y}),w&&h.jsx("span",{className:"text-sm text-gray-500 line-through mb-1",children:w}),t.availability==="rent"&&h.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"/week"})]})};return h.jsxs("div",{className:"overflow-hidden max-w-[495px] transition-all duration-300 hover:shadow-xl group border rounded-lg p-4 flex flex-col lg:flex-row justify-between items-start",children:[h.jsx("div",{className:"flex-grow space-y-4",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:`flex h-12 w-12 shrink-0 items-center justify-center rounded-xl ${d()}`,children:h.jsx(ke,{icon:u(),className:"h-5 w-5"})}),h.jsxs("div",{className:"space-y-1 flex-grow",children:[h.jsx("h3",{className:"font-bold text-xl text-gray-900 line-clamp-1",children:t.title}),h.jsx("p",{className:"text-gray-500 line-clamp-1",children:t.author}),h.jsx("div",{className:"pt-2",children:f()})]})]})}),h.jsxs("div",{className:"flex w-full lg:w-auto lg:flex-col gap-2 mt-4 md:mt-0",children:[h.jsxs("button",{onClick:r,className:"w-full flex h-10 px-4 items-center justify-center rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors duration-200 text-xs sm:text-sm",children:[h.jsx(ke,{icon:wb,className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"font-medium",children:"View "})]}),s&&h.jsxs("button",{onClick:e,className:"w-full flex h-10 items-center justify-center rounded-lg bg-emerald-600 text-white hover:bg-emerald-700 transition-colors duration-200 text-xs sm:text-sm",children:[h.jsx(ke,{icon:tg,className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"font-medium",children:"Approve"})]}),o&&h.jsxs("button",{onClick:n||i||a,className:"w-full flex h-10 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 transition-colors duration-200 text-xs sm:text-sm",children:[h.jsx(ke,{icon:Eb,className:"h-5 w-5 mr-2"}),h.jsx("span",{className:"font-medium",children:a?"Delete":"Decline"})]})]})]})},lu=({desc:t,size:e=150})=>{const[n,r]=W.useState(!1),i=e,s=()=>{r(a=>!a)},o=()=>t?t.length<=i?h.jsx("p",{children:t}):n?h.jsxs("div",{children:[h.jsx("p",{className:"text-lg text-gray-700",children:t}),h.jsx("button",{onClick:s,className:"text-blue-500 mt-2 hover:text-blue-700",children:"Show Less"})]}):h.jsxs("div",{children:[h.jsxs("p",{className:"text-lg text-gray-700",children:[t.slice(0,i),"..."]}),h.jsx("button",{onClick:s,className:"text-blue-500 mt-2 hover:text-blue-700",children:"Show More"})]}):h.jsx("p",{children:"No description available!"});return h.jsx("div",{className:"",children:o()})},nM=()=>{const[t,e]=W.useState([]),[n,r]=W.useState(null),[i,s]=W.useState(!1),[o,a]=W.useState(!0),[l,u]=W.useState({open:!1,action:null,bookId:null});W.useEffect(()=>{d()},[]);const d=async()=>{try{const N=Lt(Me,"approvedBooks"),D=await lr(N),R=await Promise.all(D.docs.map(async S=>{const g=S.data(),v=await f(g.sellerId);return{id:S.id,sellerName:v,...g}}));e(R)}catch(N){console.error("Error fetching pending books:",N)}finally{a(!1)}},f=async N=>{try{const D=Tt(Me,"users",N),R=await jn(D);return R.exists()?R.data().name:"Unknown Seller"}catch(D){return console.error("Error fetching seller:",D),"Unknown Seller"}},p=async(N,D)=>{try{const R=Tt(Me,"approvedBooks",N),g=(await jn(R)).data();await Ig(Lt(Me,"declinedBooks"),{...g,removedAt:new Date}),await ch(R),await y(D||n.sellerId,`Your book "${g.title}" has been removed.`,g.title,"removed"),w(N)}catch(R){console.error("Error declining book:",R)}},y=async(N,D,R,S)=>{try{await Ig(Lt(Me,"notification"),{sellerId:N,message:D,bookTitle:R,status:S,timestamp:new Date,read:!1})}catch(g){console.error("Error sending notification:",g)}},w=N=>{e(D=>D.filter(R=>R.id!==N)),s(!1),r(null)},P=(N,D)=>{u({open:!0,action:N,book:{...D}})},C=async()=>{l.action==="remove"&&await p(l.book.id,l.book.sellerId),u({open:!1,action:null,bookId:null})},_=N=>{r(N),s(!0)},x=()=>{s(!1),r(null)},k=N=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(N);return h.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Approved Books"}),o?h.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(N=>h.jsx(tv,{book:N,onRemove:()=>P("remove",N),onViewDetails:()=>_(N),showApproval:!1},N.id))}),i&&n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:h.jsxs("div",{className:"bg-[#fff] rounded-lg p-6 max-w-3xl w-full shadow-xl transition-all transform scale-100",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),h.jsx("button",{onClick:x,className:"text-gray-500 hover:text-gray-700 transition focus:outline-none",children:h.jsx(ke,{icon:os,size:"lg"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:n.images[0]||"/placeholder-book.jpg",alt:n.title,className:"w-full h-72 object-cover rounded-lg shadow-lg"})}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Author:"})," ",n.author]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Language:"})," ",n.language]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Edition:"})," ",n.edition]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Publish Year:"})," ",n.publishYear]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Condition:"})," ",n.condition]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Seller:"})," ",n.sellerName]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Posted:"})," ",new Date(n.postedAt.toDate()).toLocaleDateString()]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Status:"})," ",n.status==="approved"?"Approved":"Removed"]})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Pricing:"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-10",children:[h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Original Price:"})," ",k(n.originalPrice)]}),n.availability==="rent"?h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Per Week Price:"})," ",k(n.perWeekPrice)]}):h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Selling Price:"})," ",k(n.sellingPrice)]})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Description:"}),h.jsx("p",{className:"text-gray-700",children:h.jsx(lu,{desc:n.description})})]}),h.jsx("div",{className:"mt-8 flex justify-end gap-4",children:h.jsx("button",{onClick:()=>p(n.id),className:"px-8 h-10 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition duration-200",children:"Remove"})})]})}),l.open&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50 p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-xl transition-all transform scale-100",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Confirm Remove"}),h.jsx("p",{className:"mt-2 text-gray-700",children:"Are you sure you want to remove this book?"}),h.jsxs("div",{className:"mt-4 flex justify-end",children:[h.jsx("button",{onClick:()=>u({open:!1}),className:"px-4 py-2 rounded bg-gray-300 text-gray-800 hover:bg-gray-400 transition duration-200",children:"Cancel"}),h.jsx("button",{onClick:C,className:"ml-2 px-4 py-2 rounded bg-red-600 text-white hover:bg-red-700 transition duration-200",children:"Confirm"})]})]})})]})},rM=()=>{var v;const[t,e]=W.useState([]),[n,r]=W.useState(null),[i,s]=W.useState(!1),[o,a]=W.useState(!0),[l,u]=W.useState({open:!1,action:null,bookId:null}),[d,f]=W.useState({open:!1,bookId:null,sellerId:null}),[p,y]=W.useState("");W.useEffect(()=>{w()},[]);const w=async()=>{try{const b=Lt(Me,"pendingBooks"),A=await lr(b),I=await Promise.all(A.docs.map(async T=>{const M=T.data(),U=await P(M.sellerId);return{id:T.id,sellerName:U,...M}}));e(I)}catch(b){console.error("Error fetching pending books:",b)}finally{a(!1)}},P=async b=>{try{const A=Tt(Me,"users",b),I=await jn(A);return I.exists()?I.data().name:"Unknown Seller"}catch(A){return console.error("Error fetching seller:",A),"Unknown Seller"}},C=async(b,A)=>{const I=t.find(T=>T.id===b);e(T=>T.filter(M=>M.id!==b));try{const T=Tt(Me,"pendingBooks",b),U=(await jn(T)).data();await ca(Tt(Me,"approvedBooks",b),{...U,approvedAt:new Date}),await ch(T),await k(A||n.sellerId,`Your book "${U.title}" has been approved.`,U.title,"approved",b),console.log("Book approved and moved:",b)}catch(T){console.error("Error approving book:",T),e(M=>[...M,I])}s(!1),r(null)},_=async(b,A)=>{f({open:!0,bookId:b,sellerId:A})},x=async()=>{const{bookId:b,sellerId:A}=d,I=t.find(T=>T.id===b);e(T=>T.filter(M=>M.id!==b));try{const T=Tt(Me,"pendingBooks",b),U=(await jn(T)).data();await ca(Tt(Me,"declinedBooks",b),{...U,declinedAt:new Date,feedback:p}),await ch(T),await k(A||n.sellerId,`Your book "${U.title}" has been declined.`,U.title,"declined",b),console.log("Book declined and moved:",b)}catch(T){console.error("Error declining book:",T),e(M=>[...M,I])}f({open:!1,bookId:null,sellerId:null}),y(""),s(!1),r(null)},k=async(b,A,I,T,M)=>{try{await ca(Tt(Me,"notification",M),{sellerId:b,message:A,bookTitle:I,status:T,timestamp:new Date,read:!1})}catch(U){console.error("Error sending notification:",U)}},N=(b,A)=>{u({open:!0,action:b,book:A})},D=async()=>{l.action==="approve"?await C(l.book.id,l.book.sellerId):l.action==="decline"&&await _(l.book.id,l.book.sellerId),u({open:!1,action:null,book:null})},R=b=>{r(b),s(!0)},S=()=>{s(!1),r(null)},g=b=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(b);return h.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Pending Approval"}),o?h.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(b=>h.jsx(tv,{book:b,onApprove:()=>N("approve",b),onDecline:()=>N("decline",b),onViewDetails:()=>R(b)},b.id))}),i&&n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:h.jsxs("div",{className:"bg-[#fff] rounded-lg p-6 max-w-3xl w-full shadow-xl transition-all transform scale-100",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),h.jsx("button",{onClick:S,className:"text-gray-500 hover:text-gray-700 transition focus:outline-none",children:h.jsx(ke,{icon:os,size:"lg"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:n.images[0]||"/placeholder-book.jpg",alt:n.title,className:"w-full h-72 object-cover rounded-lg shadow-lg"})}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Author:"})," ",n.author]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Language:"})," ",n.language]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Edition:"})," ",n.edition]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Publish Year:"})," ",n.publishYear]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Condition:"})," ",n.condition]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Seller:"})," ",n.sellerName]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Posted:"})," ",new Date(n.postedAt.toDate()).toLocaleDateString()]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Status:"})," ",n.status==="approved"?"Approved":"Declined"]})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Pricing:"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-10",children:[h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Original Price:"})," ",g(n.originalPrice)]}),n.availability==="rent"?h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Per Week Price:"})," ",g(n.perWeekPrice)]}):h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Selling Price:"})," ",g(n.sellingPrice)]})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Description:"}),h.jsx("p",{className:"text-gray-700",children:h.jsx(lu,{desc:n.description})})]}),h.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[h.jsx("button",{onClick:()=>C(n.id,n.sellerId),className:"px-8 h-10 rounded-lg bg-emerald-100 text-emerald-600 hover:bg-emerald-200 transition duration-200",children:"Approve"}),h.jsx("button",{onClick:()=>_(n.id,n.sellerId),className:"px-8 h-10 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition duration-200",children:"Decline"})]})]})}),l.open&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50 p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl transform scale-100 animate-in zoom-in-95 duration-200",children:[h.jsxs("div",{className:"text-center sm:text-left",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:`rounded-full p-2 ${l.action==="approve"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:h.jsx(ke,{icon:l.action==="approve"?tg:os,className:"text-xl"})}),h.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Confirm"," ",l.action==="approve"?"Approval":"Decline"]})]}),h.jsxs("p",{className:"mt-2 text-gray-600",children:["Are you sure you want to"," ",l.action==="approve"?"approve":"decline"," ",h.jsxs("span",{className:"font-medium text-gray-900",children:['"',(v=l.book)==null?void 0:v.title,'"']}),"?"]}),h.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["This action cannot be undone. The book will be moved to the"," ",l.action==="approve"?"approved":"declined"," ","collection."]})]}),h.jsxs("div",{className:"mt-6 sm:mt-8 flex flex-col-reverse sm:flex-row sm:justify-end gap-3",children:[h.jsx("button",{onClick:()=>u({...l,open:!1}),className:"inline-flex justify-center items-center px-4 py-2.5 rounded-lg border border-gray-300 bg-white text-gray-700 font-medium hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors",children:"Cancel"}),h.jsxs("button",{onClick:D,className:`inline-flex justify-center items-center px-4 py-2.5 rounded-lg font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors ${l.action==="approve"?"bg-emerald-600 hover:bg-emerald-700 text-white focus:ring-emerald-500":"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500"}`,children:[h.jsx(ke,{icon:l.action==="approve"?tg:os,className:"mr-2"}),l.action==="approve"?"Approve":"Decline"]})]})]})}),d.open&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50 p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full shadow-xl transform scale-100 animate-in zoom-in-95 duration-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Provide Feedback (Optional)"}),h.jsx("textarea",{className:"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4",placeholder:"Enter feedback for the seller (optional)",value:p,onChange:b=>y(b.target.value)}),h.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[h.jsx("button",{onClick:()=>f({open:!1,bookId:null,sellerId:null}),className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:x,className:"px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors",children:"Decline Book"})]})]})})]})},iM=()=>{const[t,e]=W.useState([]),[n,r]=W.useState(null),[i,s]=W.useState(!1),[o,a]=W.useState(!0),[l,u]=W.useState({open:!1,action:null,bookId:null});W.useEffect(()=>{d()},[]);const d=async()=>{try{const x=Lt(Me,"declinedBooks"),k=await lr(x),N=await Promise.all(k.docs.map(async D=>{const R=D.data(),S=await f(R.sellerId);return{id:D.id,sellerName:S,...R}}));e(N)}catch(x){console.error("Error fetching declined books:",x)}finally{a(!1)}},f=async x=>{try{const k=Tt(Me,"users",x),N=await jn(k);return N.exists()?N.data().name:"Unknown Seller"}catch(k){return console.error("Error fetching seller:",k),"Unknown Seller"}},p=async x=>{console.log(x);try{const k=Tt(Me,"declinedBooks",x);(await jn(k)).exists()?(await ch(k),console.log(`Document with ID: ${x} deleted successfully.`),w(x)):console.log("No document found with the specified ID.")}catch(k){console.error("Error deleting book:",k)}},y=async x=>{console.log(x);try{const k=Tt(Me,"approvedBooks",x.id);await ca(k,x),p(x.id)}catch(k){console.error("Error approving book:",k)}},w=x=>{e(k=>k.filter(N=>N.id!==x)),s(!1),r(null)},P=x=>{r(x),s(!0)},C=()=>{s(!1),r(null)},_=x=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(x);return h.jsxs("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-8 text-gray-800",children:"Declined Books"}),o?h.jsx("div",{className:"text-center text-gray-500",children:"Loading..."}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:t.map(x=>h.jsx(tv,{book:x,onDelete:()=>p(x.id),onApprove:()=>y(x),onViewDetails:()=>P(x)},x.id))}),i&&n&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:h.jsxs("div",{className:"bg-[#fff] rounded-lg p-6 max-w-3xl w-full shadow-xl transition-all transform scale-100",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title}),h.jsx("button",{onClick:C,className:"text-gray-500 hover:text-gray-700 transition focus:outline-none",children:h.jsx(ke,{icon:os,size:"lg"})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("img",{src:n.images[0]||"/placeholder-book.jpg",alt:n.title,className:"w-full h-72 object-cover rounded-lg shadow-lg"})}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Author:"})," ",n.author]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Category:"})," ",n.category]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Language:"})," ",n.language]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Edition:"})," ",n.edition]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Publish Year:"})," ",n.publishYear]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Condition:"})," ",n.condition]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Seller:"})," ",n.sellerName]}),h.jsxs("p",{children:[h.jsx("span",{className:"font-semibold",children:"Posted:"})," ",new Date(n.postedAt.toDate()).toLocaleDateString()]})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Pricing:"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:gap-10",children:[h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Original Price:"})," ",_(n.originalPrice)]}),n.availability==="rent"?h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Per Week Price:"})," ",_(n.perWeekPrice)]}):h.jsxs("p",{className:"text-gray-700",children:[h.jsx("span",{className:"font-semibold",children:"Selling Price:"})," ",_(n.sellingPrice)]})]})]}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Description:"}),h.jsx("p",{className:"text-gray-700",children:h.jsx(lu,{desc:n.description})})]}),h.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[h.jsx("button",{onClick:()=>y(n),className:"px-8 h-10 rounded-lg bg-green-100 text-green-600 hover:bg-green-200 transition duration-200",children:"Approve"}),h.jsx("button",{onClick:()=>p(n.id),className:"px-8 h-10 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition duration-200",children:"Delete"})]})]})}),l.open&&h.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50 p-4 animate-in fade-in duration-200",children:h.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-xl transition-all transform scale-100",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Confirm Deletion"}),h.jsx("p",{className:"mt-2 text-gray-700",children:"Are you sure you want to delete this book?"}),h.jsxs("div",{className:"mt-4 flex justify-end",children:[h.jsx("button",{onClick:()=>u({open:!1}),className:"mr-4 px-4 h-10 rounded-lg bg-gray-200 text-gray-700 hover:bg-gray-300 transition duration-200",children:"Cancel"}),h.jsx("button",{onClick:()=>{l.action==="delete"&&p(l.bookId),u({open:!1})},className:"px-4 h-10 rounded-lg bg-red-500 text-white hover:bg-red-600 transition duration-200",children:"Delete"})]})]})})]})},sM={prefix:"far",iconName:"heart",icon:[512,512,[128153,128154,128155,128156,128420,129293,129294,129505,9829,10084,61578],"f004","M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8l0-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5l0 3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20-.1-.1s0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5l0 3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2l0-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"]};function oM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}oM(`.web-share-fade{animation:rwsFade .5s;animation-fill-mode:both}@keyframes rwsFade{0%{opacity:0}to{opacity:1}}.web-share-fade-in-up{animation:rwsfadeInUp .5s;animation-fill-mode:both}@keyframes rwsfadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.rws-icons{padding:1.25rem;display:grid;grid-template-columns:repeat(4,1fr);grid-gap:1.25rem}.rws-icon{width:100%;height:auto;cursor:pointer;border:0;background:#1a78f6;padding:.75rem;border-radius:.5rem;font-size:0}.rws-container{max-width:24rem;width:90%;background-color:#fff;border-radius:.5rem;border-bottom-left-radius:0;border-bottom-right-radius:0}.rws-backdrop{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.4);display:flex;flex-direction:column;align-items:center;justify-content:flex-end;z-index:1400}.rws-header{padding:1rem 1.25rem;font-size:1.25rem;font-weight:600;padding-bottom:0}.rws-close{background:#edf2f7;cursor:pointer;padding:.75rem;display:block;width:100%;border:0;font-size:1rem}
`);function aM({children:t,onClose:e}){return h.jsx("div",{onClick:n=>{n.target===n.currentTarget&&e(n)},className:"rws-backdrop web-share-fade",children:t})}var Jr=t=>window.open(t,"_blank","noopener"),Zk={facebook:{path:h.jsx("path",{d:"M24 12a12 12 0 10-13.9 11.9v-8.4h-3V12h3V9.4c0-3 1.8-4.7 4.6-4.7l2.6.2v3h-1.5c-1.5 0-2 .9-2 1.8V12h3.4l-.5 3.5h-2.8v8.4A12 12 0 0024 12z"}),color:"#0076FB",e:t=>Jr(`https://www.facebook.com/sharer/sharer.php?u=${t}`)},twitter:{path:h.jsx("path",{d:"M24 4.6a10 10 0 01-2.9.7 5 5 0 002.2-2.7c-1 .6-2 1-3.1 1.2a5 5 0 00-8.4 4.5A14 14 0 011.6 3.2 4.8 4.8 0 001 5.6a5 5 0 002.2 4.1 4.9 4.9 0 01-2.3-.6A5 5 0 005 14a5 5 0 01-2.2 0 5 5 0 004.6 3.5 9.9 9.9 0 01-6.1 2.1H0a14 14 0 007.6 2.2c9 0 14-7.5 14-14V7A10 10 0 0024 4.6z"}),color:"#1DA1F2",e:(t,e)=>Jr(`https://twitter.com/intent/tweet?text=${e}&url=${t}`)},whatsapp:{path:h.jsx("path",{d:"M17.5 14.4l-2-1c-.3 0-.5-.1-.7.2l-1 1.1c-.1.2-.3.3-.6.1s-1.3-.5-2.4-1.5a9 9 0 01-1.7-2c-.1-.3 0-.5.2-.6l.4-.6c.2-.1.2-.3.3-.5v-.5L9 7c-.2-.6-.4-.5-.6-.5h-.6c-.2 0-.5 0-.8.4-.2.3-1 1-1 2.5s1 2.8 1.2 3c.2.2 2.1 3.2 5.1 4.5l1.7.6a4 4 0 001.9.2c.5-.1 1.7-.8 2-1.5.2-.6.2-1.2.1-1.4l-.5-.3M12 21.8a9.9 9.9 0 01-5-1.4l-.4-.2-3.7 1 1-3.7-.2-.3a9.9 9.9 0 01-1.5-5.3 9.9 9.9 0 0116.8-7 9.8 9.8 0 013 7 9.9 9.9 0 01-10 9.9m8.4-18.3A11.8 11.8 0 0012.1 0 12 12 0 001.8 17.8L0 24l6.4-1.6a11.9 11.9 0 005.6 1.4 12 12 0 0012-11.9 11.8 11.8 0 00-3.5-8.4z"}),color:"#25D366",e:(t,e)=>Jr(`https://api.whatsapp.com/send?text=${e} ${t}`)},reddit:{path:h.jsx("path",{d:"M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.74c.69 0 1.25.56 1.25 1.25a1.25 1.25 0 01-2.5.06l-2.6-.55-.8 3.75c1.83.07 3.48.63 4.68 1.49.3-.31.73-.5 1.2-.5.97 0 1.76.8 1.76 1.76 0 .72-.43 1.33-1.01 1.61a3.11 3.11 0 01.04.52c0 2.7-3.13 4.87-7 4.87-3.88 0-7-2.17-7-4.87 0-.18 0-.36.04-.53A1.75 1.75 0 014.03 12a1.75 1.75 0 012.96-1.26 8.52 8.52 0 014.74-1.5l.89-4.17a.34.34 0 01.14-.2.35.35 0 01.24-.04l2.9.62a1.21 1.21 0 011.11-.7zM9.25 12a1.25 1.25 0 101.25 1.25c0-.69-.56-1.25-1.25-1.25zm5.5 0a1.25 1.25 0 000 2.5 1.25 1.25 0 000-2.5zm-5.47 3.99a.33.33 0 00-.23.1.33.33 0 000 .46c.84.84 2.49.91 2.96.91.48 0 2.1-.06 2.96-.91a.36.36 0 00.03-.47.33.33 0 00-.46 0c-.55.54-1.68.73-2.51.73-.83 0-1.98-.2-2.51-.73a.33.33 0 00-.24-.1z"}),color:"#FF4500",e:(t,e)=>Jr(`https://www.reddit.com/submit?url=${t}&title=${e}`)},telegram:{path:h.jsx("path",{d:"M23.91 3.79L20.3 20.84c-.25 1.21-.98 1.5-2 .94l-5.5-4.07-2.66 2.57c-.3.3-.55.56-1.1.56-.72 0-.6-.27-.84-.95L6.3 13.7.85 12c-1.18-.35-1.19-1.16.26-1.75l21.26-8.2c.97-.43 1.9.24 1.53 1.73z"}),color:"#0088CC",e:(t,e)=>Jr(`https://telegram.me/share/msg?url=${t}&text=${e}`)},linkedin:{path:h.jsx("path",{d:"M6.5 21.5h-5v-13h5v13zM4 6.5C2.5 6.5 1.5 5.3 1.5 4s1-2.4 2.5-2.4c1.6 0 2.5 1 2.6 2.5 0 1.4-1 2.5-2.6 2.5zm11.5 6c-1 0-2 1-2 2v7h-5v-13h5V10s1.6-1.5 4-1.5c3 0 5 2.2 5 6.3v6.7h-5v-7c0-1-1-2-2-2z"}),color:"#0073b1",e:(t,e,n)=>Jr(`https://www.linkedin.com/shareArticle?mini=true&url=${t}&title=${n}&summary=${e}`)},mail:{path:h.jsx("path",{d:"M20 4H4a2 2 0 00-2 2v12c0 1.1.9 2 2 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"}),color:"#E53E3E",e:(t,e)=>Jr(`mailto:?body=${t}&subject=${e}`)},copy:{path:h.jsx("path",{d:"M16 1H4a2 2 0 00-2 2v14h2V3h12V1zm3 4H8a2 2 0 00-2 2v14c0 1.1.9 2 2 2h11a2 2 0 002-2V7a2 2 0 00-2-2zm0 16H8V7h11v14z"}),color:"#718096",e:t=>navigator.clipboard.writeText(decodeURIComponent(t))},vk:{path:h.jsx("path",{d:"M22.7 6.24c.16-.52 0-.9-.73-.9H19.5c-.62 0-.91.32-1.06.69 0 0-1.25 3.04-3.02 5.02-.57.57-.83.75-1.15.75-.15 0-.39-.18-.39-.7V6.24c0-.63-.17-.9-.69-.9H9.34c-.39 0-.62.29-.62.56 0 .59.88.72.97 2.4v3.6c0 .8-.14.95-.45.95-.84 0-2.86-3.06-4.06-6.56-.24-.68-.48-.96-1.1-.96H1.61c-.7 0-.85.33-.85.7 0 .65.84 3.88 3.88 8.14 2.03 2.92 4.9 4.5 7.5 4.5 1.55 0 1.75-.35 1.75-.96 0-2.78-.15-3.04.64-3.04.36 0 .99.18 2.44 1.58 1.67 1.67 1.95 2.42 2.88 2.42h2.45c.7 0 1.06-.35.85-1.05-.46-1.45-3.62-4.44-3.76-4.64-.36-.47-.26-.68 0-1.1 0 0 3-4.21 3.3-5.64Z"}),color:"#07f",e:(t,e,n)=>Jr(`http://vk.com/share.php?url=${t}&title=${n}&comment=${e}`)},okru:{path:h.jsx("path",{d:"M13.6 16.4c1-.3 2-.7 2.8-1.2a1.5 1.5 0 0 0-1.5-2.5 6.3 6.3 0 0 1-6.7 0 1.5 1.5 0 1 0-1.5 2.5c.9.5 1.8 1 2.9 1.2L6.8 19a1.4 1.4 0 1 0 2 2l2.8-2.6 2.7 2.7a1.5 1.5 0 1 0 2-2l-2.7-2.8Zm-2-11.1a2 2 0 1 1 0 4.1 2 2 0 0 1 0-4.1Zm0 7a5 5 0 1 0 0-10 5 5 0 0 0 0 10Z"}),color:"#e27e35",e:t=>Jr(`https://connect.ok.ru/dk?st.cmd=WidgetSharePreview&st.shareUrl=${t}`)}},lM=({children:t})=>{let e=document.createElement("div");return Je.useEffect(()=>(document.body.appendChild(e),()=>{document.body.removeChild(e)}),[e]),DE.createPortal(t,e)};function cM({onClose:t,closeText:e}){return h.jsx("button",{className:"rws-close","aria-label":"Close",type:"button",onClick:t,children:e||"Close"})}function uM({title:t}){return h.jsx("header",{className:"rws-header",children:t})}function dM({name:t,data:e,onClose:n,onClick:r}){let{path:i,viewBox:s="0 0 24 24",color:o,e:a}=Zk[t];return h.jsx("button",{onClick:()=>{r&&r(t),a(encodeURIComponent(e.url),e.text,e.title),n()},"aria-label":t,className:"rws-icon",style:{background:o},children:h.jsx("svg",{fill:"white",viewBox:s,children:i})})}var hM=({onClose:t,sites:e,data:n,closeText:r,onClick:i})=>h.jsxs("section",{role:"dialog","aria-modal":"true",className:"rws-container web-share-fade-in-up",children:[h.jsx(uM,{title:n.title}),h.jsx("div",{className:"rws-icons",children:e.map(s=>h.jsx(dM,{name:s,data:n,onClose:t,onClick:i},s))}),h.jsx(cM,{onClose:t,closeText:r})]});function fM(){let[t,e]=W.useState(!1),n=W.useCallback(()=>e(!0),[]),r=W.useCallback(()=>e(!1),[]),i=W.useCallback(()=>e(s=>!s),[]);return{isOpen:t,onOpen:n,onClose:r,onToggle:i}}var pM=Object.keys(Zk).slice(0,8),mM=W.memo(t=>{var e;let{onOpen:n,onClose:r,isOpen:i}=fM(),s=W.useMemo(()=>({...t.data,title:t.data.title||"share",text:t.data.text||"",url:t.data.url||typeof window<"u"&&window.location.href||""}),[t.data]),o=W.useCallback(async()=>{if(window.navigator.share&&!t.disableNative)try{await window.navigator.share(s),t.onClick()}catch(a){console.warn(a)}else n()},[s]);return h.jsxs(h.Fragment,{children:[W.cloneElement(t.children,{...(e=t.children)==null?void 0:e.props,onClick:o}),i&&h.jsx(lM,{children:h.jsx(aM,{onClose:r,children:h.jsx(hM,{onClose:r,sites:t.sites||pM,data:s,closeText:t.closeText,onClick:t.onClick})})})]})}),gM="Expected a function",gw=NaN,yM="[object Symbol]",vM=/^\s+|\s+$/g,_M=/^[-+]0x[0-9a-f]+$/i,wM=/^0b[01]+$/i,xM=/^0o[0-7]+$/i,EM=parseInt,bM=typeof qi=="object"&&qi&&qi.Object===Object&&qi,TM=typeof self=="object"&&self&&self.Object===Object&&self,kM=bM||TM||Function("return this")(),IM=Object.prototype,SM=IM.toString,AM=Math.max,CM=Math.min,$p=function(){return kM.Date.now()};function NM(t,e,n){var r,i,s,o,a,l,u=0,d=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(gM);e=yw(e)||0,Mg(n)&&(d=!!n.leading,f="maxWait"in n,s=f?AM(yw(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function y(R){var S=r,g=i;return r=i=void 0,u=R,o=t.apply(g,S),o}function w(R){return u=R,a=setTimeout(_,e),d?y(R):o}function P(R){var S=R-l,g=R-u,v=e-S;return f?CM(v,s-g):v}function C(R){var S=R-l,g=R-u;return l===void 0||S>=e||S<0||f&&g>=s}function _(){var R=$p();if(C(R))return x(R);a=setTimeout(_,P(R))}function x(R){return a=void 0,p&&r?y(R):(r=i=void 0,o)}function k(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?o:x($p())}function D(){var R=$p(),S=C(R);if(r=arguments,i=this,l=R,S){if(a===void 0)return w(l);if(f)return a=setTimeout(_,e),y(l)}return a===void 0&&(a=setTimeout(_,e)),o}return D.cancel=k,D.flush=N,D}function Mg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function PM(t){return!!t&&typeof t=="object"}function RM(t){return typeof t=="symbol"||PM(t)&&SM.call(t)==yM}function yw(t){if(typeof t=="number")return t;if(RM(t))return gw;if(Mg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(vM,"");var n=wM.test(t);return n||xM.test(t)?EM(t.slice(2),n?2:8):_M.test(t)?gw:+t}var OM=NM;const jM=jh(OM);var Xk="Expected a function",vw=NaN,DM="[object Symbol]",LM=/^\s+|\s+$/g,MM=/^[-+]0x[0-9a-f]+$/i,VM=/^0b[01]+$/i,FM=/^0o[0-7]+$/i,UM=parseInt,BM=typeof qi=="object"&&qi&&qi.Object===Object&&qi,zM=typeof self=="object"&&self&&self.Object===Object&&self,$M=BM||zM||Function("return this")(),WM=Object.prototype,HM=WM.toString,qM=Math.max,KM=Math.min,Wp=function(){return $M.Date.now()};function GM(t,e,n){var r,i,s,o,a,l,u=0,d=!1,f=!1,p=!0;if(typeof t!="function")throw new TypeError(Xk);e=_w(e)||0,Ph(n)&&(d=!!n.leading,f="maxWait"in n,s=f?qM(_w(n.maxWait)||0,e):s,p="trailing"in n?!!n.trailing:p);function y(R){var S=r,g=i;return r=i=void 0,u=R,o=t.apply(g,S),o}function w(R){return u=R,a=setTimeout(_,e),d?y(R):o}function P(R){var S=R-l,g=R-u,v=e-S;return f?KM(v,s-g):v}function C(R){var S=R-l,g=R-u;return l===void 0||S>=e||S<0||f&&g>=s}function _(){var R=Wp();if(C(R))return x(R);a=setTimeout(_,P(R))}function x(R){return a=void 0,p&&r?y(R):(r=i=void 0,o)}function k(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function N(){return a===void 0?o:x(Wp())}function D(){var R=Wp(),S=C(R);if(r=arguments,i=this,l=R,S){if(a===void 0)return w(l);if(f)return a=setTimeout(_,e),y(l)}return a===void 0&&(a=setTimeout(_,e)),o}return D.cancel=k,D.flush=N,D}function QM(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Xk);return Ph(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),GM(t,e,{leading:r,maxWait:e,trailing:i})}function Ph(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function YM(t){return!!t&&typeof t=="object"}function ZM(t){return typeof t=="symbol"||YM(t)&&HM.call(t)==DM}function _w(t){if(typeof t=="number")return t;if(ZM(t))return vw;if(Ph(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ph(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(LM,"");var n=VM.test(t);return n||FM.test(t)?UM(t.slice(2),n?2:8):MM.test(t)?vw:+t}var XM=QM;const ww=jh(XM);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Vg=function(t,e){return Vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Vg(t,e)};function JM(t,e){Vg(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Fg=function(){return Fg=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fg.apply(this,arguments)};function eV(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tV(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}var nV=`.magnifier {
  position: relative;
  display: inline-block;
  line-height: 0;
}

.magnifier-image {
  cursor: none;
}

.magnifying-glass {
  position: absolute;
  z-index: 1;
  background: #e5e5e5 no-repeat;
  border: solid #ebebeb;
  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);
  opacity: 0;
  transition: opacity 0.3s;
  pointer-events: none;
}
.magnifying-glass.circle {
  border-radius: 50%;
}
.magnifying-glass.visible {
  opacity: 1;
}`;tV(nV);var rV=function(t){JM(e,t);function e(n){var r=t.call(this,n)||this;return r.state={showZoom:!1,mgOffsetX:0,mgOffsetY:0,relX:0,relY:0},r.componentDidMount=function(){r.img.addEventListener("mouseenter",r.onMouseEnter,{passive:!1}),r.img.addEventListener("mousemove",r.onMouseMove,{passive:!1}),r.img.addEventListener("mouseout",r.onMouseOut,{passive:!1}),r.img.addEventListener("touchstart",r.onTouchStart,{passive:!1}),r.img.addEventListener("touchmove",r.onTouchMove,{passive:!1}),r.img.addEventListener("touchend",r.onTouchEnd,{passive:!1}),window.addEventListener("resize",r.calcImgBoundsDebounced),window.addEventListener("scroll",r.calcImgBoundsDebounced,!0)},r.componentWillUnmount=function(){r.img.removeEventListener("mouseenter",r.onMouseEnter),r.img.removeEventListener("mousemove",r.onMouseMove),r.img.removeEventListener("mouseout",r.onMouseOut),r.img.removeEventListener("touchstart",r.onTouchStart),r.img.removeEventListener("touchmove",r.onTouchMove),r.img.removeEventListener("touchend",r.onTouchEnd),window.removeEventListener("resize",r.calcImgBoundsDebounced),window.removeEventListener("scroll",r.calcImgBoundsDebounced,!0)},r.onMouseEnter=function(){r.calcImgBounds()},r.onMouseMove=function(i){var s=r.props,o=s.mgMouseOffsetX,a=s.mgMouseOffsetY;if(r.imgBounds){var l=i.target,u=(i.clientX-r.imgBounds.left)/l.clientWidth,d=(i.clientY-r.imgBounds.top)/l.clientHeight;r.setState({mgOffsetX:o,mgOffsetY:a,relX:u,relY:d,showZoom:!0})}},r.onMouseOut=function(){r.setState({showZoom:!1})},r.onTouchStart=function(i){i.preventDefault(),r.calcImgBounds()},r.onTouchMove=function(i){if(i.preventDefault(),r.imgBounds){var s=i.target,o=r.props,a=o.mgTouchOffsetX,l=o.mgTouchOffsetY,u=(i.targetTouches[0].clientX-r.imgBounds.left)/s.clientWidth,d=(i.targetTouches[0].clientY-r.imgBounds.top)/s.clientHeight;u>=0&&d>=0&&u<=1&&d<=1?r.setState({mgOffsetX:a,mgOffsetY:l,relX:u,relY:d,showZoom:!0}):r.setState({showZoom:!1})}},r.onTouchEnd=function(){r.setState({showZoom:!1})},r.calcImgBounds=function(){r.img&&(r.imgBounds=r.img.getBoundingClientRect())},r.render=function(){var i=r.props,s=i.src,o=i.width,a=i.height,l=i.className,u=i.zoomImgSrc,d=i.zoomFactor,f=i.mgHeight,p=i.mgWidth,y=i.mgBorderWidth;i.mgMouseOffsetX,i.mgMouseOffsetY,i.mgTouchOffsetX,i.mgTouchOffsetY;var w=i.mgShape,P=i.mgShowOverflow,C=eV(i,["src","width","height","className","zoomImgSrc","zoomFactor","mgHeight","mgWidth","mgBorderWidth","mgMouseOffsetX","mgMouseOffsetY","mgTouchOffsetX","mgTouchOffsetY","mgShape","mgShowOverflow"]),_=r.state,x=_.mgOffsetX,k=_.mgOffsetY,N=_.relX,D=_.relY,R=_.showZoom,S="magnifying-glass";return R&&(S+=" visible"),w==="circle"&&(S+=" circle"),Je.createElement("div",{className:"magnifier "+l,style:{width:o,height:a,overflow:P?"visible":"hidden"}},Je.createElement("img",Fg({className:"magnifier-image",src:s,width:"100%",height:"100%"},C,{onLoad:function(){r.calcImgBounds()},ref:function(g){r.img=g}})),r.imgBounds&&Je.createElement("div",{className:S,style:{width:p,height:f,left:"calc("+N*100+"% - "+p/2+"px + "+x+"px - "+y+"px)",top:"calc("+D*100+"% - "+f/2+"px + "+k+"px - "+y+"px)",backgroundImage:'url("'+(u||s)+'")',backgroundPosition:"calc("+N*100+"% + "+p/2+"px - "+N*p+"px) calc("+D*100+"% + "+f/2+"px - "+D*p+"px)",backgroundSize:d*r.imgBounds.width+"% "+d*r.imgBounds.height+"%",borderWidth:y}}))},r.onMouseMove=ww(r.onMouseMove.bind(r),20,{trailing:!1}),r.onTouchMove=ww(r.onTouchMove.bind(r),20,{trailing:!1}),r.calcImgBoundsDebounced=jM(r.calcImgBounds,200),r}return e.defaultProps={width:"100%",height:"auto",className:"",zoomImgSrc:"",zoomFactor:1.5,mgWidth:150,mgHeight:150,mgBorderWidth:2,mgShape:"circle",mgShowOverflow:!0,mgMouseOffsetX:0,mgMouseOffsetY:0,mgTouchOffsetX:-50,mgTouchOffsetY:-50},e}(W.PureComponent);const iV=async(t,e)=>{try{const n=Tt(Me,"users",t);(await jn(n)).data().wishlist.includes(e)?(await D2(n,{wishlist:x9(e)}),console.log("Book removed from wishlist")):(await D2(n,{wishlist:w9(e)}),console.log("Book added to wishlist"))}catch(n){console.error("Error updating wishlist: ",n)}},sV=async(t,e)=>{try{const n=Tt(Me,"users",t),r=await jn(n);return r.exists()?(r.data().wishlist||[]).includes(e):(console.log("User not found"),!1)}catch(n){return console.error("Error fetching wishlist status:",n),!1}},oV=()=>{const t=Ut.currentUser,{uid:e}=t,[n,r]=W.useState(!1),[i,s]=W.useState(null),{id:o}=ZN(),a=Eo();W.useEffect(()=>{l(),u()},[o]);const l=async()=>{try{const y=Tt(Me,"approvedBooks",o),w=await jn(y);w.exists()?s({id:w.id,...w.data()}):console.log("No book found with the provided ID.")}catch(y){console.error("Error fetching book:",y)}},u=async()=>{const y=await sV(e,o);r(y)},d=async()=>{await iV(e,o),r(!n)},f=`${window.location.origin}${a.pathname}`,p=y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(y);return i?h.jsx("div",{className:"container mx-auto mt-5 mb-6 px-6 py-8 bg-purple-100 rounded-3xl",children:h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-20  ",children:[h.jsx("div",{children:h.jsx("div",{className:"sticky top-8 w-full h-96 sm:h-[680px] flex-shrink-0 overflow-hidden rounded-lg",children:h.jsx(rV,{src:i.images[0],zoomFactor:1.65,alt:i.title,className:"w-full shadow-lg h-full object-cover",style:{width:"100%",height:"auto",objectFit:"cover",display:"block",cursor:"crosshair"}})})}),h.jsxs("div",{children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:i.title}),h.jsxs("p",{className:"text-xl text-gray-600",children:["by ",i.author]})]}),h.jsx("div",{className:"flex items-baseline gap-4 mb-6",children:h.jsxs("div",{className:"flex items-center justify-between w-full",children:[h.jsx("div",{className:"flex flex-col",children:i.availability==="rent"?h.jsxs(h.Fragment,{children:[h.jsxs("span",{className:"text-3xl font-bold text-btnColor",children:[p(i.perWeekPrice),"/week"]}),i.originalPrice>0&&h.jsxs("span",{className:"text-sm text-gray-500",children:["Original Price: ",p(i.originalPrice)]})]}):h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"text-3xl font-bold text-emerald-600",children:p(i.sellingPrice)}),i.originalPrice>i.sellingPrice&&h.jsx("span",{className:"text-sm text-gray-500 line-through",children:p(i.originalPrice)})]})}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("button",{onClick:d,className:"p-2 text-gray-500 hover:text-red-400 transition-colors duration-200",children:h.jsx(ke,{icon:n?fN:sM,className:`${n&&"text-red-500"} text-2xl`})}),h.jsx(mM,{data:{text:`Check out "${i.title}" by ${i.author} - A must-read book!`,url:f,title:`KitabKunj - ${i.title}`},onClick:()=>console.log("shared successfully!"),children:h.jsx("button",{className:"p-2 text-gray-500 hover:text-blue-500 transition-colors duration-200",children:h.jsx(ke,{icon:oN,className:"text-2xl"})})})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 gap-4 mb-8",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(ke,{icon:cN,className:"text-gray-400 w-5 mr-2"}),h.jsx("span",{className:"text-gray-700",children:"Condition: "}),h.jsx("span",{className:`ml-1 font-medium uppercase ${i.condition==="new"?"text-emerald-600":"text-amber-600"}`,children:i.condition})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(ke,{icon:lN,className:"text-gray-400 w-5 mr-2"}),h.jsx("span",{className:"text-gray-700",children:"Category: "}),h.jsx("span",{className:"ml-1 font-medium text-gray-900",children:i.category})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(ke,{icon:eg,className:"text-gray-400 w-5 mr-2"}),h.jsx("span",{className:"text-gray-700",children:"Availability: "}),h.jsx("span",{className:"ml-1 font-medium text-gray-900 capitalize",children:i.availability})]})]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),h.jsx("p",{className:"text-gray-600 leading-relaxed",children:h.jsx(lu,{desc:i.description,size:300})})]})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"bg-green-50 rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Product Details"}),h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Edition:"}),h.jsx("span",{className:"text-gray-900",children:i.edition})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Language:"}),h.jsx("span",{className:"text-gray-900",children:i.language})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Publish Year:"}),h.jsx("span",{className:"text-gray-900",children:i.publishYear})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-gray-600",children:"Seller:"}),h.jsx("span",{className:"text-gray-900",children:i.sellerName})]})]})]}),h.jsxs("div",{className:"mt-6 bg-yellow-50 rounded-lg p-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delivery Information"}),h.jsxs("div",{className:"flex items-center mb-3",children:[h.jsx(ke,{icon:gN,className:"text-gray-400 w-5 mr-2"}),h.jsx("span",{className:"text-gray-700",children:"Delivery Charge: 50 on all orders"})]}),h.jsx("div",{className:"mb-3",children:h.jsx("span",{className:"text-gray-700",children:"No return policy is available."})}),h.jsxs("button",{className:"w-full px-6 py-3 bg-gradient-to-t from-primaryColor to-secondaryColor rounded-3xl text-white text-xl font-bold shadow-lg transition-colors duration-300 ease-in-out hover:bg-gradient-to-t hover:from-secondaryColor hover:to-primaryColor",children:[h.jsx(ke,{icon:vN,className:"mr-2"}),i.availability==="rent"?"Rent Now":"Buy Now"]}),i.availability==="rent"&&h.jsxs("p",{className:"mt-4 text-sm text-gray-600",children:["Enjoy reading with our flexible rental option. Rent the book for ",i.perWeekPrice,"/week and return it anytime!"]})]})]})]})}):h.jsx("div",{children:"Loading..."})},aV=async t=>{if(!t.trim())return[];const e=Lt(Me,"approvedBooks"),n=new Set,r=t.trim(),i=r.toLowerCase(),s=mh(r),a=/^\d{4}$/.test(r);console.log(a,r);let l=[];if(a){const p=yn(e,qe("publishYear",">=",r));l.push(p)}else{const p=[yn(e,qe("title",">=",s),qe("title","<=",s+"")),yn(e,qe("title",">=",i),qe("title","<=",i+""))],y=[yn(e,qe("author",">=",s),qe("author","<=",s+"")),yn(e,qe("author",">=",i),qe("author","<=",i+""))],w=[yn(e,qe("language",">=",s),qe("language","<=",s+"")),yn(e,qe("language",">=",i),qe("language","<=",i+""))];l=[...p,...y,...w]}const u=l.map(p=>lr(p));(await Promise.all(u)).forEach(p=>{p.forEach(y=>{n.add(JSON.stringify({id:y.id,...y.data()}))})});const f=Array.from(n).map(p=>JSON.parse(p));return console.log("Search results:",f),f},lV=()=>{const[t,e]=W.useState(""),[n,r]=W.useState(null),[i,s]=W.useState(!1),[o,a]=W.useState(!1),l=async d=>{d.preventDefault(),s(!0),a(!0);const f=await aV(t);r(f),s(!1)},u=d=>{const f=d.target.value;e(f),f===""&&(a(!1),r(null))};return h.jsxs("div",{className:"flex flex-col min-h-screen",children:[h.jsx("div",{className:"container mx-auto p-4",children:h.jsx(ds,{fullName:"Discover Your Next Read",bgName:"Search Book"})}),h.jsx("div",{className:"sticky top-20 bg-white z-10 py-4",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsx("form",{onSubmit:l,className:"max-w-2xl mx-auto",children:h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:t,onChange:u,placeholder:"Search by title, author, language, or publish year (e.g., 2000)",className:"w-full p-4 py-4 rounded-full border-2 border-gray-300 focus:border-primaryColor focus:outline-none transition-colors duration-300 pr-12"}),h.jsx("button",{type:"submit",className:"absolute h-12 w-12 right-2 top-1/2 transform -translate-y-1/2 bg-secondaryColor text-white rounded-full p-2 hover:bg-primaryColor transition-colors duration-300",children:h.jsx(ke,{icon:wN})})]})})})}),h.jsx("div",{className:"container mx-auto p-4 flex-grow",children:i?h.jsx("div",{className:"text-center",children:h.jsx(ke,{icon:bb,spin:!0,size:"3x",className:"text-blue-500"})}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:n&&n.length>0?n.map(d=>h.jsx(_k,{book:d},d.id)):h.jsx("p",{className:"text-center col-span-full text-xl text-gray-600",children:o?`No books found. ${/^\d{4}$/.test(t)?"Try a different year or search by title/author.":"Try a different search term!"}`:"Start your search to discover amazing books!"})})})]})},cV=t=>{W.useEffect(()=>{window.scrollTo(0,0)},[t])};var Jk={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xw=Je.createContext&&Je.createContext(Jk),uV=["attr","size","title"];function dV(t,e){if(t==null)return{};var n=hV(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hV(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(this,arguments)}function Ew(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ew(Object(n),!0).forEach(function(r){fV(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ew(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fV(t,e,n){return e=pV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pV(t){var e=mV(t,"string");return typeof e=="symbol"?e:e+""}function mV(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eI(t){return t&&t.map((e,n)=>Je.createElement(e.tag,Oh({key:n},e.attr),eI(e.child)))}function nv(t){return e=>Je.createElement(gV,Rh({attr:Oh({},t.attr)},e),eI(t.child))}function gV(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=dV(t,uV),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Je.createElement("svg",Rh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Oh(Oh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Je.createElement("title",null,s),t.children)};return xw!==void 0?Je.createElement(xw.Consumer,null,n=>e(n)):e(Jk)}function yV(t){return nv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256C0 376 82.7 476.8 194.2 504.5V334.2H141.4V256h52.8V222.3c0-87.1 39.4-127.5 125-127.5c16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1c-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287V510.1C413.8 494.8 512 386.9 512 256h0z"},child:[]}]})(t)}function vV(t){return nv({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M13.0281 2.00073C14.1535 2.00259 14.7238 2.00855 15.2166 2.02322L15.4107 2.02956C15.6349 2.03753 15.8561 2.04753 16.1228 2.06003C17.1869 2.1092 17.9128 2.27753 18.5503 2.52503C19.2094 2.7792 19.7661 3.12253 20.3219 3.67837C20.8769 4.2342 21.2203 4.79253 21.4753 5.45003C21.7219 6.0867 21.8903 6.81337 21.9403 7.87753C21.9522 8.1442 21.9618 8.3654 21.9697 8.58964L21.976 8.78373C21.9906 9.27647 21.9973 9.84686 21.9994 10.9723L22.0002 11.7179C22.0003 11.809 22.0003 11.903 22.0003 12L22.0002 12.2821L21.9996 13.0278C21.9977 14.1532 21.9918 14.7236 21.9771 15.2163L21.9707 15.4104C21.9628 15.6347 21.9528 15.8559 21.9403 16.1225C21.8911 17.1867 21.7219 17.9125 21.4753 18.55C21.2211 19.2092 20.8769 19.7659 20.3219 20.3217C19.7661 20.8767 19.2069 21.22 18.5503 21.475C17.9128 21.7217 17.1869 21.89 16.1228 21.94C15.8561 21.9519 15.6349 21.9616 15.4107 21.9694L15.2166 21.9757C14.7238 21.9904 14.1535 21.997 13.0281 21.9992L12.2824 22C12.1913 22 12.0973 22 12.0003 22L11.7182 22L10.9725 21.9993C9.8471 21.9975 9.27672 21.9915 8.78397 21.9768L8.58989 21.9705C8.36564 21.9625 8.14444 21.9525 7.87778 21.94C6.81361 21.8909 6.08861 21.7217 5.45028 21.475C4.79194 21.2209 4.23444 20.8767 3.67861 20.3217C3.12278 19.7659 2.78028 19.2067 2.52528 18.55C2.27778 17.9125 2.11028 17.1867 2.06028 16.1225C2.0484 15.8559 2.03871 15.6347 2.03086 15.4104L2.02457 15.2163C2.00994 14.7236 2.00327 14.1532 2.00111 13.0278L2.00098 10.9723C2.00284 9.84686 2.00879 9.27647 2.02346 8.78373L2.02981 8.58964C2.03778 8.3654 2.04778 8.1442 2.06028 7.87753C2.10944 6.81253 2.27778 6.08753 2.52528 5.45003C2.77944 4.7917 3.12278 4.2342 3.67861 3.67837C4.23444 3.12253 4.79278 2.78003 5.45028 2.52503C6.08778 2.27753 6.81278 2.11003 7.87778 2.06003C8.14444 2.04816 8.36564 2.03847 8.58989 2.03062L8.78397 2.02433C9.27672 2.00969 9.8471 2.00302 10.9725 2.00086L13.0281 2.00073ZM12.0003 7.00003C9.23738 7.00003 7.00028 9.23956 7.00028 12C7.00028 14.7629 9.23981 17 12.0003 17C14.7632 17 17.0003 14.7605 17.0003 12C17.0003 9.23713 14.7607 7.00003 12.0003 7.00003ZM12.0003 9.00003C13.6572 9.00003 15.0003 10.3427 15.0003 12C15.0003 13.6569 13.6576 15 12.0003 15C10.3434 15 9.00028 13.6574 9.00028 12C9.00028 10.3431 10.3429 9.00003 12.0003 9.00003ZM17.2503 5.50003C16.561 5.50003 16.0003 6.05994 16.0003 6.74918C16.0003 7.43843 16.5602 7.9992 17.2503 7.9992C17.9395 7.9992 18.5003 7.4393 18.5003 6.74918C18.5003 6.05994 17.9386 5.49917 17.2503 5.50003Z"},child:[]}]})(t)}function _V(t){return nv({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.2048 2.25H21.5128L14.2858 10.51L22.7878 21.75H16.1308L10.9168 14.933L4.95084 21.75H1.64084L9.37084 12.915L1.21484 2.25H8.04084L12.7538 8.481L18.2048 2.25ZM17.0438 19.77H18.8768L7.04484 4.126H5.07784L17.0438 19.77Z"},child:[]}]})(t)}const wV=()=>h.jsxs("footer",{className:"bg-primaryColor text-white z-50 rounded-t-3xl mt-8 md:mt-0 ",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between p-8 md:px-32 px-5",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"font-semibold text-3xl pb-4",children:"Kitab Kunj"}),h.jsxs("div",{className:"flex gap-5 ml-3",children:[h.jsx(yV,{size:32,className:"hover:scale-110 cursor-pointer transition duration-300 ease-in-out"}),h.jsx(vV,{size:32,className:"hover:scale-110 cursor-pointer transition duration-300 ease-in-out"}),h.jsx(_V,{size:32,className:"hover:scale-110 cursor-pointer transition duration-300 ease-in-out"})]})]}),h.jsxs("div",{children:[h.jsx("h1",{className:"font-medium text-lg pb-4 pt-5 md:pt-0",children:"All Books"}),h.jsx("div",{className:"flex flex-col gap-2"})]}),h.jsx("div",{children:h.jsxs("div",{children:[h.jsx("h1",{className:"font-medium text-lg pb-4 pt-5 md:pt-0",children:"Company"}),h.jsx("div",{className:"flex flex-col gap-2"})]})}),h.jsxs("div",{className:"w-full md:w-1/4",children:[h.jsx("h1",{className:"font-medium text-lg pb-4 pt-5 md:pt-0",children:"Contact us"}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(Js,{to:"/",spy:!0,smooth:!0,duration:500,children:"Birgunj, Parsa, Nepal"}),h.jsx(Js,{to:"/",spy:!0,smooth:!0,duration:500,children:"noobs@development.com"}),h.jsx(Js,{to:"/",spy:!0,smooth:!0,duration:500,children:"+977 980-111-1234"})]})]})]}),h.jsx("div",{children:h.jsxs("p",{className:"text-center py-4",children:["developed by",h.jsx("span",{className:"text-black",children:" Noob Devs "}),""," | All rights reserved"]})})]}),xV=t=>(console.log(t),t?t.toDate().toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}):"No date available"),EV=()=>{const[t,e]=W.useState([]),[n,r]=W.useState(!0),[i,s]=W.useState(null),[o,a]=W.useState("all"),[l,u]=W.useState(""),d=Ut.currentUser;W.useEffect(()=>{f()},[d]);const f=async()=>{if(d)try{const _=yn(Lt(Me,"approvedBooks"),qe("sellerId","==",d.uid)),k=(await lr(_)).docs.map(N=>({id:N.id,...N.data()}));e(k)}catch(_){console.error("Error fetching books:",_)}finally{r(!1)}},p=_=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(_),y=t.filter(_=>{const x=o==="all"||_.availability===o,k=_.title.toLowerCase().includes(l.toLowerCase())||_.author.toLowerCase().includes(l.toLowerCase());return x&&k}),w=(_,x,k)=>h.jsxs("div",{className:`flex items-center space-x-3 bg-white/50 backdrop-blur-sm 
                    rounded-lg p-3 shadow-sm hover:shadow-md transition-all duration-300`,children:[h.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:h.jsx(ke,{icon:_,className:"w-4 h-4 text-blue-600"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-gray-500",children:x}),h.jsx("p",{className:"font-medium text-gray-800",children:k})]})]}),P=_=>{s(_),document.body.style.overflow="hidden"},C=()=>{s(null),document.body.style.overflow="auto"};return n?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx(ke,{icon:bb,spin:!0,size:"2x",className:"text-blue-500"})}):h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsx(ds,{fullName:"Listed on Platform",bgName:"My Books"}),h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8",children:[h.jsx("div",{className:"flex items-center space-x-4",children:h.jsx("input",{type:"text",placeholder:"Search by title or author...",value:l,onChange:_=>u(_.target.value),className:"border border-gray-300 rounded-lg p-2 focus:outline-none focus:border-blue-500"})}),h.jsxs("div",{className:"flex items-center space-x-4 bg-white p-2 rounded-lg shadow-sm",children:[h.jsx(ke,{icon:hN,className:"text-blue-500"}),h.jsxs("select",{value:o,onChange:_=>a(_.target.value),className:"border-none bg-transparent focus:outline-none cursor-pointer text-gray-700",children:[h.jsx("option",{value:"all",children:"All Books"}),h.jsx("option",{value:"sell",children:"For Sale"}),h.jsx("option",{value:"rent",children:"For Rent"}),h.jsx("option",{value:"donation",children:"For Donation"})]})]})]}),y.length===0?h.jsxs("div",{className:"text-center py-12",children:[h.jsx(ke,{icon:eg,size:"3x",className:"text-gray-400 mb-4"}),h.jsx("p",{className:"text-xl text-gray-600",children:"No books available for this filter."})]}):h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:y.map(_=>h.jsxs("div",{className:"relative aspect-[5/4] cursor-pointer rounded-xl overflow-hidden",onClick:()=>P(_),children:[h.jsx("img",{src:_.images[0]||"/placeholder-book.jpg",alt:_.title,className:"w-full h-full object-cover hover:object-contain"}),h.jsxs("div",{className:`absolute inset-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent
                        flex flex-col justify-end p-4`,children:[h.jsx("h2",{className:"text-white font-semibold text-lg mb-2 line-clamp-2",children:_.title}),h.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Posted ",xV(_.postedAt)]}),h.jsx("div",{className:"flex items-center",children:_.availability==="donation"?h.jsx("span",{className:"inline-block bg-green-500 text-white text-sm px-3 py-1 rounded-full",children:"For Donation"}):h.jsxs("span",{className:`inline-block text-white text-sm px-3 py-1 rounded-full
                              ${_.availability==="rent"?"bg-blue-500":"bg-purple-500"}`,children:["For ",_.availability==="rent"?"Rent":"Sale"]})})]})]},_.id))}),i&&h.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center p-4 z-50 backdrop-blur-sm",onClick:C,children:h.jsxs("div",{className:`bg-gradient-to-br from-slate-200 to-gray-100 rounded-3xl w-full max-w-5xl 
                    shadow-2xl transform transition-all duration-500 ease-out overflow-hidden`,onClick:_=>_.stopPropagation(),children:[h.jsx("div",{className:"relative h-14",children:h.jsx("button",{onClick:C,className:"absolute top-4 right-6",children:h.jsx(ke,{icon:os,size:"lg"})})}),h.jsx("div",{className:"p-4 md:p-8 pt-2 max-h-[90vh] overflow-y-auto",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:`aspect-w-3 aspect-h-4 rounded-2xl overflow-hidden 
                            shadow-xl group-hover:shadow-2xl transition-shadow duration-300`,children:h.jsx("img",{src:i.images[0]||"/placeholder-book.jpg",alt:i.title,className:"w-full h-[300px] md:h-[600px] object-cover"})}),i.availability!=="donation"&&h.jsxs("div",{className:`absolute top-4 right-4 bg-white/90 backdrop-blur-sm 
                    px-4 py-3 rounded-xl shadow-lg space-y-1`,children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-gray-500 text-sm",children:"Original Price:"}),h.jsx("p",{className:"text-gray-600 font-medium ml-2",children:p(i.originalPrice)})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("p",{className:"text-blue-600 text-sm font-medium",children:i.availability==="rent"?"Rental Price:":"Selling Price:"}),h.jsx("p",{className:"text-blue-600 font-bold ml-2",children:i.availability==="rent"?`${p(i.perWeekPrice)}/week`:p(i.sellingPrice)})]})]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsxs("div",{className:`px-5 py-2 rounded-full font-medium ${i.availability==="donation"?"bg-green-100 text-green-700 border-2 border-green-200":i.availability==="rent"?"bg-blue-100 text-blue-700 border-2 border-blue-200":"bg-purple-100 text-purple-700 border-2 border-purple-200"}`,children:[h.jsx(ke,{icon:Tb,className:"mr-2"}),i.availability.charAt(0).toUpperCase()+i.availability.slice(1)]}),h.jsxs("div",{className:`px-5 py-2 rounded-full font-medium capitalize ${i.condition==="New"?"bg-green-100 text-green-700 border-2 border-green-200":i.condition==="Like New"?"bg-blue-100 text-blue-700 border-2 border-blue-200":"bg-yellow-100 text-yellow-700 border-2 border-yellow-200"}`,children:[h.jsx(ke,{icon:S_,className:"mr-2"}),i.condition]})]})]}),h.jsxs("div",{className:"flex flex-col space-y-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold ",children:i.title}),h.jsxs("p",{className:"text-gray-500 mt-2 flex items-center",children:[h.jsx(ke,{icon:mc,className:"mr-2"}),"by ",i.author]})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[w(pN,"Category",i.category),w(dN,"Language",i.language),w(S_,"Edition",i.edition),w(nN,"Published",i.publishYear)]}),h.jsxs("div",{className:"bg-white/50 backdrop-blur-sm rounded-xl p-4 md:p-6 shadow-sm",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center",children:[h.jsx(ke,{icon:eg,className:"mr-2 text-blue-500"}),"Description"]}),h.jsx("p",{className:"text-gray-700 leading-relaxed max-h-[250px] overflow-y-auto",children:h.jsx(lu,{desc:i.description,size:250})})]})]})]})})]})})]})},bV=()=>{const{updatedUser:t}=Af(),[e,n]=W.useState(!0),r=Eo(),{pathname:i}=r;return cV(r),W.useEffect(()=>{const s=Sj(Ut,async o=>{if(o){if(o.uid){const a=await jn(Tt(Lt(Me,"users"),o.uid));if(a.exists()){const l=a.data();console.log(l),t(l)}}}else t(null);n(!1)});return()=>s()},[]),e?h.jsx(h.Fragment,{children:h.jsx(V7,{})}):h.jsxs(h.Fragment,{children:[!i.includes("/admin")&&h.jsx(QD,{}),h.jsx("div",{className:"min-h-[100dvh]",children:h.jsxs(hP,{children:[h.jsx(nn,{path:"/",element:h.jsx(aL,{})}),h.jsx(nn,{path:"/allbooks",element:h.jsx(Q7,{})}),h.jsx(nn,{path:"/sellbooks",element:h.jsx(Z7,{})}),h.jsx(nn,{path:"/rentbook",element:h.jsx(X7,{})}),h.jsx(nn,{path:"/auth",element:h.jsx(M7,{})}),h.jsx(nn,{path:"/profile",element:h.jsx(uL,{})}),h.jsx(nn,{path:"/myapproved",element:h.jsx(EV,{})}),h.jsx(nn,{path:"/addbook",element:h.jsx(G7,{})}),h.jsx(nn,{path:"/book/:id",element:h.jsx(oV,{})}),h.jsx(nn,{path:"/search",element:h.jsx(lV,{})}),h.jsxs(nn,{element:h.jsx(eM,{}),children:[h.jsx(nn,{path:"/admin/home",element:h.jsx(tM,{})}),h.jsx(nn,{path:"/admin/toapprove",element:h.jsx(rM,{})}),h.jsx(nn,{path:"/admin/approvedbooks",element:h.jsx(nM,{})}),h.jsx(nn,{path:"/admin/declineddbooks",element:h.jsx(iM,{})})]})]})}),h.jsx(Y7,{}),!i.includes("/admin")&&h.jsx(wV,{})]})};LE(document.getElementById("root")).render(h.jsx(W.StrictMode,{children:h.jsx(WD,{children:h.jsx(wP,{children:h.jsx(bV,{})})})}));
